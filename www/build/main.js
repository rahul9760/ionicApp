webpackJsonp([0],{

/***/ 10:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TasksServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var TasksServiceProvider = (function () {
    function TasksServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    TasksServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    TasksServiceProvider.prototype.getTasks = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.searchTasks = function (search) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks?page=1&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getTask = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getLinkedContactExternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/linked_contacts_external?task_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getLinkedContactInternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/linked_contacts_internal?task_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getLinkedDocuments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/linked_documents?task_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getLinkedInfrastructure = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/linked_infrastructure?task_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.getAttendees = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/attendees', _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.searchAttendees = function (search) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/search_attendees?search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.save = function (task) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/create', task, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.delete = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/delete', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.update = function (task) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/update', task, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.saveLinkedContactExternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/save_linked_contact_external', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.saveLinkedContactInternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/save_linked_contact_internal', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.saveLinkedInfrastructure = function (link) {
        var _this = this;
        console.log(link);
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/save_linked_infrastructure', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.saveLinkedDocument = function (link) {
        var _this = this;
        console.log(link);
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.searchContacts = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/search_contact_external?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.searchContactsInternal = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/search_contact_internal?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.deleteDocumentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.deleteContactExternalLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/delete_linked_contact_external', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.deleteInfrastructureLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/delete_linked_infrastructure', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.saveLinkedEquipment = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider.prototype.getLinkedEquipments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/linked_equipments?task_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    TasksServiceProvider.prototype.deleteEquipmentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'tasks/delete_linked_equipment', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    TasksServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]])
    ], TasksServiceProvider);
    return TasksServiceProvider;
}());

//# sourceMappingURL=tasks-service.js.map

/***/ }),

/***/ 100:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateArticleModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CreateArticleModal = (function () {
    function CreateArticleModal(viewCtrl, Notifications, EquipmentService, app) {
        this.viewCtrl = viewCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.app = app;
        this.models = [];
        this.article = { attrs_data: {} };
        this.levels = { one: [], two: [], three: [] };
        this.level = { one: '', two: '', three: '', model: '' };
        this.attributes = [];
        this.article_attributes = [];
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.reload = false;
        this.getLevels(1);
    }
    CreateArticleModal.prototype.getLevels = function (level) {
        var _this = this;
        switch (level) {
            case 1:
                this.Notifications.presentLoader();
                this.EquipmentService.getLevels(1, '')
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    if (data.error == undefined) {
                        _this.levels.one = data.levels_data;
                        _this.reload = false;
                    }
                    else {
                        _this.Notifications.presentToast('Please Request Again');
                        _this.reload = true;
                    }
                });
                break;
        }
    };
    CreateArticleModal.prototype.changeLevel = function (level, id) {
        var _this = this;
        this.Notifications.presentLoader();
        var where = '&parent_id=' + id;
        this.EquipmentService.getLevels(1, '', where)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            switch (level) {
                case 1:
                    _this.levels.two = data.levels_data;
                    break;
                case 2:
                    _this.levels.three = data.levels_data;
                    _this.levels_data_id = data.parent.parent_id;
                    break;
            }
        });
    };
    CreateArticleModal.prototype.changeModal = function () {
        var _this = this;
        this.Notifications.presentLoader();
        console.log(this.level);
        this.EquipmentService.getModels(1, '', this.level.three)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.models = data.models_data;
            _this.attributes = data.models_attrs;
        });
    };
    CreateArticleModal.prototype.getArticles = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.getArticleAttrs(this.level.three)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.article_attributes = data.attributes;
        });
    };
    CreateArticleModal.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    CreateArticleModal.prototype.create = function () {
        var _this = this;
        this.article.levels_data_id = this.level.three;
        this.article.model_data_id = this.level.model;
        this.EquipmentService.createArticle(this.article)
            .then(function (data) {
            if (data.status) {
                _this.dismiss();
            }
        });
    };
    CreateArticleModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/articles/articles.html"*/'<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Create Article\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span ion-text color="primary" showWhen="ios">Cancel</span>\n      </button>\n    </ion-buttons>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>Save</button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n\n<ion-list>\n  \n\n  <ion-list-header class="item_header_class" >\n      Level 1 \n  </ion-list-header>\n\n  <ion-item>\n    <ion-label>Level 1</ion-label>\n    <ion-select [(ngModel)]="level.one" (ionChange)="changeLevel(1,level.one)">\n      <ion-option *ngFor="let level of levels.one" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-list-header class="item_header_class" >\n      Level 2\n  </ion-list-header>\n  \n  <ion-item>\n    <ion-label>Level 2</ion-label>\n    <ion-select [(ngModel)]="level.two" (ionChange)="changeLevel(2,level.two)">\n        <ion-option *ngFor="let level of levels.two" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n  \n\n  <ion-list-header class="item_header_class" >\n      Level 3\n  </ion-list-header>\n\n  <ion-item>\n    <ion-label>Level 3</ion-label>\n    <ion-select [(ngModel)]="level.three"  (ionChange)="changeModal()">\n      <ion-option *ngFor="let level of levels.three" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-list-header class="item_header_class" >\n      Modal\n  </ion-list-header>\n    \n  <ion-item>\n    <ion-label>Model</ion-label>\n    <ion-select [(ngModel)]="level.model" (ionChange)="getArticles()">\n      <ion-option *ngFor="let model of models" [value]="model.id">{{model.attrs_data[attributes[0][\'id\']]}}</ion-option>\n    </ion-select>\n  </ion-item> \n\n  <div *ngFor="let attr of article_attributes" >\n\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n        {{ attr.name }}\n      </ion-list-header>\n\n      <ion-item >\n         \n         <input [class]="input_class" \n                type="text"\n                [(ngModel)]="article.attrs_data[attr.id]"\n                required \n                [placeholder]="attr.name" \n                *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                 />\n\n          <ion-datetime [class]="input_class" \n                        displayFormat="DD/MM/YYYY" \n                        [style.padding]="0"  \n                        pickerFormat="DD MMM YYYY" \n                        [(ngModel)]="article.attrs_data[attr.id]"\n                        [disabled]="attr.disabled" \n                        *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n          \n          <ion-select class="item-margin" \n                      [(ngModel)]="article.attrs_data[attr.id]"\n                      *ngIf=" attr.attr_type == \'list\' " \n                      [disabled]="attr.disabled" >\n            <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n          </ion-select>\n\n      </ion-item>\n\n  </div>\n\n</ion-list>\n\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/articles/articles.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"]])
    ], CreateArticleModal);
    return CreateArticleModal;
}());

//# sourceMappingURL=articles.js.map

/***/ }),

/***/ 103:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Login2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pages_register_register__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_pin_step1_step1__ = __webpack_require__(246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var Login2Page = (function () {
    function Login2Page(app, authService, globalVars, navCtrl, menu, events, Notifications, platform, Session) {
        this.app = app;
        this.authService = authService;
        this.globalVars = globalVars;
        this.navCtrl = navCtrl;
        this.menu = menu;
        this.events = events;
        this.Notifications = Notifications;
        this.platform = platform;
        this.Session = Session;
        this.type = 'password';
        this.showPass = false;
        this.dashboard = __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__["a" /* Dashboard */];
        this.registerPage = __WEBPACK_IMPORTED_MODULE_7__pages_register_register__["a" /* RegisterPage */];
        this.setPin = __WEBPACK_IMPORTED_MODULE_8__pages_pin_step1_step1__["a" /* Step1Page */];
        this.credentials = { username: '', password: '', fcm_token: '' };
        this.is_pincode = true;
        this.reload = false;
        this.menu = menu;
        this.user_pin = __WEBPACK_IMPORTED_MODULE_7__pages_register_register__["a" /* RegisterPage */];
        this.user_login = __WEBPACK_IMPORTED_MODULE_7__pages_register_register__["a" /* RegisterPage */];
        this.menu.swipeEnable(false);
    }
    Login2Page.prototype.login = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.authService.login(this.credentials)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.response = data;
                if (_this.response.status) {
                    _this.globalVars.setCurrentUser(_this.response.current_user);
                    _this.Session.setToken(_this.response.token);
                    _this.response.current_user.private_image_path = __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + _this.response.current_user.image_name + '&token=' + _this.response.token + '&type=profile_pic&thumb=true&quality=medium';
                    _this.Session.setUser(_this.response.current_user);
                    _this.Session.setLastUser(_this.response.current_user);
                    _this.events.publish('user:loggedin', _this.response.current_user);
                    _this.app.getRootNav().setRoot(_this.dashboard);
                }
                else {
                    _this.Notifications.presentToast(_this.response.message);
                }
            }
            else {
                _this.reload = true;
                _this.Notifications.presentToast('Timeout error');
            }
        });
    };
    Login2Page.prototype.register = function () {
        this.app.getRootNav().push(this.registerPage);
    };
    Login2Page.prototype.set_pin = function () {
        this.app.getRootNav().push(this.setPin);
    };
    Login2Page.prototype.changeTab = function (r) {
        this.is_pincode = r;
    };
    Login2Page.prototype.showPassword = function () {
        this.showPass = !this.showPass;
        if (this.showPass) {
            this.type = 'text';
        }
        else {
            this.type = 'password';
        }
    };
    Login2Page.prototype.numberRange = function (start, end) {
        var r = [];
        while (start <= end) {
            r.push(start);
            start++;
        }
        return r;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Login2Page.prototype, "navBar", void 0);
    Login2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-login2',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/login/login2/login2.html"*/'<ion-content padding>\n  <ion-navbar>\n  </ion-navbar>\n\n  <div>\n    <div class="logo">\n      <div *ngIf="platform.is(\'ios\')">\n        <img src="assets/img/track_my_document.png">\n      </div>\n      <div *ngIf="platform.is(\'android\')">\n        <img src="assets/img/track_my_document.png">\n      </div>\n      <div *ngIf="platform.is(\'windows\')">\n        <ion-img src="assets/img/track_my_document.png"></ion-img>\n      </div>\n    </div>\n     \n    <ion-list>\n      <ion-item>\n        <ion-input type="text" name="username" [(ngModel)]="credentials.username" placeholder="Username"></ion-input>\n      </ion-item>\n\n      <!-- <ion-item>\n        <ion-input type="{{type}}" name="password" [(ngModel)]="credentials.password" placeholder="Password"></ion-input>\n        <ion-icon name="ios-eye-outline" (click)="showPassword()" item-right></ion-icon>\n      </ion-item> -->\n    </ion-list>  \n    \n    <ion-grid>\n      <ion-row>\n        <ion-col col-10>\n          <ion-item>\n            <ion-input type="{{type}}" name="password" [(ngModel)]="credentials.password" placeholder="Password"></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-2>\n          <button ion-button color="light" (click)="showPassword()"><ion-icon name="ios-eye-outline"></ion-icon></button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n      \n    <button class="custom-button" block  ion-button (click)=\'login();\'>Login</button>\n    <button class="custom-button" block ion-button (click)=\'register();\'>Register</button>\n    <p class="mono-user">Click above to register as a mono user.</p>\n  </div>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/login/login2/login2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"],
            __WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */]])
    ], Login2Page);
    return Login2Page;
}());

//# sourceMappingURL=login2.js.map

/***/ }),

/***/ 11:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SessionHelper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var SessionHelper = (function () {
    function SessionHelper() {
        this.current_user = { username: '', image_path: '', email: '' };
    }
    SessionHelper.prototype.setToken = function (token) {
        window.localStorage.setItem('token', token);
    };
    SessionHelper.prototype.setFcmToken = function (token) {
        window.localStorage.setItem('fcm_token', token);
    };
    SessionHelper.prototype.getFcmToken = function () {
        return window.localStorage.getItem('fcm_token');
    };
    SessionHelper.prototype.getToken = function () {
        return window.localStorage.getItem('token');
    };
    SessionHelper.prototype.setNotificationCount = function (count) {
        window.localStorage.setItem('notifications', count);
    };
    SessionHelper.prototype.getNotificationCount = function () {
        return window.localStorage.getItem('notifications');
    };
    SessionHelper.prototype.setUser = function (user) {
        window.localStorage.setItem('user', JSON.stringify(user));
    };
    SessionHelper.prototype.setLastUser = function (user) {
        window.localStorage.setItem('last_logged_in_user_pin', JSON.stringify(user));
    };
    SessionHelper.prototype.getUser = function () {
        var cu = JSON.parse(window.localStorage.getItem('user'));
        this.current_user = cu ? cu : this.current_user;
        return this.current_user;
    };
    SessionHelper.prototype.getUrl = function () {
        return JSON.parse(window.localStorage.getItem('url'));
    };
    SessionHelper.prototype.setUrl = function (url) {
        if (url === void 0) { url = []; }
        window.localStorage.setItem('url', JSON.stringify(url));
    };
    SessionHelper.prototype.getLastUser = function () {
        return JSON.parse(window.localStorage.getItem('last_logged_in_user_pin'));
    };
    SessionHelper.prototype.clearSession = function () {
        window.localStorage.removeItem('token');
        window.localStorage.removeItem('user');
        window.localStorage.removeItem('url');
    };
    SessionHelper.prototype.isLoggedIn = function () {
        return null !== this.getToken();
    };
    SessionHelper.prototype.setTouchID = function (value) {
        window.localStorage.setItem('touch_id', value);
    };
    SessionHelper.prototype.getTouchID = function () {
        var touch_id = window.localStorage.getItem('touch_id');
        return touch_id === 'true' ? true : false;
    };
    SessionHelper = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], SessionHelper);
    return SessionHelper;
}());

//# sourceMappingURL=session.helper.js.map

/***/ }),

/***/ 12:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DocumentServiceProvider = (function () {
    function DocumentServiceProvider(http, session) {
        this.http = http;
        this.session = session;
        console.log("Session :" + this.session.getToken());
    }
    DocumentServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    DocumentServiceProvider.prototype.getDocuments = function (page, search, doc_ids) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (doc_ids === void 0) { doc_ids = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search + '&doc_ids=' + doc_ids, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getSharedDocuments = function (org_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/shared_documents?org_id=' + org_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getSharedDocument = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/shared_document?user_id=' + res.user_id + "&org_id=" + res.org_id + "&doc_id=" + res.doc_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getDocument = function (id, org_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/' + id + '?org_id=' + org_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedAgendas = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_agendas?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedInfrastructure = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_infrastructure?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedEquipments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_equipments?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getCategories = function (org_id) {
        var _this = this;
        if (org_id === void 0) { org_id = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/categories?org_id=' + org_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.create = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/create', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.cancelSharedDocument = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/cancel_shared_document', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.createTag = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/create_tag', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.editTag = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/update_tag', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteTag = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_tag', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.shareDocument = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_shared_document', res, _this.getHeaders())
                .map(function (res) { return res; })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.updateSharedDocumentsPermissions = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/update_shared_document_permissions', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.searchUsers = function (srch) {
        var _this = this;
        var res = { search: srch };
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/search_accepted_users', res, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.sharedDocuments = function (id, page, search) {
        var _this = this;
        if (id === void 0) { id = 0; }
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/shared_documents?org_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.update = function (res) {
        var _this = this;
        console.log(res);
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/update', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.delete = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete/' + id, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteFiles = function (doc_id, files, org_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_files', { 'doc_id': doc_id, 'files': files, 'org_id': org_id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.renameFiles = function (files, doc_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/rename_files', { 'files': files, 'doc_id': doc_id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteFile = function (doc_id, file_id, type, indx) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_file?document_id=' + doc_id + '&file_id=' + file_id + '&type=' + type + '&index=' + indx, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.download = function (file) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/download?file_name=' + file + '&type=documents', _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
            });
        });
    };
    DocumentServiceProvider.prototype.updateRecent = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/update_recent_document?id=' + id, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.viewDocument = function (r) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/view_document_file', r, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data.return;
                resolve(_this.data);
            }, function (err) {
                console.log(err);
            });
        });
    };
    DocumentServiceProvider.prototype.viewDocumentStep = function (r) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/view_steps', _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.applyConditions = function (conditions, subcategory, org_id, shared_with) {
        var _this = this;
        if (org_id === void 0) { org_id = ''; }
        if (shared_with === void 0) { shared_with = ''; }
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/conditions', { conditions: conditions, subcategory: subcategory, org_id: org_id, shared_with: shared_with }, _this.getHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.getSubCategories = function (category_ids, org_id) {
        var _this = this;
        if (org_id === void 0) { org_id = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/sub_categories?org_id=' + org_id + '&category_ids=' + category_ids, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getDocumentsBySubcats = function (sub_category_ids, page, search, org_id, shared_with) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        if (org_id === void 0) { org_id = ''; }
        if (shared_with === void 0) { shared_with = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/documentsBysubs?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search + '&sub_category_ids=' + sub_category_ids + '&org_id=' + org_id + '&shared_with=' + shared_with, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                console.log(err);
            });
        });
    };
    DocumentServiceProvider.prototype.getShareDocumentCount = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/shared_document_count', _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.getSharedDocumentOrgs = function (is) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/shared_document_orgs_count?is=' + is, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.searchDocuments = function (val, org_id, shared_with) {
        var _this = this;
        if (org_id === void 0) { org_id = 0; }
        if (shared_with === void 0) { shared_with = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val + '&org_id=' + org_id + '&shared_with=' + shared_with, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data.documents;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.searchSharedDocuments = function (val, org_id, shared_with) {
        var _this = this;
        if (org_id === void 0) { org_id = 0; }
        if (shared_with === void 0) { shared_with = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val + '&org_id=' + org_id + '&shared_with=' + shared_with, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.getAttributes = function (cat_id, scat_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/get_attributes?cat_id=' + cat_id + '&scat_id=' + scat_id, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    // getAttributes(cat_id,scat_id) {
    //   return new Promise<any>(resolve => {
    //     this.http.get(config.api_url + 'documents/get_attributes?cat_id='+cat_id+'&scat_id='+scat_id , this.getHeaders()).subscribe((res)=>{
    //            console.log(res);
    //            this.data = res;
    //            resolve(this.data);
    //        });
    //   });
    // }
    DocumentServiceProvider.prototype.getTags = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/tags', _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.saveLinkedAgenda = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_agenda', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedContactExternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_contacts_external?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedContactInternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_contacts_internal?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.saveLinkedContactExternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_contact_external', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.saveLinkedContactInternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_contact_internal', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.saveLinkedInfrastructure = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_infrastructure', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.saveLinkedEquipment = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteInfrastructureLink = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_infrastructure', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteEquipmentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_equipment', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteLinkedContactExternal = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_contact_external', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteLinkedContactInternal = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_contact_internal', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteLinkedDocument = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteAgendaLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_agenda', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.deleteContactExternalLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/delete_linked_contact_external', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider.prototype.getLinkedDocumentDocuments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/linked_documents?document_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    DocumentServiceProvider.prototype.saveDocumentDocument = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    DocumentServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */]])
    ], DocumentServiceProvider);
    return DocumentServiceProvider;
}());

//# sourceMappingURL=document-service.js.map

/***/ }),

/***/ 125:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedAgendaWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_create_create__ = __webpack_require__(474);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LinkedAgendaWithDocuments = (function () {
    function LinkedAgendaWithDocuments(navCtrl, params, DocumentService, fns, TasksService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.DocumentService = DocumentService;
        this.fns = fns;
        this.TasksService = TasksService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.have_more = false;
    }
    LinkedAgendaWithDocuments.prototype.ionViewWillEnter = function () {
        this.getAgendas();
    };
    LinkedAgendaWithDocuments.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedAgendas(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.agendas = data;
                if (_this.agendas.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.agendas.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedAgendaWithDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    LinkedAgendaWithDocuments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getLinkedAgendas(this.params.get('document_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    _this.backup = _this.agendas.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedAgendaWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.task_id);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedAgendaWithDocuments.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__agenda_show_show__["a" /* AgendaDescription */], { id: id });
    };
    LinkedAgendaWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_create_create__["a" /* CreateLinkedAgendaForDocuments */], { document_id: this.params.get('document_id') });
    };
    LinkedAgendaWithDocuments.prototype.delete = function (agenda) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.DocumentService.deleteAgendaLink(agenda.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedAgendaWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.agendas = this.backup.filter(function (agenda) {
                var condition = _this.fns.match(agenda.name, val) ||
                    _this.fns.match(agenda.description, val) ||
                    _this.fns.match(agenda.relation_type, val);
                return (condition);
            });
        }
        else {
            this.agendas = this.backup;
        }
    };
    LinkedAgendaWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/agenda/agenda.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let agenda of agendas; let i = index " >\n        <div (click)=\'view(agenda.task_id);\' >\n          <h2>{{agenda.name}}</h2>\n          <p text-capitalize>{{agenda.description}} - {{agenda.relation_type}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(agenda);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && agendas?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add" ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/agenda/agenda.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_4__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedAgendaWithDocuments);
    return LinkedAgendaWithDocuments;
}());

//# sourceMappingURL=agenda.js.map

/***/ }),

/***/ 126:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsConditions; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_shared_documents_shared__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DocumentsConditions = (function () {
    function DocumentsConditions(navCtrl, params, session, globalVars, DocumentService, Notification, alertCtrl) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.params = params;
        this.session = session;
        this.globalVars = globalVars;
        this.DocumentService = DocumentService;
        this.Notification = Notification;
        this.alertCtrl = alertCtrl;
        this.conditions = [];
        this.cat_attrs_keys = [];
        this.sub_cat_attrs_keys = [];
        this.category = [];
        this.subcategory = [];
        this.documents = [];
        this.reload = false;
        this.operators = [
            { value: 'equal_to', title: '=' },
            { value: 'less_than', title: '<' },
            { value: 'greater_than', title: '>' },
            { value: 'less_than_equal_to', title: '<=' },
            { value: 'greater_than_equal_to', title: '>=' },
            { value: 'like', title: 'LIKE' }
        ];
        this.current_user = this.session.getUser();
        this.callback = this.params.data.callback;
        this.Notification.presentLoader();
        this.org_name = this.params.data.org_name;
        console.log(this.params);
        this.DocumentService.getCategories(this.params.data.shared_with == 'me' ? this.params.data.org_id : '')
            .then(function (data) {
            //this.Notification.dismissLoader();
            _this.categories = data.categories;
            _this.subcategories = data.subcategories;
            if (_this.params.data.category && _this.params.data.subcategory) {
                _this.category = [];
                _this.subcategory = [];
                _this.categories.forEach(function (ct) {
                    _this.category.push(ct.id);
                });
                _this.subcategories.forEach(function (st) {
                    _this.subcategory.push(st.id);
                });
                _this.conditions = _this.params.data.conditions.length > 0 ?
                    _this.params.data.conditions :
                    [_this.conditonObj()];
                if (_this.category.length > 0 && _this.subcategory.length > 0) {
                    _this.subCatChange(false);
                }
            }
            else {
                _this.category = _this.params.data.category;
                _this.subcategory = _this.params.data.subcategory;
                _this.conditions = _this.params.data.conditions.length > 0 ?
                    _this.params.data.conditions :
                    [_this.conditonObj()];
                if (_this.category.length > 0 && _this.subcategory.length > 0) {
                    _this.subCatChange(false);
                }
            }
        });
    }
    DocumentsConditions.prototype.ionViewDidLoad = function () {
    };
    DocumentsConditions.prototype.userLang = function (data, type) {
        if (type === void 0) { type = 'json'; }
        var current_user = this.session.getUser();
        var d;
        if (type == 'json') {
            d = JSON.parse(data);
        }
        else {
            d = data;
        }
        var res;
        if (d[current_user.user_lang_id]) {
            res = d[current_user.user_lang_id];
        }
        else {
            res = d[Object.keys(d)[0]];
        }
        return res;
    };
    DocumentsConditions.prototype.catChange = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getSubCategories(this.category.join(','), this.params.data.org_id)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.subcategories = data.subcategories;
        });
    };
    DocumentsConditions.prototype.subCatChange = function (is_loading) {
        var _this = this;
        if (is_loading === void 0) { is_loading = true; }
        console.log(this.category);
        console.log(this.subcategory);
        if (this.category.length > 0 && this.subcategory.length > 0) {
            if (is_loading) {
                this.Notification.presentLoader();
            }
            this.DocumentService.getDocumentsBySubcats(this.subcategory.join(','), 1, '', this.params.data.shared_with == 'me' ? this.params.data.org_id : '', this.params.data.shared_with)
                .then(function (data) {
                _this.Notification.dismissLoader();
                if (data.error == undefined) {
                    _this.documents = data.documents;
                    _this.cat_attrs = data.cat_attrs;
                    _this.sub_cat_attrs = data.sub_cat_attrs;
                    _this.cat_attrs_keys = Object.keys(data.cat_attrs);
                    _this.sub_cat_attrs_keys = Object.keys(data.sub_cat_attrs);
                }
                else {
                    _this.reload = true;
                    _this.Notification.presentToast('Timeout error');
                }
            });
        }
        else {
            this.Notification.presentToast('Please select the required fields');
        }
    };
    DocumentsConditions.prototype.addConditions = function () {
        var last = this.conditions[this.conditions.length - 1];
        if (this.conditions.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].conditions_limit) {
            if (last.attribute != '' && last.operator != '' && last.value != '') {
                var obj = this.conditonObj();
                this.conditions.push(obj);
            }
            else {
                this.Notification.presentToast('Please fill the required fields', 2000);
            }
        }
        else {
            this.Notification.presentToast('you have exceeded your limit', 2000);
        }
    };
    DocumentsConditions.prototype.removeCondition = function (index) {
        var _this = this;
        if (index > -1) {
            var alert_1 = this.alertCtrl.create({
                title: 'Remove condition',
                message: 'Do you want to remove this condition?',
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: function () {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Ok',
                        handler: function () {
                            _this.conditions.splice(index, 1);
                        }
                    }
                ]
            });
            alert_1.present();
        }
    };
    DocumentsConditions.prototype.resetConditions = function () {
        this.conditions = [this.conditonObj()];
    };
    DocumentsConditions.prototype.applyConditions = function () {
        var _this = this;
        var last = this.conditions[this.conditions.length - 1];
        if (this.conditions.length == 1 || (last.attribute != '' && last.operator != '' && last.value != '')) {
            this.Notification.presentLoader();
            this.DocumentService.applyConditions(this.conditions, this.subcategory, this.params.data.org_id, this.params.data.shared_with)
                .then(function (data) {
                _this.Notification.dismissLoader();
                _this.globalVars.setAppliedConditions(_this.conditions);
                _this.navCtrl.push(_this.callback == 'list' ? __WEBPACK_IMPORTED_MODULE_4__documents_list_documents_list__["a" /* DocumentsList */] : __WEBPACK_IMPORTED_MODULE_3__documents_shared_documents_shared__["a" /* DocumentsShared */], { documents: data.documents,
                    cat_attrs: _this.cat_attrs,
                    category: _this.category,
                    users: data.users,
                    subcategory: _this.subcategory,
                    conditions: _this.conditions,
                    org_id: _this.params.data.org_id,
                    shared_with: _this.params.data.shared_with,
                    org_name: _this.params.data.org_name,
                    permissions: data.permissions,
                    sub_cat_attrs: _this.sub_cat_attrs });
            });
        }
        else {
            this.Notification.presentToast('Please fill the required fields', 2000);
        }
    };
    DocumentsConditions.prototype.changeType = function (i) {
        var other = JSON.parse(this.conditions[i].other);
        this.conditions[i].attribute = other.id;
        this.conditions[i].attr_for = other.for;
        switch (other.type) {
            case 'text':
                this.conditions[i].type = 'text';
                this.conditions[i].operators = [
                    { value: 'equal_to', title: '=' },
                    { value: 'like', title: 'LIKE' }
                ];
                break;
            case 'number':
                this.conditions[i].type = 'number';
                this.conditions[i].operators = this.operators;
                break;
            case 'date':
                this.conditions[i].type = 'date';
                this.conditions[i].operators = [
                    { value: 'equal_to', title: '=' },
                    { value: 'less_than', title: '<' },
                    { value: 'greater_than', title: '>' },
                    { value: 'less_than_equal_to', title: '<=' },
                    { value: 'greater_than_equal_to', title: '>=' }
                ];
                break;
        }
        // delete this.conditions[i].other;
    };
    DocumentsConditions.prototype.conditonObj = function () {
        var obj = { attribute: '',
            operator: '',
            operators: this.operators,
            value: '',
            logical: 'AND',
            type: 'text',
            other: '',
            attr_for: 'cat' };
        return obj;
    };
    DocumentsConditions = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-documents-conditions',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_conditions/documents_conditions.html"*/'\n<ion-header>\n\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>Documents Conditions</ion-title>\n    <ion-buttons right>\n      <button ion-button (click)="resetConditions()" clear>Reset</button>\n    </ion-buttons>\n  </ion-navbar>\n \n</ion-header>\n\n\n<ion-content padding>\n\n  <div class="company-bannner" *ngIf="org_name"  > \n    <div text-capitalize >\n      <span class="company-title"> {{org_name}} </span>\n    </div>\n  </div>\n\n\n  <ion-item class="pd-bt-10"  *ngIf="!reload">\n    <ion-label>Category</ion-label>\n    <ion-select [(ngModel)]="category" multiple="true" (ionChange)="catChange()">\n      <ion-option *ngFor="let ct of categories" value="{{ct.id}}" >{{ct.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n  \n  <ion-item class="pd-bt-10"  *ngIf="!reload">\n    <ion-label>Sub Category</ion-label>\n    <ion-select [(ngModel)]="subcategory" multiple="true" (ionChange)="subCatChange()">\n      <ion-option *ngFor="let st of subcategories" value="{{st.id}}"> {{userLang(st.name)}}</ion-option>\n    </ion-select>\n  </ion-item>\n  \n  <div *ngFor=" let cond of conditions; let i = index " >\n    \n    <div class="my-list-condition-ios"  *ngIf=" i != 0 " >\n     \n      <div class="my-line-ios">\n      </div>\n\n      <div class="wrapper-ion">\n        <ion-item class="my-list-item-ios">\n          <ion-select placeholder= "Select" [(ngModel)]="conditions[i].logical" >\n            <ion-option value=\'AND\'> AND </ion-option>\n            <ion-option value=\'OR\'> OR </ion-option>\n          </ion-select>\n        </ion-item>\n      </div>\n\n    </div>\n    \n\n    <ion-card class="card card-ios item-card-custom">\n       \n        <ion-card-header>\n          <span>Condition {{i + 1}}</span>\n          <ion-icon (click)="removeCondition(i)" *ngIf="i > 0" style="float: right;color:#EF4646;font-size: 1.6em;" ios="ios-close-circle"  md="md-close-circle"></ion-icon>\n        </ion-card-header>\n\n        <ion-card-content>\n\n          <ion-item class="custom-item" >\n           <ion-label>Attributes</ion-label>\n           <ion-select [(ngModel)]="conditions[i].other"  (ionChange)="changeType(i)">\n              <ion-option  value=\'{ "id": "designation" , "for":"system_attr", "type" : "text" }\' > Designation </ion-option>\n              <ion-option *ngFor="let ck of cat_attrs_keys;" value=\'{ "id":{{cat_attrs[ck].id}},"for":"cat", "type" : "{{cat_attrs[ck].attr_type}}" }\'  > {{ userLang( cat_attrs[ck].name , \'object\') }} </ion-option>\n              <ion-option *ngFor="let sk of sub_cat_attrs_keys;" value=\'{ "id":{{sub_cat_attrs[sk].id}},"for":"subcat", "type" : "{{sub_cat_attrs[sk].attr_type}}" }\' > {{ userLang( sub_cat_attrs[sk].name , \'object\') }} </ion-option>\n            </ion-select>\n          </ion-item>\n\n          <ion-item class="custom-item" >\n           <ion-label>Operators</ion-label>\n           <ion-select [(ngModel)]="conditions[i].operator">\n              <ion-option *ngFor="let op of conditions[i].operators;" value="{{op.value}}" > {{op.title}} </ion-option>\n            </ion-select>\n          </ion-item>\n          \n          <ion-item>\n            <ion-input [type]="conditions[i].type" *ngIf="conditions[i].type != \'date\'" [(ngModel)]="conditions[i].value"  placeholder="Value"> </ion-input>\n           \n            <ion-datetime displayFormat="DD/MM/YYYY" *ngIf="conditions[i].type == \'date\'"  pickerFormat="DD MMM YYYY" [(ngModel)]="conditions[i].value" placeholder="Value" ></ion-datetime>\n            \n           <!--  <ion-select [(ngModel)]="conditions[i].operator" *ngIf="conditions[i].type == \'list\' && conditions[i].type == \'cat\'" >\n              <ion-option *ngFor="let op of conditions[i].operators;" value="{{op.value}}" > {{op.title}} </ion-option>\n            </ion-select>\n\n            <ion-select [(ngModel)]="conditions[i].operator" *ngIf="conditions[i].type == \'list\' && conditions[i].type == \'subcat\'" >\n              <ion-option *ngFor="let op of conditions[i].operators;" value="{{op.value}}" > {{op.title}} </ion-option>\n            </ion-select> -->\n\n          </ion-item>\n\n        </ion-card-content>\n\n    </ion-card>\n       \n  </div>\n\n\n  <ion-fab right bottom *ngIf="!reload"> \n    <button ion-fab (click)="addConditions()" color="dark"><ion-icon name="add"></ion-icon></button>\n  </ion-fab>\n\n   <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning"></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n</ion-content>\n\n<ion-footer>\n  <button block ion-button class="custom-button" (click)="applyConditions()" >Apply</button>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_conditions/documents_conditions.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_6__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"]])
    ], DocumentsConditions);
    return DocumentsConditions;
}());

//# sourceMappingURL=documents_conditions.js.map

/***/ }),

/***/ 127:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CameraHelper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CameraHelper = (function () {
    function CameraHelper(camera, actionSheetCtrl) {
        this.camera = camera;
        this.actionSheetCtrl = actionSheetCtrl;
    }
    CameraHelper.prototype.action = function (callback) {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: [
                {
                    text: 'Camera',
                    role: 'destructive',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA), callback);
                    }
                }, {
                    text: 'Gallery',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY), callback);
                    }
                }, {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    CameraHelper.prototype.captureImage = function (camera_options, callback) {
        this.camera.getPicture(camera_options).then(function (imageData) {
            callback(imageData);
        }, function (err) {
            callback(err);
        });
    };
    CameraHelper.prototype.options = function (source_type) {
        var camera_options = {
            quality: 80,
            destinationType: this.camera.DestinationType.FILE_URI,
            sourceType: source_type,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            allowEdit: true,
            correctOrientation: true,
            targetWidth: 500,
            targetHeight: 500
        };
        return camera_options;
    };
    CameraHelper = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ActionSheetController"]])
    ], CameraHelper);
    return CameraHelper;
}());

//# sourceMappingURL=camera.helper.js.map

/***/ }),

/***/ 128:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfrastructureLevels; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__list_list__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__ = __webpack_require__(13);
// AUTHOR : HS
// CREATED : 11-04-2018
// DESCRIPTION : Used to list, delete, show the levels.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var InfrastructureLevels = (function () {
    var InfrastructureLevels = InfrastructureLevels_1 = function InfrastructureLevels(navCtrl, params, Notifications, actionSheetCtrl, fns, InfrastructureService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.fns = fns;
        this.InfrastructureService = InfrastructureService;
        this.search = '';
        this.parents = [];
        this.getInfrastructureList();
    };
    InfrastructureLevels.prototype.getInfrastructureList = function (back) {
        var _this = this;
        if (back === void 0) { back = false; }
        this.parents = this.params.get('parents');
        this.parent_id = this.params.get('parent_id');
        this.location_id = this.params.get('location_id');
        this.count = this.params.get('count') || 0;
        this.Notifications.presentLoader();
        var where = 'parent_id=' + this.parent_id + '&location_id=' + this.location_id;
        this.InfrastructureService.getInfrastructureList(1, this.search, where)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data && data.location.name && data.location.location_name != 0) {
                _this.infrastructure = data;
            }
            _this.backup = data.locations.slice();
            if (_this.parent_id > 0) {
                _this.parents = [{
                        name: data.parent_location.name,
                        level_name: data.location.name,
                        id: data.parent_location.id,
                        parent_id: data.parent_location.parent_id
                    }];
            }
            if (!back) {
                _this.count++;
            }
        });
    };
    InfrastructureLevels.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Next Level',
                handler: function () {
                    _this.next(t);
                }
            }, {
                text: 'Description',
                handler: function () {
                    _this.view(t.id);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    InfrastructureLevels.prototype.next = function (t) {
        if (this.count < (this.infrastructure.levels_count - 1)) {
            this.params.data.parent_id = t.id;
            this.params.data.location_id = t.location_id;
            this.params.data.parents = [{
                    name: t.name,
                    id: t.id,
                    parent_id: t.parent_id
                }];
            this.navCtrl.push(InfrastructureLevels_1, { parent_id: t.id,
                parents: this.params.data.parents,
                location_id: t.location_id,
                count: this.count
            });
        }
        else {
            this.view(t.id);
        }
    };
    InfrastructureLevels.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__show_show__["a" /* InfrastructureDescription */], { id: id, 'parents': this.parents, 'count': this.count });
    };
    InfrastructureLevels.prototype.delete = function (id) {
    };
    //name conversion:singular to plural eg country = countries, state = states 
    InfrastructureLevels.prototype.location = function (name) {
        return name ? name[name.length - 1] == 'y' ?
            name.slice(0, -1) + 'ies' : name + 's' : 'Infrastructure';
    };
    InfrastructureLevels.prototype.back = function (parent, index) {
        this.params.data.parent_id = parent.parent_id;
        this.params.data.parents = [];
        this.count = this.count - 1;
        this.params.data.count = this.count;
        parent.parent_id == 0 ? this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__list_list__["a" /* Infrastructure */]) : this.getInfrastructureList(true);
    };
    InfrastructureLevels.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_create__["a" /* InfrastructureCreate */], {
            location_id: this.infrastructure.location.id,
            parent_id: this.params.get('parent_id'),
            count: this.count
        });
    };
    InfrastructureLevels.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure.locations = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure.locations = this.backup;
        }
    };
    InfrastructureLevels = InfrastructureLevels_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-levels',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/levels/levels.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title *ngIf="infrastructure">\n      {{location(infrastructure.location.name)}}\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n\n  <ion-segment color="primary">\n    <ion-segment-button>\n      {{infrastructure ? infrastructure.parent_location.name : \' \'}}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="infrastructure">\n    \n    <ion-item *ngFor="let t of infrastructure.locations">\n      <div (click)=\'next(t);\' >\n        <h2>{{t.name}}</h2>\n        <p>{{t.barcode + t.parent_barcode}}</p>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(t);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n\n    </ion-item>\n\n  </ion-list>\n\n  <ion-grid class="grid-reload" *ngIf="infrastructure && infrastructure.locations?.length == 0"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n          <p>No Record Found.</p>\n        </ion-col>\n      </ion-row>\n  </ion-grid>\n  \n\n</ion-content>\n\n<ion-footer>\n\n  <ion-item class="parent-levels">\n    <ion-badge  *ngIf="infrastructure" (click)="back(infrastructure.parent_location, i)" >  <ion-icon name="arrow-back"></ion-icon> {{infrastructure.parent_location.location_name}}</ion-badge>\n  </ion-item>\n\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/levels/levels.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], , __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]])
    ], InfrastructureLevels);
    return InfrastructureLevels;
    var InfrastructureLevels_1;
}());

//# sourceMappingURL=levels.js.map

/***/ }),

/***/ 129:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactExternal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_screen1_screen1__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ContactExternal = (function () {
    function ContactExternal(navCtrl, Notification, fns, session, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.fns = fns;
        this.session = session;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.contacts = [];
        this.alphabets = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactExternal();
    }
    ContactExternal.prototype.getContactExternal = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactExternals(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                _this.backup = Object.assign({}, data);
                _this.alphabets = Object.keys(data);
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactExternal.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContactExternal();
            refresher.complete();
        }, 2000);
    };
    ContactExternal.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            var val = this.search.toLowerCase();
            setTimeout(function () {
                _this.is_searched = false;
                _this.alphabets.forEach(function (alphabet) {
                    _this.contacts[alphabet] = _this.backup[alphabet].filter(function (contact) {
                        var condition = _this.fns.match(contact.first_name, val) ||
                            _this.fns.match(contact.last_name, val) ||
                            _this.fns.match(contact.email, val);
                        return (condition);
                    });
                });
            }, 500);
        }
    };
    ContactExternal.prototype.view = function (contact) {
        console.log('conatct', contact);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__show_show__["a" /* ContactExternalDescription */], { id: contact.row_id });
    };
    ContactExternal.prototype.delete = function (id) {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.delete(id)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.getContactExternal();
        });
    };
    ContactExternal.prototype.create = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */]);
    };
    ContactExternal.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__["a" /* Dashboard */]);
    };
    ContactExternal.prototype.presentActionSheet = function (contact) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(contact);
                }
            }, {
                text: 'Deactivate',
                role: 'destructive',
                handler: function () {
                    _this.delete(contact.row_id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    ContactExternal.prototype.getContactByAlphabet = function (alphabet) {
        if (this.contacts[alphabet]) {
            var el = document.getElementById(alphabet + "_id");
            var rect = el.getBoundingClientRect();
            this.content.scrollTo(0, rect.top, 800);
        }
    };
    ContactExternal.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ce';
        }
        return path;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"])
    ], ContactExternal.prototype, "content", void 0);
    ContactExternal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/list/list.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Contact External\n    </ion-title>\n  </ion-navbar>\n   <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n</ion-header>\n\n<ion-content>\n  \n  <ion-list *ngIf="!is_searched">\n    \n   <!--  <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p>{{contact.email}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item> -->\n    <ion-item-group *ngFor="let alph of alphabets;" id= "{{alph}}_id">\n      <ion-item-divider *ngIf="contacts[alph] && contacts[alph]?.length > 0" color="light">{{alph}}</ion-item-divider>\n      <ion-item  *ngFor="let contact of contacts[alph];" >\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p>{{contact.org_name}} - {{contact.division_name}}</p>\n        </ion-label>\n        \n      </ion-item>\n    </ion-item-group>\n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <div class="alphabets">\n      <ul>\n        <li *ngFor="let alphabet of fns.generateAlphabets(); let i = index "\n            (click)=\'getContactByAlphabet(alphabet);\'\n             >\n          {{alphabet}}\n        </li>\n      </ul>\n  </div>\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_5__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactExternal);
    return ContactExternal;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 13:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FunctionsHelper; });
var FunctionsHelper = (function () {
    function FunctionsHelper() {
    }
    FunctionsHelper.prototype.count = function (c) {
        return c > 99 ? '99+' : c;
    };
    FunctionsHelper.prototype.match = function (x, y) {
        return x.toLowerCase().indexOf(y.toLowerCase()) > -1;
    };
    FunctionsHelper.prototype.generateAlphabets = function () {
        var i = 0;
        var alphabets = [];
        while (i < 26) {
            var digit = 65 + i;
            alphabets.push(String.fromCharCode(digit));
            i++;
        }
        return alphabets;
    };
    FunctionsHelper.prototype.clone = function (data) {
        var response = data;
        if (data instanceof Object) {
            response = Object.assign({}, data);
        }
        else if (data instanceof Array) {
            response = data.slice();
        }
        return response;
    };
    FunctionsHelper.prototype.cloneObject = function (data) {
        return JSON.parse(JSON.stringify(data));
    };
    FunctionsHelper.prototype.sortTheAlphabets = function (alphabets) {
        alphabets.sort(function (a, b) {
            if (a < b)
                return -1;
            if (a > b)
                return 1;
            return 0;
        });
    };
    FunctionsHelper.prototype.ObjLength = function (obj) {
        return Object.keys(obj).length;
    };
    return FunctionsHelper;
}());

//# sourceMappingURL=functions.helper.js.map

/***/ }),

/***/ 130:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactExternalForDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_external__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_external_create_screen1_screen1__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedContactExternalForDocuments = (function () {
    function CreateLinkedContactExternalForDocuments(navCtrl, params, TasksService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.document_id = this.params.get('document_id');
        console.log(this.params);
        if (this.params.get('contact_id')) {
            this.searchContact(this.params.get('contact_id'));
        }
    }
    CreateLinkedContactExternalForDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.searchContact();
            }, 500);
        }
    };
    CreateLinkedContactExternalForDocuments.prototype.searchContact = function (contact_id) {
        var _this = this;
        if (contact_id === void 0) { contact_id = ''; }
        this.TasksService.searchContacts(this.search.toLowerCase())
            .then(function (data) {
            _this.is_searched = false;
            _this.contacts = data.contacts;
            _this.divisions = data.divisions;
            _this.organisations = data.organisations;
            if (contact_id !== '') {
                _this.contacts.forEach(function (d) {
                    if (contact_id == d.row_id) {
                        _this.initContact(d);
                    }
                });
            }
        });
    };
    CreateLinkedContactExternalForDocuments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.saveLinkedContactExternal(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_external__["a" /* LinkedContactExternalWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactExternalForDocuments.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactExternalForDocuments.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */], { page: 'linked_documents', request_id: this.params.get('document_id') });
    };
    CreateLinkedContactExternalForDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_external/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end  checked="{{ link.row_id == contact.row_id }}"></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_external/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactExternalForDocuments);
    return CreateLinkedContactExternalForDocuments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 131:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactExternalWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__contact_external_create_create__ = __webpack_require__(130);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedContactExternalWithDocuments = (function () {
    function LinkedContactExternalWithDocuments(navCtrl, params, fns, TasksService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.TasksService = TasksService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.alphabets = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactExternalWithDocuments.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_list_documents_list__["a" /* DocumentsList */]);
    };
    LinkedContactExternalWithDocuments.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedContactExternal(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                _this.backup = _this.contacts.slice();
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactExternalWithDocuments.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_external_show_show__["a" /* ContactExternalDescription */], { id: contact.row_id });
    };
    LinkedContactExternalWithDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactExternalWithDocuments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getLinkedContactExternal(this.params.get('task_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactExternalWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactExternalWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__contact_external_create_create__["a" /* CreateLinkedContactExternalForDocuments */], { document_id: this.params.get('document_id') });
    };
    LinkedContactExternalWithDocuments.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactExternalWithDocuments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.DocumentService.deleteLinkedContactExternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactExternalWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.contacts = this.backup.filter(function (contact) {
                var condition = _this.fns.match(contact.first_name, val);
                return condition;
            });
        }
        else {
            this.contacts = this.backup;
        }
    };
    LinkedContactExternalWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_external/contact_external.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts External\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add" ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_external/contact_external.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactExternalWithDocuments);
    return LinkedContactExternalWithDocuments;
}());

//# sourceMappingURL=contact_external.js.map

/***/ }),

/***/ 132:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactInternal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_screen1_screen1__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ContactInternal = (function () {
    function ContactInternal(navCtrl, Notification, fns, session, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.fns = fns;
        this.session = session;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.contacts = [];
        this.alphabets = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactInternal();
    }
    ContactInternal.prototype.getContactInternal = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactInternals(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.is_request = true;
                _this.contacts = data;
                _this.backup = Object.assign({}, data);
                _this.alphabets = Object.keys(data);
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactInternal.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContactInternal();
            refresher.complete();
        }, 2000);
    };
    ContactInternal.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            var val = this.search.toLowerCase();
            setTimeout(function () {
                _this.is_searched = false;
                _this.alphabets.forEach(function (alphabet) {
                    _this.contacts[alphabet] = _this.backup[alphabet].filter(function (contact) {
                        var condition = _this.fns.match(contact.first_name, val) ||
                            _this.fns.match(contact.last_name, val) ||
                            _this.fns.match(contact.email, val);
                        return (condition);
                    });
                });
            }, 500);
        }
    };
    ContactInternal.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__show_show__["a" /* ContactInternalDescription */], { id: contact.row_id });
    };
    ContactInternal.prototype.delete = function (id) {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.delete(id)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.getContactInternal();
        });
    };
    ContactInternal.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */]);
    };
    ContactInternal.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__["a" /* Dashboard */]);
    };
    ContactInternal.prototype.presentActionSheet = function (contact) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(contact);
                }
            }, {
                text: 'Deactivate',
                role: 'destructive',
                handler: function () {
                    _this.delete(contact.row_id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    ContactInternal.prototype.getContactByAlphabet = function (alphabet) {
        if (this.contacts[alphabet]) {
            var el = document.getElementById(alphabet + "_id");
            var rect = el.getBoundingClientRect();
            this.content.scrollTo(0, rect.top, 800);
        }
    };
    ContactInternal.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
        }
        return path;
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Content"])
    ], ContactInternal.prototype, "content", void 0);
    ContactInternal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/list/list.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Contact Internal\n    </ion-title>\n  </ion-navbar>\n   <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n</ion-header>\n\n<ion-content>\n  \n  <ion-list *ngIf="!is_searched">\n\n    <ion-item-group *ngFor="let alph of alphabets;" id= "{{alph}}_id">\n      <ion-item-divider *ngIf="contacts[alph] && contacts[alph]?.length > 0" color="light">{{alph}}</ion-item-divider>\n      <ion-item *ngFor="let contact of contacts[alph];" >\n        <ion-avatar item-start>\n          <img  class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p>{{contact.site_name}} - {{contact.department_name}}</p>\n        </ion-label>\n        \n      </ion-item>\n    </ion-item-group>\n\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div>\n\n  <div class="alphabets" *ngIf="is_request" >\n      <ul>\n        <li *ngFor="let alphabet of fns.generateAlphabets(); let i = index "\n            (click)=\'getContactByAlphabet(alphabet);\'\n             >\n          {{alphabet}}\n        </li>\n      </ul>\n  </div>\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_5__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactInternal);
    return ContactInternal;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 133:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactInternalForDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_internal__ = __webpack_require__(134);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedContactInternalForDocuments = (function () {
    function CreateLinkedContactInternalForDocuments(navCtrl, params, TasksService, InfrastructureService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.document_id = this.params.get('document_id');
        if (this.params.get('employee_id')) {
            this.searchContact(this.params.get('employee_id'));
        }
    }
    CreateLinkedContactInternalForDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.searchContact();
            }, 500);
        }
    };
    CreateLinkedContactInternalForDocuments.prototype.searchContact = function (employee_id) {
        var _this = this;
        if (employee_id === void 0) { employee_id = ''; }
        this.TasksService.searchContactsInternal(this.search.toLowerCase())
            .then(function (data) {
            _this.is_searched = false;
            _this.contacts = data.contacts;
            _this.divisions = data.divisions;
            _this.organisations = data.organisations;
            if (employee_id !== '') {
                _this.contacts.forEach(function (d) {
                    if (employee_id == d.row_id) {
                        _this.initContact(d);
                    }
                });
            }
        });
    };
    CreateLinkedContactInternalForDocuments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.saveLinkedContactInternal(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_internal__["a" /* LinkedContactInternalWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactInternalForDocuments.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactInternalForDocuments.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */], { page: 'linked_documents', request_id: this.params.get('document_id') });
    };
    CreateLinkedContactInternalForDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_internal/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}} </p></div>\n                 <ion-radio (click)="initContact(contact)" item-end checked="{{ link.row_id == contact.row_id }}" ></ion-radio>\n              </ion-item>\n            </div> \n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_internal/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactInternalForDocuments);
    return CreateLinkedContactInternalForDocuments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 134:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactInternalWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_internal_create_create__ = __webpack_require__(133);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__documents_list_documents_list__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LinkedContactInternalWithDocuments = (function () {
    function LinkedContactInternalWithDocuments(navCtrl, params, session, TasksService, InfrastructureService, DocumentService, alertCtrl, fns, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.session = session;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.fns = fns;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.alphabets = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactInternalWithDocuments.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__documents_list_documents_list__["a" /* DocumentsList */]);
    };
    LinkedContactInternalWithDocuments.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedContactInternal(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                _this.backup = _this.contacts.slice();
                _this.alphabets = Object.keys(data);
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactInternalWithDocuments.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_show_show__["a" /* ContactInternalDescription */], { id: contact.row_id });
    };
    LinkedContactInternalWithDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactInternalWithDocuments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getLinkedContactInternal(this.params.get('document_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactInternalWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactInternalWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_internal_create_create__["a" /* CreateLinkedContactInternalForDocuments */], { document_id: this.params.get('document_id') });
    };
    LinkedContactInternalWithDocuments.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactInternalWithDocuments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.DocumentService.deleteLinkedContactInternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactInternalWithDocuments.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
        }
        return path;
    };
    LinkedContactInternalWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            var val = this.search.toLowerCase();
            console.log(this.backup);
            setTimeout(function () {
                _this.is_searched = false;
                _this.contacts = _this.backup.filter(function (contact) {
                    var condition = _this.fns.match(contact.first_name, val) ||
                        _this.fns.match(contact.last_name, val) ||
                        _this.fns.match(contact.email, val);
                    return (condition);
                });
            }, 500);
        }
    };
    LinkedContactInternalWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_internal/contact_internal.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts Internal\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/contact_internal/contact_internal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_10__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactInternalWithDocuments);
    return LinkedContactInternalWithDocuments;
}());

//# sourceMappingURL=contact_internal.js.map

/***/ }),

/***/ 135:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Equipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__levels_levels__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var Equipments = (function () {
    function Equipments(navCtrl, alertCtrl, Notifications, EquipmentService, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    Equipments.prototype.ionViewWillEnter = function () {
        this.getLevels();
    };
    Equipments.prototype.getLevels = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.getLevels(1, this.search)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.levels = data.levels_data;
                _this.current_level = data.current_level;
                _this.reload = false;
                if (_this.levels.length == __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notifications.presentToast('Please request again.');
                _this.reload = true;
            }
        });
    };
    Equipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getLevels();
            refresher.complete();
        }, 2000);
    };
    Equipments.prototype.view = function (id) {
    };
    Equipments.prototype.delete = function (id) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this level?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notifications.presentLoader();
                        _this.EquipmentService.deleteLevel(id)
                            .then(function (data) {
                            _this.Notifications.dismissLoader();
                            if (data.status) {
                                _this.getLevels();
                            }
                            _this.Notifications.presentToast(data.message);
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    Equipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* CreateEquipmentLevel */], {
            parent_id: 0,
            current_level: this.current_level
        });
    };
    Equipments.prototype.next = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__levels_levels__["a" /* EquipmentsLevels */], {
            parent_id: t.id
        });
    };
    Equipments.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__dashboard_dashboard__["a" /* Dashboard */]);
    };
    Equipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    Equipments.prototype.getItems = function (ev) {
        var _this = this;
        if (!this.is_searched) {
            this.is_searched = true;
            this.EquipmentService.searchLevelsData(1, this.search.toLowerCase(), 0).then(function (data) {
                if (data.error == undefined) {
                    _this.is_searched = false;
                    if (data.levels_data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.levels = data.levels_data;
                }
                else {
                    _this.Notifications.presentToast('Please request again.');
                    _this.reload = true;
                }
            });
        }
    };
    Equipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/list/list.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Level 1\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n    \n  <ion-refresher (ionRefresh)="doRefresh($event)">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-item *ngFor="let level of levels">\n    <div (click)=\'next(level);\' >\n      <h2>{{level.name}}</h2>\n    </div>\n    <button class="more-btn" ion-button (click)=\'presentActionSheet(level);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n  </ion-item>\n  \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n  <ion-grid class="grid-reload" *ngIf="reload && levels?.length <= 0"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && levels?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], Equipments);
    return Equipments;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 140:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedInfrastructureWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__create_create__ = __webpack_require__(530);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__infrastructure_show_show__ = __webpack_require__(68);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedInfrastructureWithDocuments = (function () {
    function LinkedInfrastructureWithDocuments(navCtrl, params, TasksService, DocumentService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.DocumentService = DocumentService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getInfrastructure();
    }
    LinkedInfrastructureWithDocuments.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_list_documents_list__["a" /* DocumentsList */]);
    };
    LinkedInfrastructureWithDocuments.prototype.getInfrastructure = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedInfrastructure(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.infrastructure = data;
                if (_this.infrastructure.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.infrastructure.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedInfrastructureWithDocuments.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: t.location_id });
    };
    LinkedInfrastructureWithDocuments.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: t.location_id });
    };
    LinkedInfrastructureWithDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getInfrastructure();
            refresher.complete();
        }, 2000);
    };
    LinkedInfrastructureWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedInfrastructureWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__create_create__["a" /* CreateLinkedInfrastructureForDocuments */], { document_id: this.params.get('document_id') });
    };
    LinkedInfrastructureWithDocuments.prototype.reloadMe = function () {
        this.getInfrastructure();
    };
    LinkedInfrastructureWithDocuments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.DocumentService.deleteInfrastructureLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getInfrastructure();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedInfrastructureWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    LinkedInfrastructureWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/infrastructure/infrastructure.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Infrastructure\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let infra of infrastructure; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(infra);\'>\n           <h2 text-capitalize >{{infra.name}}</h2>\n           <p text-capitalize>{{infra.barcode}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(infra);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && infrastructure?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedInfrastructureWithDocuments);
    return LinkedInfrastructureWithDocuments;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 141:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedEquipmentWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__create_create__ = __webpack_require__(531);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LinkedEquipmentWithDocuments = (function () {
    function LinkedEquipmentWithDocuments(navCtrl, params, TasksService, DocumentService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.DocumentService = DocumentService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getEquipments();
    }
    LinkedEquipmentWithDocuments.prototype.getEquipments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedEquipments(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.equipments = data;
                if (_this.equipments.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.equipments.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again.');
                _this.reload = true;
            }
        });
    };
    LinkedEquipmentWithDocuments.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.object_id });
    };
    LinkedEquipmentWithDocuments.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.object_id });
    };
    LinkedEquipmentWithDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getEquipments();
            refresher.complete();
        }, 2000);
    };
    LinkedEquipmentWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedEquipmentWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__create_create__["a" /* CreateLinkedEquipmentForDocuments */], { document_id: this.params.get('document_id') });
    };
    LinkedEquipmentWithDocuments.prototype.reloadMe = function () {
        this.getEquipments();
    };
    LinkedEquipmentWithDocuments.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    LinkedEquipmentWithDocuments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.DocumentService.deleteEquipmentLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getEquipments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedEquipmentWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.equipments = this.backup.filter(function (article) {
                var condition = _this.fns.match(_this.getFirst(article), val);
                return (condition);
            });
        }
        else {
            this.equipments = this.backup;
        }
    };
    LinkedEquipmentWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/equipments.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n      <button class="myBarBtn" ion-button menuToggle>\n        <ion-icon name="menu"></ion-icon>\n      </button>\n\n      <ion-buttons left>\n        <button ion-button navPop icon-only>\n          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n        </button>\n      </ion-buttons>\n      <ion-title>\n        Linked Equipments\n      </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n  <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let article of equipments; let i = index " >\n\n        <ion-label (click)=\'view(article);\'>\n        <h2>{{getFirst(article)}}</h2>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && equipments?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add" ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/equipments.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedEquipmentWithDocuments);
    return LinkedEquipmentWithDocuments;
}());

//# sourceMappingURL=equipments.js.map

/***/ }),

/***/ 142:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocumentWithDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(533);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_list_info_documents_list_info__ = __webpack_require__(37);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedDocumentWithDocuments = (function () {
    function LinkedDocumentWithDocuments(navCtrl, params, fns, alertCtrl, DocumentService, Notification, session, events, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.DocumentService = DocumentService;
        this.Notification = Notification;
        this.session = session;
        this.events = events;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.current_user = this.session.getUser();
    }
    LinkedDocumentWithDocuments.prototype.backButtonClick = function () {
        console.log("back clicked");
        this.events.publish('back:clicked');
        // this.navCtrl.pop()
    };
    LinkedDocumentWithDocuments.prototype.ionViewWillEnter = function () {
        this.getDocuments();
    };
    LinkedDocumentWithDocuments.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.getLinkedDocumentDocuments(this.params.get('document_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_3__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please request again.');
                _this.reload = true;
            }
        });
    };
    LinkedDocumentWithDocuments.prototype.doRefresh = function (refresher) {
    };
    LinkedDocumentWithDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* CreateLinkedDocumentForDocument */], { document_id: this.params.get('document_id') });
    };
    LinkedDocumentWithDocuments.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocumentWithDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocumentWithDocuments.prototype.view = function (document) {
        var document_id = this.params.get('document_id');
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: (document_id == document.document_parent_id ? document.document_child_id : document.document_parent_id) });
    };
    LinkedDocumentWithDocuments.prototype.delete = function (document) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.DocumentService.deleteLinkedDocument(document.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocumentWithDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val);
                return condition;
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    LinkedDocumentWithDocuments.prototype.getOrignal = function (obj, key, other_key) {
        var document_id = this.params.get('document_id');
        return (document_id == obj.document_parent_id ? obj[key] : obj[other_key]);
    };
    LinkedDocumentWithDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-documents',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only (click) = "backButtonClick()">\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{ getOrignal(document, \'designation\', \'parent_designation\') }}</h2>\n           <p text-capitalize>{{ getOrignal(document, \'cat_name\', \'parent_cat_name\') }} - {{document.relation_type}} </p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_7__providers_document_service_document_service__["a" /* DocumentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_7__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocumentWithDocuments);
    return LinkedDocumentWithDocuments;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 143:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SearchUsers; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_requests_service_requests_service__ = __webpack_require__(908);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__angular_http__ = __webpack_require__(41);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var SearchUsers = (function () {
    function SearchUsers(navCtrl, params, Notification, alertCtrl, RequestService, DocumentService, session, http) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.alertCtrl = alertCtrl;
        this.RequestService = RequestService;
        this.DocumentService = DocumentService;
        this.session = session;
        this.http = http;
        this.users = [];
        this.sent = [];
        this.recieved = [];
        this.accepted = [];
        this.sent_requests = {};
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.reload = false;
        this.current_user = this.session.getUser();
        this.request = this.params.get('request') ? this.params.get('request') : 'recieved';
        this.getRequests();
    }
    SearchUsers.prototype.getRequests = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.RequestService.getRequests(this.current_page)
            .then(function (response) {
            _this.Notification.dismissLoader();
            _this.sent = response.data.sent;
            _this.recieved = response.data.recieved;
            _this.accepted = response.data.accepted;
        });
    };
    SearchUsers.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getRequests();
            refresher.complete();
        }, 2000);
    };
    SearchUsers.prototype.avatar = function (user) {
        if (user != false) {
            return __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + user.profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + user.org_id;
        }
    };
    SearchUsers.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        this.users = [];
        if (!this.is_searched && this.search !== '') {
            this.is_searched = true;
            setTimeout(function () {
                _this.RequestService.searchNewUsers(_this.search.toLowerCase())
                    .then(function (response) {
                    if (response.data.search_result.users.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.users = response.data.search_result.users;
                    _this.users.forEach(function (d, index) {
                        _this.sent_requests[index] = false;
                    });
                    _this.organisations = response.data.search_result.orgs;
                    _this.backup = response.data.search_result;
                    _this.relations = response.data.relations;
                    _this.is_searched = false;
                });
            }, 500);
        }
    };
    SearchUsers.prototype.sendRequest = function (user, index) {
        var _this = this;
        this.Notification.presentLoader();
        this.RequestService.sendRequest(user).then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.getRequests();
                _this.sent_requests[index] = true;
            }
            _this.Notification.presentToast(data.message);
        });
    };
    SearchUsers.prototype.getStatus = function (status) {
        var title = '';
        switch (status) {
            case '1':
                title = 'Accepted';
                break;
            case '0':
                title = 'Pending';
                break;
            case '-1':
                title = 'Rejected';
                break;
        }
        return title;
    };
    SearchUsers.prototype.getStatusColor = function (status) {
        var color = '';
        switch (status) {
            case '1':
                color = 'primary';
                break;
            case '0':
                color = 'pending';
                break;
            case '-1':
                color = 'danger';
                break;
        }
        return color;
    };
    SearchUsers.prototype.acceptRequest = function (request) {
        var _this = this;
        this.RequestService.acceptRequest(request.id)
            .then(function (response) {
            _this.Notification.presentToast(response.message);
            _this.getRequests();
        });
    };
    SearchUsers.prototype.rejectRequest = function (request) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to reject the request?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.RequestService.rejectRequest(request.id)
                            .then(function (response) {
                            _this.Notification.dismissLoader();
                            _this.Notification.presentToast(response.message);
                            _this.getRequests();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    SearchUsers.prototype.resetVaribles = function () {
    };
    SearchUsers.prototype.getRequestUser = function (request) {
        return this.current_user.user_org_id == request.from_org_id ?
            this.current_user.user_id !== request.from_user_id ? request.from_user : request.with_user :
            this.current_user.user_id !== request.with_user_id ? request.with_user_id : request.from_user;
    };
    SearchUsers.prototype.buttonClick = function () {
        var _this = this;
        this.search = '';
        console.log("Request :" + this.request);
        console.log("Current Page :" + this.current_page);
        switch (this.request) {
            case 'accepted':
                this.Notification.presentLoader();
                this.RequestService.getAcceptedRequests(this.current_page)
                    .then(function (response) {
                    _this.Notification.dismissLoader();
                    _this.accepted = response.data.accepted;
                });
                break;
            case 'sent':
                this.Notification.presentLoader();
                this.RequestService.getSentRequests(this.current_page)
                    .then(function (response) {
                    console.log("Response to getSentRequests :" + JSON.stringify(response));
                    _this.Notification.dismissLoader();
                    _this.sent = response.data.sent;
                    console.log("response:", response);
                });
                break;
            case 'recieved':
                this.Notification.presentLoader();
                this.RequestService.getRecievedRequests(this.current_page)
                    .then(function (response) {
                    _this.Notification.dismissLoader();
                    _this.recieved = response.data.recieved;
                });
                break;
        }
    };
    SearchUsers.prototype.presentActionSheet = function () {
    };
    SearchUsers.prototype.user_resend_request = function (user) {
        var request = this.relations[user.user_id + '_' + user.org_id];
        if (request) {
            this.resend(request);
        }
    };
    SearchUsers.prototype.resend = function (request) {
        var _this = this;
        this.Notification.presentLoader();
        this.RequestService.resendRequest(request.id)
            .then(function (response) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(response.message);
        });
    };
    SearchUsers.prototype.requestType = function (user) {
        var relation = this.relations[user.user_id + '_' + user.org_id];
        var status = 'new';
        if (relation) {
            if (relation.status == -1) {
                status = 'rejected';
            }
            else if (relation.status == 1) {
                status = 'accepted';
            }
            else {
                status = 'pending';
            }
        }
        return status;
    };
    SearchUsers = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-list-requests',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/search_users/list/list.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n\n    <ion-title>\n      Requests\n    </ion-title>\n\n  </ion-navbar>\n\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)" placeholder="Search Users">\n  </ion-searchbar>\n\n</ion-header>\n\n<ion-content class="list-avatar-page">\n   	\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n\n    <ion-list *ngIf="search != \'\'">\n\n      <ion-item *ngFor="let user of users; let i = index; "  >\n        <ion-avatar item-start>\n          <img src="{{avatar(user)}}">\n        </ion-avatar>\n        <ion-label>\n          <h2 text-capitalize >{{user.name}}</h2>\n          <p text-capitalize>{{user.org_name}}</p>\n        </ion-label>\n        \n\n        <button ion-button clear item-end icon-only (click)="sendRequest(user, i)" *ngIf=" sent_requests[i] == false && requestType(user) == \'new\' ">\n          <ion-icon name="person-add"></ion-icon>\n        </button>\n\n        <button ion-button color="light" item-end  *ngIf=" sent_requests[i] == false && requestType(user) == \'rejected\' " (click)="user_resend_request(user)" >\n          Resend\n        </button>\n\n        <button ion-button color="light" item-end  *ngIf=" sent_requests[i] == false && requestType(user) == \'pending\' " >\n          Pending\n        </button>\n\n        <button ion-button color="light" item-end  *ngIf=" sent_requests[i] == true" >\n          Sent\n        </button>\n\n      </ion-item>\n\n    </ion-list>\n\n    <ion-list  *ngIf="search == \'\' && accepted?.length > 0 && request == \'accepted\'" >\n\n      <ion-item *ngFor="let request of accepted; let i = index "  >\n        <ion-avatar item-start>\n          <img src="{{avatar(getRequestUser(request))}}">\n        </ion-avatar>\n        <ion-label>\n            \n            <h2 text-capitalize >  \n                {{  getRequestUser(request)[\'name\'] }}\n            </h2>\n            \n            <p text-capitalize>\n              {{ current_user.user_org_id == request.from_org_id ? request.from_org.name : request.from_org.name }}\n            </p>\n        \n        </ion-label>\n\n        <!-- Reject Request -->\n        <button ion-button clear item-end icon-only color="danger" (click)="rejectRequest(request)" >\n          <ion-icon name="close-circle"></ion-icon>\n        </button>\n      \n      </ion-item>\n\n    </ion-list>\n\n    <ion-list  *ngIf="search == \'\' && sent?.length > 0 && request == \'sent\'" >\n      <ion-item *ngFor="let request of sent; let i = index "  >\n        <ion-avatar *ngIf="request.with_user.profile_pic != false" item-start>\n          <img src="{{avatar(request.with_user)}}">\n        </ion-avatar>\n        <ion-avatar *ngIf="request.with_user.profile_pic == false" item-start>\n          <p>No Avatar</p>\n        </ion-avatar>\n        <ion-label>\n           <h2 text-capitalize >{{request.with_user.name}}</h2>\n           <p text-capitalize>{{request.with_user.org_name}}</p>\n        </ion-label>\n        <button *ngIf="request.status == 0" ion-button small item-end [color]="getStatusColor(request.status)">{{getStatus(request.status)}}</button>\n        <button *ngIf="request.status == -1" ion-button small item-end (click)="resend(request)" >\n          Resend\n        </button>\n      </ion-item>\n    </ion-list>\n\n  	<ion-list  *ngIf="search == \'\' && recieved?.length > 0 && request == \'recieved\'">\n      <ion-item *ngFor="let request of recieved; let i = index ">\n        <ion-avatar item-start>\n          <img src="{{avatar(request.from_user)}}">\n        </ion-avatar>\n        <ion-label>\n           <h2 text-capitalize >{{request.from_user.name}}</h2>\n           <p text-capitalize>{{request.from_user.org_name}}</p>\n        </ion-label>\n        \n        <!-- Confirm Request -->\n        <button ion-button clear item-end icon-only (click)="acceptRequest(request)" >\n          <ion-icon name="checkmark-circle"></ion-icon>\n        </button>\n\n        <!-- Reject Request -->\n        <button ion-button clear item-end icon-only (click)="rejectRequest(request)" color="danger" >\n          <ion-icon name="close-circle"></ion-icon>\n        </button>\n      </ion-item>\n    </ion-list>\n    <!-- Messages if no Record Found -->\n\n    <ion-grid class="grid-reload" *ngIf="search !== \'\' && is_searched == false && !reload && users?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" name="sad" ></ion-icon><p>\n          <p>No User Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-grid class="grid-reload" *ngIf="search ==  \'\' && request == \'accepted\' && !reload && accepted?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" name="sad" ></ion-icon><p>\n          <p>No Accepted Request Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-grid class="grid-reload" *ngIf="search ==  \'\' && request == \'sent\' && !reload && sent?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" name="sad" ></ion-icon><p>\n          <p>No Sent Request Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-grid class="grid-reload" *ngIf="search == \'\' && request == \'recieved\' && !reload && recieved?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" name="sad" ></ion-icon><p>\n          <p>No Recieved Request Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <div class="search-spinner" *ngIf="is_searched">\n      <ion-spinner ></ion-spinner>\n    </div> \n\n</ion-content>\n\n<ion-footer>\n   <ion-toolbar no-border-top no-border-bottom>\n    <ion-segment [(ngModel)]="request" (click) = "buttonClick()" >\n      <ion-segment-button value="accepted">\n        Accepted\n      </ion-segment-button>\n      <ion-segment-button value="sent">\n        Sent\n      </ion-segment-button>\n      <ion-segment-button value="recieved" checked>\n        Recieved\n        <ion-badge *ngIf="recieved.length > 0" class="custom-bagde-footer" color="danger">{{recieved.length}}</ion-badge>\n      </ion-segment-button>\n    </ion-segment>\n  </ion-toolbar>\n</ion-footer>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/search_users/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_requests_service_requests_service__["a" /* RequestsServiceProvider */], __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__providers_requests_service_requests_service__["a" /* RequestsServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_7__angular_http__["b" /* Http */]])
    ], SearchUsers);
    return SearchUsers;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 19:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfrastructureServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_notifications_helper__ = __webpack_require__(3);
// AUTHOR : HS
// CREATED : 2-04-2018
// DESCRIPTION : infrastructure sevices.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var InfrastructureServiceProvider = (function () {
    function InfrastructureServiceProvider(http, session, Notifications) {
        this.http = http;
        this.session = session;
        this.Notifications = Notifications;
    }
    InfrastructureServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    InfrastructureServiceProvider.prototype.getInfrastructureList = function (page, search, params) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (params === void 0) { params = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations?' + params + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.searchInfrastructure = function (search) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data.locations;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.getInfrastructure = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.getInfrastructureFields = function (location_id, parent_id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/attributes?location_id=' + location_id + "&parent_id=" + parent_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.create = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/create', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                if (data.status) {
                    _this.data = data;
                    resolve(_this.data);
                }
                else {
                    _this.Notifications.presentToast(data.message);
                    _this.Notifications.dismissLoader();
                    return false;
                }
            });
        });
    };
    InfrastructureServiceProvider.prototype.update = function (res) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/update', res, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    //Linked Modules
    InfrastructureServiceProvider.prototype.getLinkedAgendas = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/linked_agendas?location_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.getLinkedDocuments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/linked_documents?location_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.getLinkedContactExternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/linked_contacts_external?location_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.getLinkedContactInternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/linked_contacts_internal?location_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.saveLinkedAgenda = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/save_linked_agenda', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.saveLinkedDocument = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.saveLinkedContactExternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/save_linked_contact_external', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.saveLinkedContactInternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/save_linked_contact_internal', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.deleteLinkedContactExternal = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/delete_linked_contact_external', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.deleteLinkedContactInternal = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/delete_linked_contact_external', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.deleteAgendaLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/delete_linked_agenda', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.deleteDocumentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.getLinkedEquipments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/linked_equipments?location_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    InfrastructureServiceProvider.prototype.deleteEquipmentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/delete_linked_equipment', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider.prototype.saveLinkedEquipment = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'locations/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    InfrastructureServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */], __WEBPACK_IMPORTED_MODULE_9__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], InfrastructureServiceProvider);
    return InfrastructureServiceProvider;
}());

//# sourceMappingURL=infrastructure-service.js.map

/***/ }),

/***/ 192:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Notifications; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__search_users_list_list__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var Notifications = (function () {
    function Notifications(navCtrl, actionSheetCtrl, Notification, session, NotificationService) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.Notification = Notification;
        this.session = session;
        this.NotificationService = NotificationService;
        this.page = { view: __WEBPACK_IMPORTED_MODULE_3__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], info: __WEBPACK_IMPORTED_MODULE_4__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */] };
        this.notifications = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.selected_count = 0;
        this.getNotifications();
    }
    Notifications.prototype.getNotifications = function () {
        var _this = this;
        this.resetVaribles();
        this.Notification.presentLoader();
        this.NotificationService.getNotifications(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.notifications = data.notifications;
                if (_this.notifications.length == __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    Notifications.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getNotifications();
            refresher.complete();
        }, 2000);
    };
    Notifications.prototype.avatar = function (notification) {
        return __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + notification.by_user_profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + notification.by_org_id;
    };
    Notifications.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.NotificationService.getNotifications(++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.notifications.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.notifications.forEach(function (d) {
                        _this.notifications.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    Notifications.prototype.open = function (notification, index) {
        var _this = this;
        if (this.is_hold) {
            this.notifications[index].is_selected = this.notifications[index].is_selected ? !this.notifications[index].is_selected : true;
            this.notifications[index].is_selected ? ++this.selected_count : --this.selected_count;
            if (this.selected_count <= 0) {
                this.is_hold = false;
            }
        }
        else {
            this.Notification.presentLoader();
            this.NotificationService.openNotification(notification.id)
                .then(function (res) {
                _this.Notification.dismissLoader();
                _this.notifications[index].is_read = "1";
                switch (notification.request_type) {
                    case 'shared_documents':
                        _this.openDocument(__WEBPACK_IMPORTED_MODULE_4__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], res.request_data);
                        break;
                    case 'agenda':
                        _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__agenda_show_show__["a" /* AgendaDescription */], res.request_data);
                        break;
                    case 'requests':
                        _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__search_users_list_list__["a" /* SearchUsers */], { request: res.slug });
                        break;
                    default:
                }
            });
        }
    };
    Notifications.prototype.openDocument = function (state, shared) {
        this.navCtrl.push(state, {
            id: shared.document.id,
            org_id: shared.document.org_id,
            permission: {
                can_read: shared.can_read,
                can_download: shared.can_download,
                can_external_share: shared.can_external_share,
                can_share: shared.can_share,
                can_update: shared.can_update
            }
        });
    };
    Notifications.prototype.pressEvent = function (event, notification, i) {
        this.is_hold = true;
        this.notifications[i].is_selected = true;
    };
    Notifications.prototype.select = function () {
        this.is_hold = true;
    };
    Notifications.prototype.action = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Mark as read',
                handler: function () {
                    _this.mark_as(1); // Mark as read
                }
            }, {
                text: 'Mark as unread',
                handler: function () {
                    _this.mark_as(0); // Mark as unread
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete();
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    Notifications.prototype.mark_as = function (value) {
        var _this = this;
        var notification_ids = this.getSelectNotifications();
        if (notification_ids) {
            this.Notification.presentLoader();
            this.NotificationService.markAsValueNotification(notification_ids, value)
                .then(function (res) {
                _this.Notification.dismissLoader();
                _this.getNotifications();
            });
        }
        else {
            this.Notification.presentToast('Please select at least one notification');
        }
    };
    Notifications.prototype.delete = function () {
        var _this = this;
        var notification_ids = this.getSelectNotifications();
        if (notification_ids) {
            this.Notification.presentLoader();
            this.NotificationService.deleteNotifications(notification_ids)
                .then(function (res) {
                _this.Notification.dismissLoader();
                _this.getNotifications();
            });
        }
        else {
            this.Notification.presentToast('Please select at least one notification');
        }
    };
    Notifications.prototype.getSelectNotifications = function () {
        var notification_ids = [];
        this.notifications.forEach(function (notification) {
            if (notification.is_selected)
                notification_ids.push(notification.id);
        });
        return notification_ids.length > 0 ? notification_ids.join(',') : false;
    };
    Notifications.prototype.resetVaribles = function () {
        this.notifications = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.selected_count = 0;
    };
    Notifications = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-notifications',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/notifications/notifications.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Notifications  \n    </ion-title>\n    <ion-buttons right >\n       <button ion-button *ngIf="!is_hold && notifications?.length > 0"  \n       		   (click)="select()" clear> \n       		   Select \n       	</button>\n       <button ion-button *ngIf="is_hold" \n       		   class="more-icon" \n       		   (click)=\'action();\' item-end clear> \n       		   <ion-icon name="md-more" ></ion-icon>\n       	</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-avatar-page">\n   	\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n\n  	<ion-list>\n  		 <ion-item *ngFor="let notification of notifications; let i = index " \n  				  class = " item item-block item-ios {{ notification.is_read == 1 ? \'read\' : \'unread\' }} " \n  				  (click)=\'open(notification,i);\'\n  				  (press)="pressEvent($event, notification, i)" >\n  	      <ion-avatar item-start>\n  	        <img class="profile-img" src="{{avatar(notification)}}">\n  	      </ion-avatar>\n\n            <div *ngIf="is_hold && notification.is_selected " class="sm-selected-file"> \n            	<img class="sm-check-file" src="assets/img/check.png" />\n            </div>\n\n  	      <h2>{{notification.title}}</h2>\n  	      <p>{{notification.description}}</p>\n  	    </ion-item>\n    </ion-list>\n\n    <ion-grid class="grid-reload" *ngIf=" !reload && notifications?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n          <p>No Notification Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n	<ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n		<ion-infinite-scroll-content></ion-infinite-scroll-content>\n	</ion-infinite-scroll>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/notifications/notifications.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */]])
    ], Notifications);
    return Notifications;
}());

//# sourceMappingURL=notifications.js.map

/***/ }),

/***/ 195:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocumentForCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedDocumentForCE = (function () {
    function CreateLinkedDocumentForCE(navCtrl, params, TasksService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
        //this.getDocuments();
    }
    CreateLinkedDocumentForCE.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocumentForCE.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocumentForCE.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        console.log(this.link);
        this.ContactService.saveLinkedDocument(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                // this.navCtrl.push(LinkedDocumentsWithCE , { row_id : this.params.get('row_id'), contact_id : this.params.get('contact_id') } )
                _this.navCtrl.pop();
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocumentForCE.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_id = document.id;
    };
    CreateLinkedDocumentForCE.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_documents_create_screen1_screen1__["a" /* Screen1 */], { page: 'linked_contact_external', request_id: this.params.get('contact_id'), row_id: this.params.get('row_id') });
    };
    CreateLinkedDocumentForCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents\n      <button class="add-person" ion-button clear item-end  (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/documents/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocumentForCE);
    return CreateLinkedDocumentForCE;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 196:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Uploading; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_create_screen3_screen3__ = __webpack_require__(479);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__agenda_links_documents_create_create__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__contact_internal_links_documents_create_create__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__contact_external_links_documents_create_create__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__infrastructure_links_documents_create_create__ = __webpack_require__(205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__equipments_links_documents_create_create__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__ = __webpack_require__(500);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ionic_native_file_path__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__ionic_native_media_capture_ngx__ = __webpack_require__(501);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




















var Uploading = (function () {
    function Uploading(navCtrl, platform, alertCtrl, _ngZone, actionSheetCtrl, DocumentService, Notifications, camera, session, fileChooser, filePath, DomSanitizer, transfer, navParams, toastController, mediaCapture) {
        this.navCtrl = navCtrl;
        this.platform = platform;
        this.alertCtrl = alertCtrl;
        this._ngZone = _ngZone;
        this.actionSheetCtrl = actionSheetCtrl;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.camera = camera;
        this.session = session;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.DomSanitizer = DomSanitizer;
        this.transfer = transfer;
        this.navParams = navParams;
        this.toastController = toastController;
        this.mediaCapture = mediaCapture;
        this.files = [];
        this.assign_attributes = [];
        this.subcategory_data = {};
        this.category_files_data = {};
        this.subcategory_files_data = {};
        this.ca_f = {};
        this.category_id = '';
        this.subcategory_id = '';
        this.designation = '';
        this.lastImage = '';
        this.category_data = {};
        this.google_document_count = 1;
        this.uploadComplete = false;
        this.attr_assigned = false;
        this.category_data = this.navParams.data.category_data;
        this.category_id = this.navParams.data.category_id;
        this.subcategory_data = this.navParams.data.subcategory_data;
        this.subcategory_id = this.navParams.data.subcategory_id;
        this.designation = this.navParams.data.designation;
        this.categories_attrs = this.navParams.data.attributes.categories_attrs;
        this.sub_categories_attrs = this.navParams.data.attributes.sub_categories_attrs;
        this.tags = this.navParams.data.tags;
        this.loadFiles();
    }
    Uploading.prototype.next = function () {
        var _this = this;
        if (this.files.length > 0) {
            window.localStorage.setItem('url', JSON.stringify([]));
            Object.keys(this.files).forEach(function (d) {
                if (_this.files[d]['is_selected']) {
                    var old = [];
                    var ur = window.localStorage.getItem('url');
                    if (ur) {
                        old = JSON.parse(window.localStorage.getItem('url'));
                    }
                    old.push(_this.files[d]['path']);
                    window.localStorage.setItem('url', JSON.stringify(old));
                }
            });
        }
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_create_screen3_screen3__["a" /* Screen3 */], this.navParams.data);
    };
    Uploading.prototype.loadFiles = function () {
        var _this = this;
        var files = this.session.getUrl();
        this.category_files_data = {};
        this.subcategory_files_data = {};
        if (files && files.length > 0) {
            files.forEach(function (f) {
                _this.files.push({ 'path': f,
                    'is_selected': true,
                    'is_captured': false,
                    'attribute_id': 0,
                    'user_defined_name': _this.getName(f)
                });
            });
        }
    };
    Uploading.prototype.assignAttributeIfSingleFile = function () {
        if (this.files.length == 1) {
            var indx = 0;
            var cat_file_count = 0;
            this.categories_attrs.forEach(function (category) {
                if (category.attr_type == 'file' || category.attr_type == 'image') {
                    cat_file_count++;
                }
            });
            var subcat_file_count = 0;
            this.sub_categories_attrs.forEach(function (sub_category) {
                if (sub_category.attr_type == 'file' || sub_category.attr_type == 'image') {
                    subcat_file_count++;
                }
            });
            if (cat_file_count == 1 && subcat_file_count == 0) {
                this.files[indx].attribute_id = this.categories_attrs[indx].id;
                this.files[indx].attribute_name = this.categories_attrs[indx].name;
                this.files[indx].attribute_type = 'cat';
                this.files[indx].category_attribute_name = this.capitalize(this.navParams.data.category_name) + ' - ' + this.files[indx].attribute_name;
                this.category_files_data[this.files[indx].attribute_id] = this.files[indx];
            }
            if (subcat_file_count == 1 && cat_file_count == 0) {
                this.files[indx].attribute_id = this.sub_categories_attrs[indx].id;
                this.files[indx].attribute_name = this.sub_categories_attrs[indx].name;
                this.files[indx].attribute_type = 'subcat';
                this.files[indx].category_attribute_name = this.capitalize(this.navParams.data.category_name) + ' - ' + this.files[indx].attribute_name;
                this.subcategory_files_data[this.files[indx].attribute_id] = this.files[indx];
            }
        }
    };
    Uploading.prototype.upload = function () {
        var _this = this;
        if (this.platform.is('ios')) {
            FilePicker.pickFile(function (file) {
                _this.files.push({ 'path': file,
                    'is_selected': true,
                    'is_captured': false,
                    'attribute_id': 0,
                    'user_defined_name': _this.getName(file) });
                // this.assignAttributeIfSingleFile();
                //this.addUserDefinedName(this.files.length - 1);
                _this._ngZone.run(function () { });
            }, function (err) {
                alert(JSON.stringify(err));
            });
        }
        else if (this.platform.is('android')) {
            this.fileChooser.open()
                .then(function (uri) {
                var uriArr = uri.split(',');
                uriArr.forEach(function (u, i) {
                    _this.filePath.resolveNativePath(u)
                        .then(function (filePath) {
                        _this.files.push({ 'path': filePath,
                            'is_selected': true,
                            'is_captured': false,
                            'attribute_id': 0,
                            'user_defined_name': _this.getName(filePath) });
                    }, function (err) {
                        _this.files.push({ 'path': u,
                            'is_selected': true,
                            'is_captured': false,
                            'attribute_id': 0,
                            'user_defined_name': _this.getName(u) });
                    });
                });
            })
                .catch(function (e) { return alert(JSON.stringify(e)); });
        }
    };
    Uploading.prototype.getName = function (f) {
        var _arr = f.split('/');
        if (_arr.length > 0) {
            var _name = _arr[_arr.length - 1];
            //GOOGLE DRIVE DOCUMENT
            if (_name.substr(0, 3) == 'enc') {
                _name = 'Google Document';
            }
            return _name;
        }
        else {
            return f;
        }
    };
    Uploading.prototype.getExt = function (f) {
        var ext = '';
        if (f != undefined) {
            ext = f.split('.')[1];
        }
        return ext;
    };
    Uploading.prototype.getImage = function (f) {
        var image;
        if (f != undefined) {
            var file_arr = f.split('.');
            var ext = file_arr.length > 0 ? file_arr[file_arr.length - 1] : '';
            switch (ext) {
                case 'pdf':
                    image = 'assets/img/new_pdf.png';
                    break;
                case 'ppt':
                case 'pptx':
                    image = 'assets/img/new_ppt.png';
                    break;
                case 'doc':
                case 'docx':
                    image = 'assets/img/new_word.png';
                    break;
                case 'xls':
                case 'xlsx':
                    image = 'assets/img/new_xls.png';
                    break;
                case 'mp3':
                    image = 'assets/img/new_mp3.png';
                    break;
                case 'zip':
                    image = 'assets/img/new_zip.png';
                    break;
                case 'mp4':
                case '3gp':
                case 'flv':
                case 'avi':
                case 'mov':
                case 'wmv':
                    image = 'assets/img/new_video.png';
                    break;
                case 'jpg':
                case 'png':
                case 'jpeg':
                case 'gif':
                case 'bmp':
                case 'jpg':
                    image = Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["normalizeURL"])(f);
                    break;
                case 'google':
                    image = 'assets/img/google.png';
                    break;
                default:
                    image = 'assets/img/new_default.png';
                    break;
            }
        }
        return image;
    };
    Uploading.prototype.presentActionSheet = function () {
        var _this = this;
        if (this.platform.is('ios')) {
            var iosActionSheet = this.actionSheetCtrl.create({
                title: 'Choose one option',
                buttons: [
                    {
                        text: 'Camera',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                        }
                    },
                    {
                        text: 'Gallery',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY));
                        }
                    },
                    {
                        text: 'Upload a document',
                        handler: function () {
                            _this.upload();
                        }
                    }, {
                        text: 'Cancel',
                        role: 'cancel'
                    }
                ]
            });
            iosActionSheet.present();
        }
        else if (this.platform.is('android')) {
            var androidActionSheet = this.actionSheetCtrl.create({
                title: 'Choose one option',
                buttons: [
                    {
                        text: 'Camera',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                        }
                    },
                    {
                        text: 'Gallery',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY));
                        }
                    },
                    {
                        text: 'Upload a document',
                        handler: function () {
                            _this.upload();
                        }
                    }, {
                        text: 'Cancel',
                        role: 'cancel'
                    }
                ]
            });
            androidActionSheet.present();
        }
        else {
            console.log("Platform System");
        }
    };
    Uploading.prototype.captureImage = function (camera_options) {
        var _this = this;
        this.camera.getPicture(camera_options).then(function (imageData) {
            _this.files.push({ 'path': imageData,
                'is_selected': true,
                'is_captured': true,
                'user_defined_name': _this.getName(imageData) });
        }, function (err) {
            alert(JSON.stringify(err));
        });
    };
    Uploading.prototype.options = function (source_type) {
        var camera_options = {
            quality: 80,
            destinationType: this.camera.DestinationType.FILE_URI,
            sourceType: source_type,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.ALLMEDIA,
            correctOrientation: true
        };
        return camera_options;
    };
    Uploading.prototype.vOptions = function () {
        var video_options = {
            destinationType: this.camera.DestinationType.FILE_URI,
            mediaType: this.camera.MediaType.VIDEO
        };
        return video_options;
    };
    Uploading.prototype.captureVideo = function () {
        console.log("captureVideo mediaCapture triggered !");
        var options = { limit: 3 };
        this.mediaCapture.captureVideo(options).then(function (data) { return console.log("captureVideo Data :" + JSON.stringify(data)); }, function (err) { return console.error("captureVideo Data :" + JSON.stringify(err)); });
        // let video_options: VideoCapturePlusOptions = {
        //    limit: 1,
        //    highquality: true,
        //    portraitOverlay: 'assets/img/camera/overlay/portrait.png',
        //    landscapeOverlay: 'assets/img/camera/overlay/landscape.png'
        // }
        // this.videoCapturePlus.captureVideo(video_options).then((mediafile) => {
        //   console.log("Response VideoCapturePlus :"+JSON.stringify(mediafile));
        //   this.presentToastWithOptions("videoCapturePlus Working !");
        //   this.files.push({'path' : mediafile[0]["fullPath"] ,
        //     'is_selected' : true,
        //     'is_captured' : false, 
        //     attribute_id : 0, 
        //     'user_defined_name' : this.getName(mediafile[0]["fullPath"])});
        // },(err) => {
        //   this.presentToastWithOptions("VideoCapturePlus Error !");
        //   console.log("Error VideoCapturePlus :"+JSON.stringify(err));
        // });
    };
    Uploading.prototype.assignAttributes = function (indx) {
        var _this = this;
        var alert = this.alertCtrl.create();
        this.attr_assigned = true;
        alert.setTitle('Select Attribute');
        alert.setMessage(this.capitalize(this.navParams.data.category_name) + '-' + this.capitalize(this.navParams.data.subcategory_name));
        var selected_cat_attributes = [];
        var selected_subcat_attributes = [];
        this.files.forEach(function (d, fi) {
            if (fi !== indx) {
                if (d.attribute_id && d.attribute_type == 'cat') {
                    selected_cat_attributes.push(d.attribute_id);
                }
                else if (d.attribute_id && d.attribute_type == 'subcat') {
                    selected_subcat_attributes.push(d.attribute_id);
                }
            }
        });
        this.navParams.data.attributes.categories_attrs.forEach(function (d, i) {
            if (d.attr_type == 'file' || d.attr_type == 'image') {
                alert.addInput({
                    type: 'radio',
                    label: d.name,
                    value: i + '_cat',
                    checked: false,
                    disabled: false
                    // disabled: selected_cat_attributes.indexOf(d.id) !== -1
                });
            }
        });
        this.navParams.data.attributes.sub_categories_attrs.forEach(function (d, i) {
            if (d.attr_type == 'file' || d.attr_type == 'image') {
                alert.addInput({
                    type: 'radio',
                    label: d.name,
                    value: i + '_subcat',
                    checked: false,
                    disabled: false
                    // disabled: selected_subcat_attributes.indexOf(d.id) !== -1
                });
            }
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Ok',
            handler: function (data) {
                var d = data.split('_');
                if (d[1] == 'cat') {
                    _this.files[indx].attribute_id = _this.navParams.data.attributes.categories_attrs[d[0]].id;
                    _this.files[indx].attribute_name = _this.navParams.data.attributes.categories_attrs[d[0]].name;
                    _this.files[indx].attribute_type = 'cat';
                    _this.files[indx].category_attribute_name = _this.capitalize(_this.navParams.data.category_name) + ' - ' + _this.files[indx].attribute_name;
                    if (_this.category_files_data[_this.files[indx].attribute_id] == undefined) {
                        _this.category_files_data[_this.files[indx].attribute_id] = [];
                    }
                    _this.category_files_data[_this.files[indx].attribute_id].push(_this.files[indx]);
                }
                else if (d[1] == 'subcat') {
                    _this.files[indx].attribute_id = _this.navParams.data.attributes.sub_categories_attrs[d[0]].id;
                    _this.files[indx].attribute_name = _this.navParams.data.attributes.sub_categories_attrs[d[0]].name;
                    _this.files[indx].attribute_type = 'subcat';
                    _this.files[indx].category_attribute_name = _this.navParams.data.category_name + ' - ' + _this.files[indx].attribute_name;
                    if (_this.subcategory_files_data[_this.files[indx].attribute_id] == undefined) {
                        _this.subcategory_files_data[_this.files[indx].attribute_id] = [];
                    }
                    _this.subcategory_files_data[_this.files[indx].attribute_id].push(_this.files[indx]);
                }
            }
        });
        alert.present();
    };
    Uploading.prototype.RemoveAttributes = function (indx) {
        this.attr_assigned = false;
        if (this.files[indx].attribute_type == 'cat') {
            delete this.category_files_data[this.files[indx].attribute_id];
        }
        else if (this.files[indx].attribute_type == 'subcat') {
            delete this.subcategory_files_data[this.files[indx].attribute_id];
        }
        this.files[indx].attribute_id = 0;
    };
    Uploading.prototype.addUserDefinedName = function (i) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Enter file name',
            inputs: [
                {
                    name: 'name',
                    placeholder: 'Name'
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                    }
                },
                {
                    text: 'Save',
                    handler: function (data) {
                        _this.files[i].user_defined_name = data.name;
                    }
                }
            ]
        });
        alert.present();
    };
    Uploading.prototype.deleteFile = function (index) {
        if (index > -1) {
            this.files.splice(index, 1);
        }
    };
    //Trigger the uploadMe recursive function.
    Uploading.prototype.uploadQueue = function (doc_id) {
        var _this = this;
        var i = 0;
        Object.keys(this.category_files_data).forEach(function (d) {
            _this.category_files_data[d].forEach(function (ci, indx) {
                _this.ca_f[d + '_' + indx + '_c'] = ci;
            });
        });
        Object.keys(this.subcategory_files_data).forEach(function (s) {
            _this.subcategory_files_data[s].forEach(function (si, indx) {
                _this.ca_f[s + '_' + indx + '_s'] = si;
            });
        });
        var fst = Object.keys(this.ca_f);
        if (fst.length > 0) {
            var fst_key = fst[i];
            this.Notifications.uploadingToast('Uploading Files');
            this.uploadMe(this.ca_f[fst_key], fst_key.split('_')[i], doc_id, i);
        }
    };
    //Recursively uploads the document
    Uploading.prototype.uploadMe = function (uri, d, doc_id, i, u, f) {
        var _this = this;
        if (u === void 0) { u = 0; }
        if (f === void 0) { f = 0; }
        var keys = Object.keys(this.ca_f);
        var is_cat = keys[i][keys[i].length - 1] == 'c' ? true : false;
        i = i + 1;
        var next = keys[i];
        var current_user = this.session.getUser();
        var fileTransfer = this.transfer.create();
        var params = {
            'fileName': this.getName(uri.path),
            'org_user_id': current_user.user_id,
            'org_id': current_user.user_org_id,
            'user_defined_name': uri.user_defined_name,
            'doc_id': doc_id,
            'req_id': '',
            'type': ''
        };
        if (is_cat) {
            params.req_id = d;
            params.type = 'cat';
        }
        else {
            params.req_id = d;
            params.type = 'subcat';
        }
        var options = {
            fileKey: 'file',
            fileName: this.getName(uri.path),
            mimeType: "multipart/form-data",
            params: params
        };
        fileTransfer.onProgress(function (progressEvent) {
            if (progressEvent.lengthComputable) {
                var progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);
                _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length, progress);
                _this._ngZone.run(function () { console.log('Outside Done!'); });
            }
        });
        fileTransfer.upload(uri.path, __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].api_url + 'auth/document_uploads', options)
            .then(function (data) {
            u = u + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { console.log('Outside Done!'); });
            if (next) {
                _this.uploadMe(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        }, function (err) {
            f = f + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { console.log('Outside Done!'); });
            if (next) {
                _this.uploadMe(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        });
    };
    Uploading.prototype.save = function () {
        var _this = this;
        if (this.attr_assigned == true) {
            this.Notifications.presentLoader();
            if (this.navParams.data.doc_id) {
                this.Notifications.dismissLoader();
                this.uploadQueue(this.navParams.data.doc_id);
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: this.navParams.data.doc_id });
            }
            else {
                this.DocumentService.create({ category: this.category_data,
                    category_id: this.category_id,
                    designation: this.designation,
                    subcategory_id: this.subcategory_id,
                    subcategory: this.subcategory_data,
                    subcategory_files: this.subcategory_files_data,
                    tags: this.tags,
                    category_files: this.category_files_data,
                    page: this.navParams.get('page'),
                    request_id: this.navParams.get('request_id')
                })
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    if (data.main_success) {
                        _this.uploadQueue(data.doc_id);
                        _this.goTo();
                    }
                    else {
                        _this.Notifications.presentToast(data.main_message);
                    }
                });
            }
        }
        else {
            this.presentToastWithOptions("Please select category for file !");
        }
    };
    Uploading.prototype.capitalize = function (str) {
        if (str.length > 0)
            return str.charAt(0).toUpperCase() + str.slice(1);
    };
    Uploading.prototype.goTo = function () {
        switch (this.navParams.get('page')) {
            case 'linked_agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__agenda_links_documents_create_create__["a" /* CreateLinkedDocument */], { task_id: this.navParams.get('request_id') });
                break;
            case 'linked_contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__contact_internal_links_documents_create_create__["a" /* CreateLinkedDocumentForCI */], { contact_id: this.navParams.get('request_id'), row_id: this.navParams.get('row_id') });
                break;
            case 'linked_contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__contact_external_links_documents_create_create__["a" /* CreateLinkedDocumentForCE */], { contact_id: this.navParams.get('request_id'), row_id: this.navParams.get('row_id') });
                break;
            case 'linked_infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__infrastructure_links_documents_create_create__["a" /* CreateLinkedDocumentForInfrastructure */], { location_id: this.navParams.get('request_id') });
                break;
            case 'linked_equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_13__equipments_links_documents_create_create__["a" /* CreateLinkedDocumentsForEquipments */], { equipment_id: this.navParams.get('request_id') });
                break;
            default:
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__documents_list_documents_list__["a" /* DocumentsList */]);
                break;
        }
    };
    Uploading.prototype.presentToastWithOptions = function (msg) {
        var toast = this.toastController.create({
            message: msg,
            showCloseButton: true,
            position: 'top',
            closeButtonText: 'Done'
        });
        toast.present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Uploading.prototype, "navBar", void 0);
    Uploading = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create-uploading',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/uploading/uploading.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Uploading Files\n    </ion-title>\n     <ion-buttons right>\n      <!-- <button ion-button (click)="next()" clear>Next</button> -->\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n   <ion-grid class="grid-reload"  *ngIf="files?.length == 0" > \n    <ion-row text-center>\n      <ion-col>\n        <button ion-button outline icon-start (click)="presentActionSheet()"> <ion-icon ios="ios-cloud-upload" md="md-cloud-upload"></ion-icon> Upload files </button>\n        <!-- <p>OR</p>\n        <button ion-button (click)="next()" color="light" >Skip</button> -->\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n    <ion-list-header class="my-header item item-ios list-header list-header-ios"  *ngIf="files?.length > 0" >\n      Select Files\n    </ion-list-header>\n    <ion-list *ngIf="files?.length > 0" >\n      <ion-item-sliding *ngFor="let f of files; let i = index " >\n        <ion-item>\n          <ion-thumbnail item-start>\n            <!-- <div class="profile-div"> -->\n               <!-- <div class="profile-pic" > -->\n                <img class="uploaded-img" *ngIf="f.is_captured" [src]="DomSanitizer.bypassSecurityTrustUrl(f.path)" >\n                <img class="uploaded-img" [src]="getImage(f.path)" *ngIf="!f.is_captured">\n              <!-- </div>\n            </div>\n   -->\n          </ion-thumbnail>\n          <h2> <input class="file-input" [(ngModel)]="f.user_defined_name" type="text"  > </h2>\n          <p *ngIf="f.attribute_id > 0" text-capitalize>\n            {{f.category_attribute_name}}\n            <!-- <br/> -->\n            <button class="remove-btn" ion-button clear item-end color="danger" (click)="RemoveAttributes(i)"><ion-icon name="ios-trash"></ion-icon></button>\n          </p>\n          <button class="add-btn" ion-button clear item-end (click)="assignAttributes(i)" ><ion-icon name="{{f.attribute_id > 0 ? \'md-checkbox\' : \'md-square-outline\' }}"></ion-icon>\n          </button>\n        </ion-item>\n        <ion-item-options side="right">\n          <button ion-button (click)="deleteFile(i)" color="danger">\n            <ion-icon name="ios-trash"></ion-icon>\n          </button>\n        </ion-item-options>\n      </ion-item-sliding>\n    </ion-list>\n</ion-content>\n\n<ion-footer *ngIf="files?.length > 0">\n	 <ion-fab right bottom >\n	    <button class="add-btn" ion-fab (click)="presentActionSheet()" >\n        <ion-icon name="add" style="font-size: 3.4rem;" ></ion-icon>\n      </button>\n	 </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/uploading/uploading.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_16__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_19__ionic_native_media_capture_ngx__["a" /* MediaCapture */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_17__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_15__ionic_native_file_chooser__["a" /* FileChooser */],
            __WEBPACK_IMPORTED_MODULE_16__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_8__angular_platform_browser__["c" /* DomSanitizer */],
            __WEBPACK_IMPORTED_MODULE_18__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ToastController"],
            __WEBPACK_IMPORTED_MODULE_19__ionic_native_media_capture_ngx__["a" /* MediaCapture */]])
    ], Uploading);
    return Uploading;
}());

//# sourceMappingURL=uploading.js.map

/***/ }),

/***/ 197:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsShare; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var DocumentsShare = (function () {
    function DocumentsShare(navCtrl, actionSheetCtrl, authService, alertCtrl, Notifications, DocumentService, navParams, session, globalVars) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.authService = authService;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.DocumentService = DocumentService;
        this.navParams = navParams;
        this.session = session;
        this.globalVars = globalVars;
        this.permissions = {};
        this.reload = false;
        this.send_notification = false;
        this.organisations = {};
        this.users = [];
        this.config = __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */];
        this.getUsers();
    }
    DocumentsShare.prototype.getUsers = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.searchUsers(this.navParams.get('search'))
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.organisations = data.orgs;
                _this.users = data.users;
                _this.selected_users = new Array(_this.users.length);
                _this.reload = false;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    DocumentsShare.prototype.reloadMe = function () {
        this.getUsers();
    };
    DocumentsShare.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getUsers();
            refresher.complete();
        }, 2000);
    };
    DocumentsShare.prototype.getUrl = function (user) {
        return this.config.api_url + 'documents/download?fileName=' + user.profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + user.org_id;
    };
    DocumentsShare.prototype.setPermissions = function (i) {
        var _this = this;
        if (this.selected_users[i]) {
            this.Notifications.presentLoader();
            this.DocumentService.getSharedDocument({ user_id: this.users[i].user_id, org_id: this.users[i].org_id, doc_id: this.navParams.get('doc_id') })
                .then(function (data) {
                _this.Notifications.dismissLoader();
                if (data.error == undefined) {
                    _this.reload = false;
                    var alert_1 = _this.alertCtrl.create();
                    alert_1.setTitle('Select Permissions');
                    var checked_values = {
                        can_read: true,
                        can_share: false,
                        can_update: false,
                        can_download: false,
                        can_external_share: false,
                        can_create_revison: false,
                        can_valid_revision: false
                    };
                    if (data.result.status) {
                        checked_values.can_read = parseInt(data.result.shared_document.can_read) ? true : false;
                        checked_values.can_share = parseInt(data.result.shared_document.can_share) ? true : false;
                        checked_values.can_update = parseInt(data.result.shared_document.can_update) ? true : false;
                        checked_values.can_external_share = parseInt(data.result.shared_document.can_download) ? true : false;
                        checked_values.can_download = parseInt(data.result.shared_document.can_download) ? true : false;
                        console.log(data.result);
                        if (data.result.shared_document.shared_with_me) {
                            if (_this.navParams.data.permissions) {
                                var permissions = _this.navParams.data.permissions;
                                if (parseInt(permissions.can_read)) {
                                    alert_1.addInput({
                                        type: 'checkbox',
                                        label: 'View description and files',
                                        disabled: true,
                                        value: 'can_read',
                                        checked: checked_values.can_read
                                    });
                                }
                                if (parseInt(permissions.can_share)) {
                                    alert_1.addInput({
                                        type: 'checkbox',
                                        label: 'Share description and files',
                                        value: 'can_share',
                                        checked: checked_values.can_share
                                    });
                                }
                                if (parseInt(permissions.can_update)) {
                                    alert_1.addInput({
                                        type: 'checkbox',
                                        label: 'Update description and files',
                                        value: 'can_update',
                                        checked: checked_values.can_update
                                    });
                                }
                                if (parseInt(permissions.can_download)) {
                                    alert_1.addInput({
                                        type: 'checkbox',
                                        label: 'Download attached files',
                                        value: 'can_download',
                                        checked: checked_values.can_download,
                                        handler: function (data) {
                                            alert_1.data.inputs.forEach(function (input, ind) {
                                                if (input.value == "can_external_share") {
                                                    alert_1.data.inputs[ind].disabled = !data.checked;
                                                }
                                            });
                                        }
                                    });
                                }
                                if (parseInt(permissions.can_external_share)) {
                                    alert_1.addInput({
                                        type: 'checkbox',
                                        label: 'External share',
                                        value: 'can_external_share',
                                        checked: checked_values.can_external_share,
                                        disabled: !checked_values.can_download
                                    });
                                }
                                //Next Version 
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Create a Revision',
                                    value: 'can_create_revison',
                                    checked: checked_values.can_create_revison,
                                    disabled: true
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Valide a revision',
                                    value: 'can_valid_revision',
                                    checked: checked_values.can_create_revison,
                                    disabled: true
                                });
                            }
                            else {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'View description and files',
                                    disabled: true,
                                    value: 'can_read',
                                    checked: checked_values.can_read
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Update description and files',
                                    value: 'can_update',
                                    checked: checked_values.can_update
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Download attached files',
                                    value: 'can_download',
                                    checked: checked_values.can_download,
                                    handler: function (data) {
                                        alert_1.data.inputs.forEach(function (input, ind) {
                                            if (input.value == "can_external_share") {
                                                alert_1.data.inputs[ind].disabled = !data.checked;
                                            }
                                        });
                                    }
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Share description and files',
                                    value: 'can_share',
                                    checked: checked_values.can_share
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'External share',
                                    value: 'can_external_share',
                                    checked: checked_values.can_external_share,
                                    disabled: !checked_values.can_download
                                });
                                //Next Version 
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Create a Revision',
                                    value: 'can_create_revison',
                                    checked: checked_values.can_create_revison,
                                    disabled: true
                                });
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Valide a revision',
                                    value: 'can_valid_revision',
                                    checked: checked_values.can_valid_revision,
                                    disabled: true
                                });
                            }
                            alert_1.addButton({
                                text: 'Cancel',
                                role: 'cancel',
                                handler: function (data) {
                                    _this.selected_users[i] = false;
                                }
                            });
                            alert_1.addButton({
                                text: 'Ok',
                                handler: function (data) {
                                    _this.permissions[_this.users[i].user_id] = data;
                                }
                            });
                            alert_1.present();
                        }
                        else {
                            var checkboxes = [
                                { title: 'View description and files', disabled: true, value: 'can_read', checked: checked_values.can_read },
                                { title: 'Update description and files', disabled: true, value: 'can_update', checked: checked_values.can_update },
                                { title: 'Download attached files', disabled: true, value: 'can_download', checked: checked_values.can_download },
                                { title: 'Share description and files', disabled: true, value: 'can_share', checked: checked_values.can_share },
                                { title: 'External share', disabled: true, value: 'can_external_share', checked: checked_values.can_external_share },
                                { title: 'Create a Revision', disabled: true, value: 'can_create_revison', checked: false },
                                { title: 'Valide a revision', disabled: true, value: 'can_valid_revision', checked: false },
                            ];
                            var alertNew_1 = _this.alertCtrl.create();
                            alertNew_1.setTitle('Warning');
                            alertNew_1.setMessage('Document is already shared by ' + data.result.shared_document.shared_by.name + ' with following permissions ');
                            checkboxes.forEach(function (check) {
                                alertNew_1.addInput({
                                    type: 'checkbox',
                                    label: check.title,
                                    disabled: check.disabled,
                                    value: check.value,
                                    checked: check.checked
                                });
                            });
                            alertNew_1.addButton({
                                text: 'Ok',
                                role: 'ok',
                                handler: function (data) {
                                    _this.selected_users[i] = false;
                                }
                            });
                            alertNew_1.present();
                        }
                    }
                    else {
                        if (_this.navParams.data.permissions) {
                            var permissions = _this.navParams.data.permissions;
                            if (parseInt(permissions.can_read)) {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'View description and files',
                                    disabled: true,
                                    value: 'can_read',
                                    checked: checked_values.can_read
                                });
                            }
                            if (parseInt(permissions.can_share)) {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Share description and files',
                                    value: 'can_share',
                                    checked: checked_values.can_share
                                });
                            }
                            if (parseInt(permissions.can_update)) {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Update description and files',
                                    value: 'can_update',
                                    checked: checked_values.can_update
                                });
                            }
                            if (parseInt(permissions.can_download)) {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'Download attached files',
                                    value: 'can_download',
                                    checked: checked_values.can_download,
                                    handler: function (data) {
                                        alert_1.data.inputs.forEach(function (input, ind) {
                                            if (input.value == "can_external_share") {
                                                alert_1.data.inputs[ind].disabled = !data.checked;
                                            }
                                        });
                                    }
                                });
                            }
                            if (parseInt(permissions.can_external_share)) {
                                alert_1.addInput({
                                    type: 'checkbox',
                                    label: 'External share',
                                    value: 'can_external_share',
                                    checked: checked_values.can_external_share,
                                    disabled: !checked_values.can_download
                                });
                            }
                            //Next Version 
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Create a Revision',
                                value: 'can_create_revison',
                                checked: checked_values.can_create_revison,
                                disabled: true
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Valide a revision',
                                value: 'can_valid_revision',
                                checked: checked_values.can_create_revison,
                                disabled: true
                            });
                        }
                        else {
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'View description and files',
                                disabled: true,
                                value: 'can_read',
                                checked: checked_values.can_read
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Update description and files',
                                value: 'can_update',
                                checked: checked_values.can_update
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Download attached files',
                                value: 'can_download',
                                checked: checked_values.can_download,
                                handler: function (data) {
                                    alert_1.data.inputs.forEach(function (input, ind) {
                                        if (input.value == "can_external_share") {
                                            alert_1.data.inputs[ind].disabled = !data.checked;
                                        }
                                    });
                                }
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Share description and files',
                                value: 'can_share',
                                checked: checked_values.can_share
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'External share',
                                value: 'can_external_share',
                                checked: checked_values.can_external_share,
                                disabled: !checked_values.can_download
                            });
                            //Next Version 
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Create a Revision',
                                value: 'can_create_revison',
                                checked: checked_values.can_create_revison,
                                disabled: true
                            });
                            alert_1.addInput({
                                type: 'checkbox',
                                label: 'Valide a revision',
                                value: 'can_valid_revision',
                                checked: checked_values.can_valid_revision,
                                disabled: true
                            });
                        }
                        alert_1.addButton({
                            text: 'Cancel',
                            role: 'cancel',
                            handler: function (data) {
                                _this.selected_users[i] = false;
                            }
                        });
                        alert_1.addButton({
                            text: 'Ok',
                            handler: function (data) {
                                _this.permissions[_this.users[i].user_id] = data;
                            }
                        });
                        alert_1.present();
                    }
                }
                else {
                    _this.Notifications.presentToast('Please Request Again');
                    _this.reload = true;
                }
            });
        }
    };
    DocumentsShare.prototype.share = function () {
        var _this = this;
        console.log("call method");
        var users = [];
        this.selected_users.forEach(function (bool, ind) {
            users.push(_this.users[ind]);
        });
        var owner;
        if (this.navParams.data.permissions) {
            owner = { id: this.navParams.data.permissions.id,
                owner_org_id: this.navParams.data.permissions.owner_org_id,
                owner_user_id: this.navParams.data.permissions.owner_user_id
            };
        }
        else {
            owner = {};
        }
        this.Notifications.presentLoader();
        this.DocumentService.shareDocument({ "doc_id": this.navParams.get('doc_id'), "users": users, "permissions": this.permissions, "owner": owner, "send_notification": this.send_notification }).then(function (data) {
            _this.Notifications.dismissLoader();
            var alert = _this.alertCtrl.create({
                title: 'Shared Successfull',
                subTitle: 'Document is shared successfully with the selected users'
            });
            alert.addButton({
                text: 'Ok',
                handler: function (data) {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_list_documents_list__["a" /* DocumentsList */]);
                }
            });
            alert.present();
        });
    };
    DocumentsShare = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-share-documents',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_share/documents_share.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Users\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="share()" clear>Share</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n   \n    <ion-list >\n\n      <ion-item>\n        <ion-label>Send notification to user(s) </ion-label>\n        <ion-checkbox [(ngModel)]="send_notification" item-end></ion-checkbox>\n      </ion-item>\n\n      <ion-item *ngFor="let user of users; let i = index "  >\n        <ion-avatar item-start>\n          <img src="{{getUrl(user)}}">\n        </ion-avatar>\n        <ion-label>\n           <h2 text-capitalize >{{user.name}}</h2>\n           <p text-capitalize>{{user.org_name}}</p>\n        </ion-label>\n        <ion-checkbox [(ngModel)]="selected_users[i]" item-end (ionChange)="setPermissions(i)" ></ion-checkbox>\n      </ion-item>\n\n    </ion-list>\n\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n\n    <ion-grid class="grid-reload" *ngIf=" !reload && users?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad"></ion-icon><p>\n          <p>No Record Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    \n</ion-content>\n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_share/documents_share.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]])
    ], DocumentsShare);
    return DocumentsShare;
}());

//# sourceMappingURL=documents_share.js.map

/***/ }),

/***/ 198:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsShared; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__documents_conditions_documents_conditions__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__documents_share_documents_share__ = __webpack_require__(197);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var DocumentsShared = (function () {
    function DocumentsShared(navCtrl, actionSheetCtrl, authService, alertCtrl, Notifications, DocumentService, navParams, session, globalVars) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.authService = authService;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.DocumentService = DocumentService;
        this.navParams = navParams;
        this.session = session;
        this.globalVars = globalVars;
        this.page = { view: __WEBPACK_IMPORTED_MODULE_7__documents_list_view_documents_list_view__["a" /* DocumentsListView */], info: __WEBPACK_IMPORTED_MODULE_8__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */] };
        this.org_name = '';
        this.my_permissions = [];
        this.othersUserKeys = [];
        this.myUserKeys = [];
        this.othersOrgKeys = [];
        this.documents = [];
        this.organisations = [];
        this.shared_with_me_documents = [];
        this.shared_with_others_documents = [];
        this.reload = false;
        this.is_searched = false;
        this.have_more = false;
        this.is_request = false;
        this.shared_with = 'me';
        this.topbar = 'open';
        this.search = '';
        this.my_search = '';
        this.other_search = '';
        this.current_page = 1;
        this.documents = this.navParams.data.documents;
        this.my_permissions = this.navParams.data.permissions || [];
        this.conditions = this.navParams.data.conditions || [];
        this.search_org_id = this.navParams.data.org_id;
        this.org_name = this.navParams.data.org_name;
        this.params = { cat_attrs: this.navParams.data.cat_attrs,
            sub_cat_attrs: this.navParams.data.sub_cat_attrs,
            shared_with: this.navParams.data.shared_with,
            category: this.navParams.data.category || [],
            conditions: this.conditions,
            callback: 'shared',
            subcategory: this.navParams.data.subcategory || [] };
        console.log(this.conditions);
        console.log(this.documents);
        if (this.documents == undefined) {
            this.init();
        }
        else {
            this.all_shared_documents = false;
            this.shared_with = this.navParams.data.shared_with;
        }
    }
    DocumentsShared.prototype.init = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getShareDocumentCount()
            .then(function (data) {
            if (data.count > __WEBPACK_IMPORTED_MODULE_11__app_config__["a" /* config */].shared_documents_count) {
                _this.all_shared_documents = false;
                _this.DocumentService.getSharedDocumentOrgs(_this.shared_with)
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    _this.selectOrg(data.organisations);
                    _this.organisations = data.organisations;
                });
            }
            else {
                _this.all_shared_documents = true;
                _this.getDocuments();
            }
        });
    };
    DocumentsShared.prototype.permissions = function (doc, u) {
        var _this = this;
        var alert = this.alertCtrl.create();
        alert.setTitle('Select Permissions');
        var permissions = this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by];
        var permission;
        var cindx = 0;
        var indx = 0;
        permissions.forEach(function (d) {
            if (doc.id == d.doc_id) {
                permission = d;
                indx = cindx;
            }
            cindx++;
        });
        var checked_values = {
            can_read: parseInt(permission.can_read) ? true : false,
            can_share: parseInt(permission.can_share) ? true : false,
            can_update: parseInt(permission.can_update) ? true : false,
            can_download: parseInt(permission.can_download) ? true : false,
            can_external_share: parseInt(permission.can_external_share) ? true : false,
            can_create_revison: false,
            can_valid_revision: false
        };
        alert.addInput({
            type: 'checkbox',
            label: 'View description and files',
            value: 'can_read',
            disabled: true,
            checked: checked_values.can_read
        });
        alert.addInput({
            type: 'checkbox',
            label: 'Update description and files',
            value: 'can_update',
            checked: checked_values.can_update
        });
        alert.addInput({
            type: 'checkbox',
            label: 'Download attached files',
            value: 'can_download',
            checked: checked_values.can_download,
            handler: function (data) {
                alert.data.inputs.forEach(function (input, ind) {
                    if (input.value == "can_external_share") {
                        alert.data.inputs[ind].disabled = !data.checked;
                    }
                });
            }
        });
        alert.addInput({
            type: 'checkbox',
            label: 'Share description and files',
            value: 'can_share',
            checked: checked_values.can_share
        });
        alert.addInput({
            type: 'checkbox',
            label: 'External share',
            value: 'can_external_share',
            checked: checked_values.can_external_share,
            disabled: !checked_values.can_download
        });
        //Next Version 
        alert.addInput({
            type: 'checkbox',
            label: 'Create a Revision',
            value: 'can_create_revison',
            checked: false,
            disabled: true
        });
        alert.addInput({
            type: 'checkbox',
            label: 'Valide a revision',
            value: 'can_valid_revision',
            checked: false,
            disabled: true
        });
        //Next Version 
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Ok',
            handler: function (data) {
                console.log(data);
                var params = { data: data, shared_document: permission };
                console.log(data);
                if (data.indexOf('can_read') !== -1) {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_read'] = '1';
                }
                else {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_read'] = '0';
                }
                if (data.indexOf('can_share') !== -1) {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_share'] = '1';
                }
                else {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_share'] = '0';
                }
                if (data.indexOf('can_update') !== -1) {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_update'] = '1';
                }
                else {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_update'] = '0';
                }
                if (data.indexOf('can_download') !== -1) {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_download'] = '1';
                }
                else {
                    _this.data.shared_with_others.permissions[doc.shared_by_org][doc.shared_by][indx]['can_download'] = '0';
                }
                _this.DocumentService.updateSharedDocumentsPermissions(params)
                    .then(function (res) {
                });
            }
        });
        alert.present();
    };
    DocumentsShared.prototype.getDocuments = function () {
        var _this = this;
        this.othersUserKeys = [];
        this.myUserKeys = [];
        this.my_documents = [];
        this.others_documents = [];
        this.DocumentService.sharedDocuments()
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
                _this.others_documents = data.shared_with_others.documents;
                _this.my_documents = data.shared_with_me.documents;
                _this.others_users = data.shared_with_others.users;
                _this.my_users = data.shared_with_me.users;
                _this.othersOrgKeys = Object.keys(data.shared_with_others.documents);
                _this.myUserKeys = Object.keys(data.shared_with_me.documents);
                _this.my_permissions = data.shared_with_me.permissions;
                _this.reload = false;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    DocumentsShared.prototype.getOrgUsers = function (org_id) {
        if (this.others_documents[org_id])
            return Object.keys(this.others_documents[org_id]);
    };
    DocumentsShared.prototype.getOrgDocuments = function (id) {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.sharedDocuments(id, 1)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
                _this.search_org_id = id;
                _this.others_documents = data.shared_with_others.documents;
                _this.my_documents = data.shared_with_me.documents;
                _this.my_permissions = data.shared_with_me.permissions;
                _this.others_users = data.shared_with_others.users;
                _this.my_users = data.shared_with_me.users;
                _this.myUserKeys = Object.keys(data.shared_with_me.documents);
                _this.othersOrgKeys = Object.keys(data.shared_with_others.documents);
                if (_this.shared_with == 'me') {
                    _this.selected_org = data.shared_with_me.organisations[id];
                    _this.org_name = data.shared_with_me.organisations[id].name;
                }
                else {
                    _this.selected_org = data.shared_with_others.organisations[id];
                    _this.org_name = data.shared_with_others.organisations[id].name;
                }
                _this.reload = false;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    DocumentsShared.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.sharedDocuments(this.search_org_id, ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.shared_with_me.documents.length < __WEBPACK_IMPORTED_MODULE_11__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.shared_with_me.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    DocumentsShared.prototype.replaceDocument = function (s) {
        var _this = this;
        // if(this.search !== '') {
        //     this.search = '';
        //     this.getItems();
        // } else {
        if (s == 'me') {
            this.documents = this.my_documents;
            this.search = this.my_search;
        }
        else {
            this.documents = this.others_documents;
            this.search = this.other_search;
        }
        // }
        this.DocumentService.getSharedDocumentOrgs(this.shared_with)
            .then(function (data) {
            _this.organisations = data.organisations;
        });
    };
    DocumentsShared.prototype.selectOrg = function (orgs) {
        var _this = this;
        var alert = this.alertCtrl.create();
        alert.setTitle('Select Organisation');
        orgs.forEach(function (d) {
            alert.addInput({
                type: 'radio',
                label: d.name,
                value: d.id,
                checked: false
            });
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Ok',
            handler: function (data) {
                if (data > 0) {
                    _this.getOrgDocuments(data);
                }
            }
        });
        alert.present();
    };
    DocumentsShared.prototype.view = function (state, d) {
        console.log(d);
        console.log(this.my_permissions);
        if (this.shared_with == 'me') {
            var permissions = this.my_permissions[d.shared_by_org][d.shared_by];
            var permission_1;
            permissions.forEach(function (p) {
                if (p.doc_id == d.id) {
                    permission_1 = p;
                }
            });
            console.log(permission_1, 'permission');
            if (!permission_1) {
                this.Notifications.presentToast('Document permissions not found');
                return false;
            }
            if (parseInt(permission_1.can_read)) {
                this.navCtrl.push(state, {
                    id: d.id,
                    org_id: d.org_id,
                    permission: permission_1
                });
            }
            else {
                this.Notifications.presentToast('You do not have permission to read the document');
            }
        }
        else {
            this.navCtrl.push(state, {
                id: d.id
            });
        }
    };
    DocumentsShared.prototype.getItems = function () {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchSharedDocuments(_this.search.toLowerCase(), _this.search_org_id, _this.shared_with)
                    .then(function (data) {
                    _this.is_searched = false;
                    if (_this.shared_with == 'me') {
                        _this.my_search = _this.search;
                        _this.my_permissions = data.permissions;
                        _this.my_documents = data.documents;
                        _this.my_users = data.users;
                        _this.myUserKeys = Object.keys(data.documents);
                    }
                    else {
                        _this.other_search = _this.search;
                        _this.othersOrgKeys = Object.keys(data.documents);
                        _this.others_documents = data.documents;
                        _this.others_users = data.users;
                    }
                });
            }, 500);
        }
    };
    DocumentsShared.prototype.searchSetting = function () {
        var _this = this;
        var handler = function (data) {
            _this.search_org_id = data;
        };
        this.filters(handler);
    };
    DocumentsShared.prototype.applyConditions = function () {
        var _this = this;
        console.log(this.search_org_id);
        if (this.search_org_id) {
            this.params.org_id = this.search_org_id;
            this.params.org_name = this.org_name;
            this.params.shared_with = this.shared_with;
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__documents_conditions_documents_conditions__["a" /* DocumentsConditions */], this.params);
        }
        else {
            var handler = function (data) {
                _this.params.org_id = data;
                _this.params.org_name = _this.org_name;
                _this.params.shared_with = _this.shared_with;
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__documents_conditions_documents_conditions__["a" /* DocumentsConditions */], _this.params);
            };
            this.filters(handler);
        }
    };
    DocumentsShared.prototype.filters = function (handler) {
        var _this = this;
        var alert = this.alertCtrl.create();
        alert.setTitle('Select Organisation');
        Object.keys(this.data.shared_with_me.organisations).forEach(function (d) {
            alert.addInput({
                type: 'radio',
                label: _this.data.shared_with_me.organisations[d].name,
                value: d,
                checked: false
            });
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Ok',
            handler: handler
        });
        alert.present();
    };
    DocumentsShared.prototype.cancel = function (doc_id, user_id, org_id) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to cancel the sharing of document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        var params = {
                            doc_id: doc_id,
                            user_id: user_id,
                            org_id: org_id
                        };
                        _this.Notifications.presentLoader();
                        _this.DocumentService.cancelSharedDocument(params)
                            .then(function (data) {
                            _this.Notifications.dismissLoader();
                            _this.Notifications.presentToast('Success');
                            _this.getDocuments();
                        }, function (err) {
                            _this.Notifications.dismissLoader();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    DocumentsShared.prototype.reloadMe = function () {
        this.getDocuments();
    };
    DocumentsShared.prototype.presentActionSheet = function (p, d) {
        var _this = this;
        var options = [];
        if (this.shared_with == 'me') {
            var permissions = this.my_permissions[d.shared_by_org][d.shared_by];
            var permission_2;
            permissions.forEach(function (p) {
                if (p.doc_id == d.id) {
                    permission_2 = p;
                }
            });
            console.log(permission_2, 'permission');
            if (!permission_2) {
                this.Notifications.presentToast('Document permissions not found');
                return false;
            }
            if (parseInt(permission_2.can_share)) {
                options = options.concat([{
                        text: 'Description',
                        handler: function () {
                            _this.view(p, d);
                        }
                    }, {
                        text: 'View files',
                        handler: function () {
                            _this.view(_this.page.view, d);
                        }
                    }, {
                        text: 'Share',
                        handler: function () {
                            _this.searchUserPrompt(d, permission_2);
                        }
                    }, {
                        text: 'Cancel',
                        role: 'cancel'
                    }]);
            }
            else {
                options = options.concat([{
                        text: 'Description',
                        handler: function () {
                            _this.view(p, d);
                        }
                    }, {
                        text: 'View files',
                        handler: function () {
                            _this.view(_this.page.view, d);
                        }
                    }, {
                        text: 'Cancel',
                        role: 'cancel'
                    }]);
            }
        }
        else {
            options = options.concat([{
                    text: 'Description',
                    handler: function () {
                        _this.view(p, d);
                    }
                }, {
                    text: 'View files',
                    handler: function () {
                        _this.view(_this.page.view, d);
                    }
                }, {
                    text: 'Cancel',
                    role: 'cancel'
                }]);
        }
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    DocumentsShared.prototype.actionSheetOthers = function (d, u) {
        var _this = this;
        if (u === void 0) { u = false; }
        var options = [];
        if (!u) {
            u = this.navParams.data.users[d.shared_by];
        }
        console.log(d);
        console.log(u);
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(_this.page.info, d);
                }
            }, {
                text: 'View files',
                handler: function () {
                    _this.view(_this.page.view, d);
                }
            }, {
                text: 'Permissions',
                handler: function () {
                    _this.permissions(d, u);
                }
            }, {
                text: 'Remove sharing',
                role: 'destructive',
                handler: function () {
                    _this.cancel(d.id, u, d.org_id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    DocumentsShared.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.completes();
        }, 2000);
    };
    DocumentsShared.prototype.getUrl = function (u) {
        var user = this.shared_with == 'me' ? this.my_users[u] : this.others_users[u];
        return __WEBPACK_IMPORTED_MODULE_11__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + user.profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + user.org_id;
    };
    DocumentsShared.prototype.searchUserPrompt = function (d, permissions) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Search',
            message: 'Search the user by firstname or lastname to share your document.',
            inputs: [
                {
                    name: 'username',
                    placeholder: 'Fill in firstname or lastname'
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                    }
                },
                {
                    text: 'Search',
                    handler: function (data) {
                        console.log('userdata', data);
                        _this.share(d, data.username, permissions);
                    }
                }
            ]
        });
        alert.present();
    };
    DocumentsShared.prototype.share = function (d, search, permissions) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__documents_share_documents_share__["a" /* DocumentsShare */], {
            doc_id: d.id,
            type: 'users',
            search: search,
            callback: 'shared',
            permissions: permissions
        });
    };
    DocumentsShared = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-shared-documents',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_shared/documents_shared.html"*/'<ion-header>\n\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n   \n    <ion-title>\n      Shared Documents\n    </ion-title>\n      <ion-buttons right>\n        <button *ngIf="!all_shared_documents" ion-button icon-only (click)= "init()"> <ion-icon name="ios-people"><ion-badge class="custom-bagde" *ngIf="organisations?.length > 0"  color="danger">{{organisations?.length}}</ion-badge></ion-icon> </button>\n        <button *ngIf="!all_shared_documents " ion-button icon-only (click)= "applyConditions()">  <ion-icon ios="ios-options" md="md-options" item-end color="red"><ion-badge class="custom-bagde" *ngIf="conditions?.length > 0 && conditions[0].value !== \'\'" color="danger">{{conditions?.length}}</ion-badge> </ion-icon> </button>\n      </ion-buttons>\n  </ion-navbar>\n\n   <ion-searchbar *ngIf="!all_shared_documents" [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n\n   <div *ngIf="all_shared_documents">\n       <ion-segment [(ngModel)]="topbar" class="my-ion-segment" >\n          <ion-segment-button value="open"  class="my-ion-segment-button">\n            All Documents \n          </ion-segment-button>\n       </ion-segment>\n   </div>\n\n   <div *ngIf="shared_with == \'me\' && !all_shared_documents && org_name">\n     <ion-segment  [(ngModel)]="topbar" >\n       <ion-segment-button value="open" class="my-ion-segment-button">\n          <div text-capitalize >\n                <span class="company-title"> {{org_name}} {{conditions?.length > 0 ? \'(Shared with me)\' : \'\'}}</span>\n          </div>\n        </ion-segment-button>\n     </ion-segment>\n   </div>\n  \n   <div *ngIf="shared_with == \'others\'  && search_org_id > 0">\n      <ion-segment  [(ngModel)]="topbar" >\n        <ion-segment-button value="open" class="my-ion-segment-button">\n          <div text-capitalize >\n            <span class="company-title"> {{org_name}} {{conditions?.length > 0 ? \'(Shared with others)\' : \'\'}}</span>\n          </div>\n        </ion-segment-button>\n      </ion-segment>\n   </div> \n\n</ion-header>\n\n<ion-content >\n\n    <div [ngSwitch]="shared_with" [class]="!all_shared_documents && conditions?.length == 0  ? \'mt-90\' : \'\'"> \n\n      <ion-list *ngSwitchCase="\'me\'" >\n        \n        <div *ngIf="all_shared_documents && conditions?.length == 0" >\n          \n          <div *ngFor="let u of myUserKeys;" >\n\n            <ion-list-header class="my-list-header">\n               <ion-avatar class="my-avatar" item-start >\n                <img class="my-img" src="{{getUrl(u)}}">\n              </ion-avatar>\n               <span>{{my_users[u][\'name\']}}</span>\n\n            </ion-list-header>\n\n            <ion-item *ngFor="let d of my_documents[u]; let i = index " >\n\n              <div tappable (click)=\'view(page.view, d);\'>\n                <h2>{{d.designation}}</h2>\n                <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n              </div>\n\n              <button class="wd-30" ion-button (click)=\'presentActionSheet(page.info, d);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n\n            </ion-item> \n\n          </div> \n\n        </div>\n        \n        <div *ngIf="!all_shared_documents && conditions?.length == 0">\n\n          <div *ngFor="let u of myUserKeys;" >\n\n            <ion-list-header class="my-list-header">\n               <ion-avatar class="my-avatar" item-start >\n                <img class="my-img" src="{{getUrl(u)}}">\n              </ion-avatar>\n               <span>{{my_users[u][\'name\']}}</span>\n\n            </ion-list-header>\n\n            <ion-item *ngFor="let d of my_documents[u]; let i = index " >\n\n              <div tappable (click)=\'view(page.view, d);\'>\n                <h2>{{d.designation}}</h2>\n                <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n              </div>\n\n              <button class="wd-30" ion-button (click)=\'presentActionSheet(page.info, d);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n\n            </ion-item> \n\n          </div> \n\n          <div class="search-spinner" *ngIf="is_searched">\n            <ion-spinner ></ion-spinner>\n          </div> \n\n        </div>\n\n\n\n        <div *ngIf="conditions?.length > 0">\n\n          <ion-item *ngFor="let d of documents;" >\n\n              <div tappable (click)=\'view(page.view, d);\'>\n                <h2>{{d.designation}}</h2>\n                <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n              </div>\n\n              <button class="wd-30"  ion-button (click)=\'presentActionSheet(page.info, d);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n\n          </ion-item> \n\n        </div>\n\n        <ion-grid class="grid-reload" *ngIf=" !reload &&  myUserKeys?.length <= 0 && documents?.length <= 0 && !is_searched " > \n          <ion-row text-center>\n            <ion-col>\n              <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n              <p>No Record Found.</p>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n\n      </ion-list>\n\n      <ion-list *ngSwitchCase="\'others\'">\n\n        <div>\n\n          <div *ngIf="conditions?.length == 0"  >\n            <div *ngFor="let o of othersOrgKeys;"  >\n\n              <div class="company-bannner" *ngIf="all_shared_documents"> \n                <div text-capitalize >\n                  <span class="company-title"> {{ data.shared_with_others.organisations[o].name}} </span>\n                </div>\n              </div>\n\n              <div *ngFor="let u of getOrgUsers(o)" >\n                \n                 <ion-list-header class="my-list-header" >\n                  \n                   <ion-avatar class="my-avatar" item-start >\n                    <img class="my-img" src="{{getUrl(u)}}">\n                   </ion-avatar>\n                   <span>{{others_users[u][\'name\']}}</span>\n\n                 </ion-list-header >\n\n                <ion-item *ngFor="let d of others_documents[o][u]; let i = index " >\n\n                  <div tappable (click)=\'view(page.view, d);\'>\n                    <h2>{{d.designation}}</h2>\n                    <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n                  </div>\n                  \n                  <button class="wd-30"  ion-button (click)=\'actionSheetOthers(d, u);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n\n                </ion-item> \n\n              </div> \n\n              <div class="search-spinner" *ngIf="is_searched">\n                <ion-spinner ></ion-spinner>\n              </div> \n\n            </div> \n          </div> \n\n          <div *ngIf="conditions?.length > 0">\n  \n            <ion-item *ngFor="let d of documents;" >\n\n                <div tappable (click)=\'view(page.view, d);\'>\n                  <h2>{{d.designation}}</h2>\n                  <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n                </div>\n\n                <button class="wd-30"  ion-button (click)=\'actionSheetOthers(d);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n\n            </ion-item> \n\n          </div>\n\n        </div>\n\n        <ion-grid class="grid-reload" *ngIf=" !reload &&  ( ( myUserKeys?.length <= 0 && shared_with == \'me\' ) || ( othersOrgKeys?.length <= 0 && shared_with == \'others\' ) ) && (  conditions?.length == 0 || ( conditions?.length > 0 && documents?.length == 0 ) )"> \n          <ion-row text-center>\n            <ion-col>\n              <p><ion-icon class="connection-timeout" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n              <p>No Record Found.</p>\n            </ion-col>\n          </ion-row>\n        </ion-grid>\n\n      </ion-list>\n\n    </div>\n\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n\n    <ion-infinite-scroll *ngIf="have_more && shared_with == \'me\'"  (ionInfinite)="doInfinite($event)">\n     <ion-infinite-scroll-content></ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n\n</ion-content>\n\n<ion-footer>\n\n   <ion-segment [(ngModel)]="shared_with" *ngIf=" conditions?.length == 0">\n      <ion-segment-button value="me" (click)= "replaceDocument(\'me\')">\n       Shared with me\n      </ion-segment-button>\n      <ion-segment-button value="others"  (click)= "replaceDocument(\'others\')">\n        Shared with others\n      </ion-segment-button>\n    </ion-segment>\n  </ion-footer>\n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_shared/documents_shared.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]])
    ], DocumentsShared);
    return DocumentsShared;
}());

//# sourceMappingURL=documents_shared.js.map

/***/ }),

/***/ 199:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocument; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedDocument = (function () {
    function CreateLinkedDocument(navCtrl, params, TasksService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
        //this.getDocuments();
    }
    CreateLinkedDocument.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocument.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocument.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.saveLinkedDocument(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                // this.navCtrl.push(LinkedDocuments , { task_id : this.params.get('task_id')} )
                _this.navCtrl.pop();
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocument.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_id = document.id;
    };
    CreateLinkedDocument.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_documents_create_screen1_screen1__["a" /* Screen1 */], { page: 'linked_agenda', request_id: this.link.task_id });
    };
    CreateLinkedDocument = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents\n      <button class="add-person" ion-button clear item-end  (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/documents/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocument);
    return CreateLinkedDocument;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 20:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EquipmentServiceProvider = (function () {
    function EquipmentServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    EquipmentServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    EquipmentServiceProvider.prototype.getLevels = function (page, search, params) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (params === void 0) { params = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search + params, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getArticle = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/article/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getArticles = function (page, search, levels_data_id, model_data_id) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/articles/' + levels_data_id + '?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search + '&model_data_id=' + model_data_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getModels = function (page, search, levels_data_id) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/models/' + levels_data_id + '?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getModel = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/model/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getModelAttrs = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/get_model_attributes/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getArticleAttrs = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/get_article_attributes/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.searchObjects = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/search_objects', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.searchAttrs = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/search_attributes', _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.createModel = function (model) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/create_model', model, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.createLevel = function (level) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/create_level', level, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteLevel = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_level', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.updateModel = function (model) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/update_model', model, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.createArticle = function (article) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/create_article', article, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.updateArticle = function (article) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/update_article', article, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteArticle = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_article', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteModel = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_model', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.searchLevels = function (search) {
        var _this = this;
        console.log(search);
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/search_levels?search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.searchLevelsData = function (page, search, parent_id) {
        var _this = this;
        if (page === void 0) { page = 1; }
        console.log(search);
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search + '&parent_id=' + parent_id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getLinkedAgendas = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/linked_agendas?equipment_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getLinkedDocuments = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/linked_documents?equipment_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getLinkedInfrastructure = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/linked_infrastructure?equipment_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getLinkedContactExternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/linked_contacts_external?equipment_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.getLinkedContactInternal = function (id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/linked_contacts_internal?equipment_id=' + id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedAgenda = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_agenda', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedDocument = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedInfrastructure = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_infrastructure', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedEquipment = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedContactExternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_contact_external', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.saveLinkedContactInternal = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/save_linked_contact_internal', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteLinkedContactExternal = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_linked_contact_external', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteLinkedContactInternal = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_linked_contact_external', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteAgendaLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_linked_agenda', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteDocumentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider.prototype.deleteInfrastructureLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'objects/delete_linked_infrastructure', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    EquipmentServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]])
    ], EquipmentServiceProvider);
    return EquipmentServiceProvider;
}());

//# sourceMappingURL=equipment-service.js.map

/***/ }),

/***/ 200:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocumentForCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedDocumentForCI = (function () {
    function CreateLinkedDocumentForCI(navCtrl, params, TasksService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedDocumentForCI.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocumentForCI.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocumentForCI.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        console.log(this.link);
        this.ContactService.saveLinkedDocumentCI(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents__["a" /* LinkedDocumentsWithCI */], { row_id: _this.params.get('row_id'), contact_id: _this.params.get('contact_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocumentForCI.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_id = document.id;
    };
    CreateLinkedDocumentForCI.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_documents_create_screen1_screen1__["a" /* Screen1 */], { page: 'linked_contact_internal', row_id: this.params.get('row_id'), request_id: this.params.get('contact_id') });
    };
    CreateLinkedDocumentForCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents\n      <button class="add-person" ion-button clear item-end  (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/documents/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocumentForCI);
    return CreateLinkedDocumentForCI;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 201:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocumentsWithCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_create_create__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var LinkedDocumentsWithCI = (function () {
    function LinkedDocumentsWithCI(navCtrl, params, TasksService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getDocuments();
    }
    LinkedDocumentsWithCI.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__show_show__["a" /* ContactInternalDescription */], { id: this.params.get('row_id') });
    };
    LinkedDocumentsWithCI.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedDocumentsCI(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedDocumentsWithCI.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: t.document_id });
    };
    LinkedDocumentsWithCI.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: t.document_id });
    };
    LinkedDocumentsWithCI.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedDocumentsWithCI.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocumentsWithCI.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_create_create__["a" /* CreateLinkedDocumentForCI */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedDocumentsWithCI.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocumentsWithCI.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteDocumentLinkCI(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocumentsWithCI.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        console.log(val);
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val) ||
                    _this.fns.match(document.relation_type, val) ||
                    _this.fns.match(document.cat_name, val) ||
                    _this.fns.match(document.sub_cat_name, val);
                return (condition);
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    LinkedDocumentsWithCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{document.designation}}</h2>\n           <p text-capitalize>{{document.cat_name}} - {{document.relation_type}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocumentsWithCI);
    return LinkedDocumentsWithCI;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 202:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedAgendaWithCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__agenda_create_create__ = __webpack_require__(480);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedAgendaWithCI = (function () {
    function LinkedAgendaWithCI(navCtrl, params, fns, TasksService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getAgendas();
    }
    LinkedAgendaWithCI.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__show_show__["a" /* ContactInternalDescription */], { id: this.params.get('row_id') });
    };
    LinkedAgendaWithCI.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedAgendasCI(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.agendas = data;
                if (_this.agendas.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.agendas.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedAgendaWithCI.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    LinkedAgendaWithCI.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.ContactService.getLinkedAgendas(this.params.get('row_id'), this.params.get('contact_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    _this.backup = _this.agendas.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedAgendaWithCI.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.task_id);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedAgendaWithCI.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_show_show__["a" /* AgendaDescription */], { id: id });
    };
    LinkedAgendaWithCI.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__agenda_create_create__["a" /* CreateLinkedAgendaForCI */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedAgendaWithCI.prototype.delete = function (agenda) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteAgendaLinkCI(agenda.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedAgendaWithCI.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.agendas = this.backup.filter(function (agenda) {
                var condition = _this.fns.match(agenda.name, val) ||
                    _this.fns.match(agenda.description, val) ||
                    _this.fns.match(agenda.relation_type, val) ||
                    _this.fns.match(agenda.status, val);
                return (condition);
            });
        }
        else {
            this.agendas = this.backup;
        }
    };
    LinkedAgendaWithCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/agenda/agenda.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let agenda of agendas; let i = index " >\n        <div (click)=\'view(agenda.task_id);\' >\n          <h2>{{agenda.name}}</h2>\n          <p text-capitalize>{{agenda.description}} - {{agenda.relation_type}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(agenda);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && agendas?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/agenda/agenda.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedAgendaWithCI);
    return LinkedAgendaWithCI;
}());

//# sourceMappingURL=agenda.js.map

/***/ }),

/***/ 203:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedInfrastructureWithCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__infrastructure_show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__create_create__ = __webpack_require__(498);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedInfrastructureWithCI = (function () {
    function LinkedInfrastructureWithCI(navCtrl, params, ContactService, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.ContactService = ContactService;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getInfrastructure();
    }
    LinkedInfrastructureWithCI.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__show_show__["a" /* ContactInternalDescription */], { id: this.params.get('row_id') });
    };
    LinkedInfrastructureWithCI.prototype.getInfrastructure = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedInfrastructureCI(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.infrastructure = data;
                if (_this.infrastructure.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.infrastructure.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedInfrastructureWithCI.prototype.view = function (t) {
        console.log(t);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: t.location_id });
    };
    LinkedInfrastructureWithCI.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getInfrastructure();
            refresher.complete();
        }, 2000);
    };
    LinkedInfrastructureWithCI.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedInfrastructureWithCI.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__create_create__["a" /* CreateLinkedInfrastructureForCI */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedInfrastructureWithCI.prototype.reloadMe = function () {
        this.getInfrastructure();
    };
    LinkedInfrastructureWithCI.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteInfrastructureLinkCI(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getInfrastructure();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedInfrastructureWithCI.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    LinkedInfrastructureWithCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/infrastructure/infrastructure.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Infrastructure\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let infra of infrastructure; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(infra);\'>\n           <h2 text-capitalize >{{infra.name}}</h2>\n           <p text-capitalize>{{infra.barcode}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(infra);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && infrastructure?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedInfrastructureWithCI);
    return LinkedInfrastructureWithCI;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 204:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocumentsWithInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_create_create__ = __webpack_require__(205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__list_list__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LinkedDocumentsWithInfrastructure = (function () {
    function LinkedDocumentsWithInfrastructure(navCtrl, params, TasksService, InfrastructureService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getDocuments();
    }
    LinkedDocumentsWithInfrastructure.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__list_list__["a" /* Infrastructure */]);
    };
    LinkedDocumentsWithInfrastructure.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.getLinkedDocuments(this.params.get('location_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedDocumentsWithInfrastructure.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: t.document_id });
    };
    LinkedDocumentsWithInfrastructure.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: t.document_id });
    };
    LinkedDocumentsWithInfrastructure.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedDocumentsWithInfrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocumentsWithInfrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_create_create__["a" /* CreateLinkedDocumentForInfrastructure */], { location_id: this.params.get('location_id') });
    };
    LinkedDocumentsWithInfrastructure.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocumentsWithInfrastructure.prototype.delete = function (t) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.InfrastructureService.deleteDocumentLink(t.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocumentsWithInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        console.log(val);
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val) ||
                    _this.fns.match(document.relation_type, val) ||
                    _this.fns.match(document.cat_name, val) ||
                    _this.fns.match(document.sub_cat_name, val);
                return (condition);
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], LinkedDocumentsWithInfrastructure.prototype, "navBar", void 0);
    LinkedDocumentsWithInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button icon-only navPop>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{document.designation}}</h2>\n           <p text-capitalize>{{document.cat_name}} - {{document.relation_type}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocumentsWithInfrastructure);
    return LinkedDocumentsWithInfrastructure;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 205:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocumentForInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedDocumentForInfrastructure = (function () {
    function CreateLinkedDocumentForInfrastructure(navCtrl, params, TasksService, InfrastructureService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.location_id = this.params.get('location_id');
        //this.getDocuments();
    }
    CreateLinkedDocumentForInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocumentForInfrastructure.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocumentForInfrastructure.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        console.log(this.link);
        this.InfrastructureService.saveLinkedDocument(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents__["a" /* LinkedDocumentsWithInfrastructure */], { location_id: _this.params.get('location_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocumentForInfrastructure.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_id = document.id;
    };
    CreateLinkedDocumentForInfrastructure.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__documents_documents_create_screen1_screen1__["a" /* Screen1 */], { request_id: this.params.get('location_id'), page: 'linked_infrastructure' });
    };
    CreateLinkedDocumentForInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents \n      <button class="add-person" ion-button clear item-end  (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/documents/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocumentForInfrastructure);
    return CreateLinkedDocumentForInfrastructure;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 206:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedAgendaWithInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__agenda_create_create__ = __webpack_require__(481);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__list_list__ = __webpack_require__(69);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var LinkedAgendaWithInfrastructure = (function () {
    function LinkedAgendaWithInfrastructure(navCtrl, params, fns, TasksService, InfrastructureService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getAgendas();
    }
    LinkedAgendaWithInfrastructure.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__list_list__["a" /* Infrastructure */]);
    };
    LinkedAgendaWithInfrastructure.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.getLinkedAgendas(this.params.get('location_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.agendas = data;
                if (_this.agendas.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.agendas.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedAgendaWithInfrastructure.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    LinkedAgendaWithInfrastructure.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.InfrastructureService.getLinkedAgendas(this.params.get('location_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    _this.backup = _this.agendas.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedAgendaWithInfrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.task_id);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedAgendaWithInfrastructure.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_show_show__["a" /* AgendaDescription */], { id: id });
    };
    LinkedAgendaWithInfrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__agenda_create_create__["a" /* CreateLinkedAgendaForInfrastructure */], { location_id: this.params.get('location_id') });
    };
    LinkedAgendaWithInfrastructure.prototype.delete = function (agenda) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.InfrastructureService.deleteAgendaLink(agenda.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedAgendaWithInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.agendas = this.backup.filter(function (agenda) {
                var condition = _this.fns.match(agenda.name, val) ||
                    _this.fns.match(agenda.description, val) ||
                    _this.fns.match(agenda.relation_type, val) ||
                    _this.fns.match(agenda.status, val);
                return (condition);
            });
        }
        else {
            this.agendas = this.backup;
        }
    };
    LinkedAgendaWithInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/agenda/agenda.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let agenda of agendas; let i = index " >\n        <div (click)=\'view(agenda.task_id);\' >\n          <h2>{{agenda.name}}</h2>\n          <p text-capitalize>{{agenda.description}} - {{agenda.relation_type}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(agenda);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && agendas?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/agenda/agenda.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedAgendaWithInfrastructure);
    return LinkedAgendaWithInfrastructure;
}());

//# sourceMappingURL=agenda.js.map

/***/ }),

/***/ 207:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactExternalWithInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_external_create_create__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__list_list__ = __webpack_require__(69);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var LinkedContactExternalWithInfrastructure = (function () {
    function LinkedContactExternalWithInfrastructure(navCtrl, params, TasksService, session, InfrastructureService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.session = session;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        // public new_contacts: any = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactExternalWithInfrastructure.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__list_list__["a" /* Infrastructure */]);
    };
    LinkedContactExternalWithInfrastructure.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.getLinkedContactExternal(this.params.get('location_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactExternalWithInfrastructure.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_external_show_show__["a" /* ContactExternalDescription */], { id: contact.row_id });
    };
    LinkedContactExternalWithInfrastructure.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactExternalWithInfrastructure.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.InfrastructureService.getLinkedContactExternal(this.params.get('location_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    // this.new_contacts = this.contacts.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactExternalWithInfrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactExternalWithInfrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_external_create_create__["a" /* CreateLinkedContactExternalForInfrastructure */], { location_id: this.params.get('location_id') });
    };
    LinkedContactExternalWithInfrastructure.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactExternalWithInfrastructure.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.InfrastructureService.deleteLinkedContactExternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactExternalWithInfrastructure.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ce';
        }
        return path;
    };
    LinkedContactExternalWithInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_external/contact_external.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts External\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_external/contact_external.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactExternalWithInfrastructure);
    return LinkedContactExternalWithInfrastructure;
}());

//# sourceMappingURL=contact_external.js.map

/***/ }),

/***/ 208:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactExternalForInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_external__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_external_create_screen1_screen1__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedContactExternalForInfrastructure = (function () {
    function CreateLinkedContactExternalForInfrastructure(navCtrl, params, TasksService, InfrastructureService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.location_id = this.params.get('location_id');
    }
    CreateLinkedContactExternalForInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContacts(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactExternalForInfrastructure.prototype.save = function () {
        var _this = this;
        this.InfrastructureService.saveLinkedContactExternal(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_external__["a" /* LinkedContactExternalWithInfrastructure */], { location_id: _this.params.get('location_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactExternalForInfrastructure.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactExternalForInfrastructure.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */], { request_id: this.params.get('location_id'), page: 'linked_infrastructure' });
    };
    CreateLinkedContactExternalForInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_external/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_external/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactExternalForInfrastructure);
    return CreateLinkedContactExternalForInfrastructure;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 209:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactExternalCreateScreen2; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__screen3_screen3__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_create__ = __webpack_require__(484);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ContactExternalCreateScreen2 = (function () {
    function ContactExternalCreateScreen2(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.divisions = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactDivisions();
        console.log(this.params);
    }
    ContactExternalCreateScreen2.prototype.getContactDivisions = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactDivisions(this.params.get('id'))
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.divisions = data;
                if (_this.divisions.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactExternalCreateScreen2.prototype.next = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__screen3_screen3__["a" /* ContactExternalCreateScreen3 */], {
            org_id: this.params.get('id'),
            division_id: this.division,
            request_id: this.params.get('request_id'),
            page: this.params.get('page')
        });
    };
    ContactExternalCreateScreen2.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_create__["a" /* CreateDivision */], {
            org_id: this.params.get('id')
        });
    };
    ContactExternalCreateScreen2 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen2/screen2.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Division\n    </ion-title>\n\n     <ion-buttons right *ngIf="division">\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content> \n	<ion-list padding radio-group [(ngModel)]="division" *ngIf="!reload && divisions?.length > 0" >\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n	    Divisions\n	  </ion-list-header>\n	  <ion-item *ngFor="let div of divisions">\n	    <ion-label text-capitalize>{{div.name}}</ion-label>\n	    <ion-radio value="{{div.id}}"></ion-radio>\n	  </ion-item>\n	</ion-list>\n</ion-content>\n\n<ion-footer>\n <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen2/screen2.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactExternalCreateScreen2);
    return ContactExternalCreateScreen2;
}());

//# sourceMappingURL=screen2.js.map

/***/ }),

/***/ 210:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactExternalCreateScreen3; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__create_create__ = __webpack_require__(482);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__upload_upload__ = __webpack_require__(483);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_links_contact_external_create_create__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agenda_links_contact_external_create_create__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure_links_contact_external_create_create__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__equipments_links_contact_external_create_create__ = __webpack_require__(212);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ContactExternalCreateScreen3 = (function () {
    function ContactExternalCreateScreen3(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.reload = false;
        this.new_contact = { email: '', person: '', attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.new_contact.contact_division_id = this.params.get('division_id');
        this.new_contact.org_id = this.params.get('org_id');
        this.new_contact.person = this.params.get('person_id');
        this.createContactsFields();
        console.log(this.params, this.navCtrl);
    }
    ContactExternalCreateScreen3.prototype.createContactsFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contact_data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactExternalCreateScreen3.prototype.save = function () {
        var _this = this;
        if (this.validate()) {
            this.Notification.presentLoader();
            this.ContactService.saveContact(this.new_contact)
                .then(function (data) {
                _this.Notification.dismissLoader();
                if (data.status) {
                    _this.new_contact.id = data.contact.id;
                    _this.goBack();
                }
                _this.Notification.presentToast(data.message);
            });
        }
        else {
            this.Notification.presentToast('Please fill the required fields', 3000, 'error-toaster');
        }
    };
    ContactExternalCreateScreen3.prototype.addPerson = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__create_create__["a" /* CreatePerson */], {
            org_id: this.params.get('org_id'),
            division_id: this.params.get('division_id'),
            page: this.params.get('page')
        });
    };
    ContactExternalCreateScreen3.prototype.validate = function () {
        var _this = this;
        var conditions = [];
        this.contact_data.attributes.contact.forEach(function (attribute) {
            if (attribute.is_required == true) {
                conditions.push(_this.new_contact.attributes[attribute.id] !== '');
            }
        });
        conditions.push(this.new_contact.email !== '');
        conditions.push(this.new_contact.person !== '');
        return (conditions.length > 0 && conditions.indexOf(false) == -1);
    };
    ContactExternalCreateScreen3.prototype.skip = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__upload_upload__["a" /* UploadProfilePictureCE */], { contact: this.new_contact, contact_data: this.contact_data, page: this.params.get('page') });
    };
    ContactExternalCreateScreen3.prototype.goBack = function () {
        switch (this.params.get('page')) {
            case 'linked_documents':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForDocuments */], { document_id: this.params.get('request_id'), contact_id: this.new_contact.id });
                break;
            case 'linked_agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__agenda_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForAgenda */], { task_id: this.params.get('request_id'), contact_id: this.new_contact.id });
                break;
            case 'linked_infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForInfrastructure */], { location_id: this.params.get('request_id'), contact_id: this.new_contact.id });
                break;
            case 'linked_equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__equipments_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForEquipments */], { equipment_id: this.params.get('request_id'), contact_id: this.new_contact.id });
                break;
            default:
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__upload_upload__["a" /* UploadProfilePictureCE */], { contact: this.new_contact, contact_data: this.contact_data, page: this.params.get('page') });
                break;
        }
    };
    ContactExternalCreateScreen3 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-screen3',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/screen3.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Contact\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>save</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n	<ion-list *ngIf="contact_data">\n\n      <ion-list-header [class]="header_class" >\n        Person\n        <button class="add-person" ion-button clear item-end  (click)="addPerson()" > \n          <ion-icon name="add-circle" class="add_new"></ion-icon> \n        </button>\n      </ion-list-header>\n      \n      <ion-item >\n         <ion-select [(ngModel)]="new_contact.person" class="item-margin">\n          <ion-option  *ngFor="let person of contact_data.persons" value="{{person.id}}"> \n            {{person.first_name + \' \' + person.last_name}}\n          </ion-option>\n         </ion-select>\n      </ion-item>\n   \n\n      <ion-list-header [class]="header_class">\n        Email\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="new_contact.email" name="email" required placeholder="Email"/>\n      </ion-item>\n\n      <div *ngFor="let contact of contact_data.attributes.contact">\n          \n         <ion-list-header [class]="header_class">\n          {{contact.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class"  type="text" [(ngModel)]="new_contact.attributes[contact.id]" name="email" required placeholder="{{contact.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/screen3.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactExternalCreateScreen3);
    return ContactExternalCreateScreen3;
}());

//# sourceMappingURL=screen3.js.map

/***/ }),

/***/ 211:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactExternalForAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__contact_external_create_screen1_screen1__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var CreateLinkedContactExternalForAgenda = (function () {
    function CreateLinkedContactExternalForAgenda(navCtrl, params, TasksService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
    }
    CreateLinkedContactExternalForAgenda.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContacts(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactExternalForAgenda.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.saveLinkedContactExternal(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.pop();
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactExternalForAgenda.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactExternalForAgenda.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */]);
    };
    CreateLinkedContactExternalForAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_external/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_external/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactExternalForAgenda);
    return CreateLinkedContactExternalForAgenda;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 212:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactExternalForEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__contact_external__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_external_create_screen1_screen1__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedContactExternalForEquipments = (function () {
    function CreateLinkedContactExternalForEquipments(navCtrl, params, TasksService, EquipmentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.EquipmentService = EquipmentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.equipment_id = this.params.get('equipment_id');
    }
    CreateLinkedContactExternalForEquipments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContacts(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactExternalForEquipments.prototype.save = function () {
        var _this = this;
        this.EquipmentService.saveLinkedContactExternal(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__contact_external__["a" /* LinkedContactExternalWithEquipments */], { equipment_id: _this.params.get('equipment_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactExternalForEquipments.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactExternalForEquipments.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */], { request_id: this.params.get('equipment_id'), page: 'linked_equipment' });
    };
    CreateLinkedContactExternalForEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_external/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_external/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactExternalForEquipments);
    return CreateLinkedContactExternalForEquipments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 213:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactExternalWithEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_external_create_create__ = __webpack_require__(212);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LinkedContactExternalWithEquipments = (function () {
    function LinkedContactExternalWithEquipments(navCtrl, params, EquipmentService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.EquipmentService = EquipmentService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.backup = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactExternalWithEquipments.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.getLinkedContactExternal(this.params.get('equipment_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.contacts.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactExternalWithEquipments.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__contact_external_show_show__["a" /* ContactExternalDescription */], { id: contact.row_id });
    };
    LinkedContactExternalWithEquipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactExternalWithEquipments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.EquipmentService.getLinkedContactExternal(this.params.get('equipment_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    _this.backup = _this.contacts.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactExternalWithEquipments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.contacts = this.backup.filter(function (contact) {
                var condition = _this.fns.match(contact.first_name, val) ||
                    _this.fns.match(contact.last_name, val) ||
                    _this.fns.match(contact.relation_type, val) ||
                    _this.fns.match(contact.email, val);
                return (condition);
            });
        }
        else {
            this.contacts = this.backup;
        }
    };
    LinkedContactExternalWithEquipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactExternalWithEquipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_external_create_create__["a" /* CreateLinkedContactExternalForEquipments */], { equipment_id: this.params.get('equipment_id') });
    };
    LinkedContactExternalWithEquipments.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactExternalWithEquipments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteLinkedContactExternal(contact.link_id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactExternalWithEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_external/contact_external.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts External\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_external/contact_external.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactExternalWithEquipments);
    return LinkedContactExternalWithEquipments;
}());

//# sourceMappingURL=contact_external.js.map

/***/ }),

/***/ 214:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactInternalWithInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__list_list__ = __webpack_require__(69);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var LinkedContactInternalWithInfrastructure = (function () {
    function LinkedContactInternalWithInfrastructure(navCtrl, params, session, TasksService, InfrastructureService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.session = session;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactInternalWithInfrastructure.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__list_list__["a" /* Infrastructure */]);
    };
    LinkedContactInternalWithInfrastructure.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.getLinkedContactInternal(this.params.get('location_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactInternalWithInfrastructure.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__["a" /* ContactInternalDescription */], { id: contact.row_id });
    };
    LinkedContactInternalWithInfrastructure.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactInternalWithInfrastructure.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.InfrastructureService.getLinkedContactInternal(this.params.get('location_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactInternalWithInfrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactInternalWithInfrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__["a" /* CreateLinkedContactInternalForInfrastructure */], { location_id: this.params.get('location_id') });
    };
    LinkedContactInternalWithInfrastructure.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactInternalWithInfrastructure.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.InfrastructureService.deleteLinkedContactInternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactInternalWithInfrastructure.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
        }
        return path;
    };
    LinkedContactInternalWithInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_internal/contact_internal.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts Internal\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_internal/contact_internal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactInternalWithInfrastructure);
    return LinkedContactInternalWithInfrastructure;
}());

//# sourceMappingURL=contact_internal.js.map

/***/ }),

/***/ 215:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactInternalForInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_internal_create_screen1_screen1__ = __webpack_require__(81);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedContactInternalForInfrastructure = (function () {
    function CreateLinkedContactInternalForInfrastructure(navCtrl, params, TasksService, InfrastructureService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.location_id = this.params.get('location_id');
    }
    CreateLinkedContactInternalForInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContactsInternal(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactInternalForInfrastructure.prototype.save = function () {
        var _this = this;
        this.InfrastructureService.saveLinkedContactInternal(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal__["a" /* LinkedContactInternalWithInfrastructure */], { location_id: _this.params.get('location_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactInternalForInfrastructure.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactInternalForInfrastructure.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */], { request_id: this.params.get('location_id'), page: 'linked_infrastructure' });
    };
    CreateLinkedContactInternalForInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_internal/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/contact_internal/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactInternalForInfrastructure);
    return CreateLinkedContactInternalForInfrastructure;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 216:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactInternalCreateScreen2; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__screen3_screen3__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_create__ = __webpack_require__(488);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ContactInternalCreateScreen2 = (function () {
    function ContactInternalCreateScreen2(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.departments = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactDivisions();
        console.log(this.params);
    }
    ContactInternalCreateScreen2.prototype.getContactDivisions = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactDepartments(this.params.get('id'))
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.departments = data;
                if (_this.departments.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactInternalCreateScreen2.prototype.next = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__screen3_screen3__["a" /* ContactInternalCreateScreen3 */], {
            site_id: this.params.get('id'),
            department_id: this.department,
            page: this.params.get('page'),
            request_id: this.params.get('request_id')
        });
    };
    ContactInternalCreateScreen2.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_create__["a" /* CreateDepartment */], {
            site_id: this.params.get('id')
        });
    };
    ContactInternalCreateScreen2 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen2/screen2.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Departments\n    </ion-title>\n\n     <ion-buttons right *ngIf="department">\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content> \n	<ion-list radio-group [(ngModel)]="department" *ngIf="!reload && departments?.length > 0" >\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n	    Departments\n	  </ion-list-header>\n	  <ion-item *ngFor="let department of departments">\n	    <ion-label text-capitalize>{{department.name}}</ion-label>\n	    <ion-radio value="{{department.id}}"></ion-radio>\n	  </ion-item>\n	</ion-list>\n</ion-content>\n\n<ion-footer>\n <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen2/screen2.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactInternalCreateScreen2);
    return ContactInternalCreateScreen2;
}());

//# sourceMappingURL=screen2.js.map

/***/ }),

/***/ 217:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactInternalCreateScreen3; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__create_create__ = __webpack_require__(486);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__upload_upload__ = __webpack_require__(487);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_links_contact_internal_create_create__ = __webpack_require__(133);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agenda_links_contact_internal_create_create__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure_links_contact_internal_create_create__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__equipments_links_contact_internal_create_create__ = __webpack_require__(220);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var ContactInternalCreateScreen3 = (function () {
    function ContactInternalCreateScreen3(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.reload = false;
        this.employee = { email: '', person: '', attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.employee.contact_department_id = this.params.get('department_id');
        this.employee.site_id = this.params.get('site_id');
        this.employee.person = this.params.get('person_id') || '';
        this.createContactsFields();
    }
    ContactInternalCreateScreen3.prototype.createContactsFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactInternalFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.employee_data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactInternalCreateScreen3.prototype.save = function () {
        var _this = this;
        if (this.validate()) {
            this.Notification.presentLoader();
            this.ContactService.saveEmployee(this.employee)
                .then(function (data) {
                _this.Notification.dismissLoader();
                if (data.status) {
                    _this.employee.id = data.employee.id;
                    _this.goBack();
                }
                _this.Notification.presentToast(data.message);
            });
        }
        else {
            this.Notification.presentToast('Please fill the required fields', 3000, 'error-toaster');
        }
    };
    ContactInternalCreateScreen3.prototype.addPerson = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__create_create__["a" /* CreatePersonCI */], {
            site_id: this.params.get('site_id'),
            department_id: this.params.get('department_id'),
            page: this.params.get('page'),
            document_id: this.params.get('document_id')
        });
    };
    ContactInternalCreateScreen3.prototype.validate = function () {
        var _this = this;
        var conditions = [];
        this.employee_data.attributes.employee.forEach(function (attribute) {
            if (attribute.is_required == true) {
                conditions.push(_this.employee.attributes[attribute.id] !== '');
            }
        });
        conditions.push(this.employee.email !== '');
        conditions.push(this.employee.person !== '');
        return (conditions.indexOf(false) == -1);
    };
    ContactInternalCreateScreen3.prototype.skip = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__upload_upload__["a" /* UploadProfilePictureCI */], { employee: this.employee, employee_data: this.employee_data });
    };
    ContactInternalCreateScreen3.prototype.goBack = function () {
        switch (this.params.get('page')) {
            case 'linked_documents':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForDocuments */], { document_id: this.params.get('request_id'), employee_id: this.employee.id });
                break;
            case 'linked_agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__agenda_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForAgenda */], { task_id: this.params.get('request_id'), employee_id: this.employee.id });
                break;
            case 'linked_infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForInfrastructure */], { location_id: this.params.get('request_id'), employee_id: this.employee.id });
                break;
            case 'linked_equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__equipments_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForEquipments */], { equipment_id: this.params.get('request_id'), employee_id: this.employee.id });
                break;
            default:
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__upload_upload__["a" /* UploadProfilePictureCI */], { employee: this.employee, employee_data: this.employee_data });
                break;
        }
    };
    ContactInternalCreateScreen3 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-screen3',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/screen3.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Employee\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>save</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n	<ion-list *ngIf="employee_data">\n\n      <ion-list-header [class]="header_class" >\n        Person\n        <button class="add-person" ion-button clear item-end  (click)="addPerson()" > \n          <ion-icon name="add-circle" class="add_new"></ion-icon> \n        </button>\n      </ion-list-header>\n      \n      <ion-item>\n         <ion-select [(ngModel)]="employee.person" class="item-margin">\n          <ion-option  *ngFor="let employee of employee_data.persons" value="{{employee.id}}"> \n            {{employee.first_name + \' \' + employee.last_name}}\n          </ion-option>\n         </ion-select>\n      </ion-item>\n   \n\n      <ion-list-header [class]="header_class">\n        Email\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="email" [(ngModel)]="employee.email" name="email" required placeholder="Email"/>\n      </ion-item>\n\n      <div *ngFor="let emp of employee_data.attributes.employee">\n          \n        <ion-list-header [class]="header_class">\n          {{emp.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class"  type="text" [(ngModel)]="employee.attributes[emp.id]" name="email" required placeholder="{{emp.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/screen3.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactInternalCreateScreen3);
    return ContactInternalCreateScreen3;
}());

//# sourceMappingURL=screen3.js.map

/***/ }),

/***/ 218:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactInternalForAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_internal__ = __webpack_require__(219);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedContactInternalForAgenda = (function () {
    function CreateLinkedContactInternalForAgenda(navCtrl, params, TasksService, InfrastructureService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
    }
    CreateLinkedContactInternalForAgenda.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContactsInternal(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactInternalForAgenda.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.saveLinkedContactInternal(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_internal__["a" /* LinkedContactInternalWithAgenda */], { task_id: _this.params.get('task_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactInternalForAgenda.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactInternalForAgenda.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */], { page: 'linked_agenda', request_id: this.params.get('task_id') });
    };
    CreateLinkedContactInternalForAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_internal/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_internal/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactInternalForAgenda);
    return CreateLinkedContactInternalForAgenda;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 219:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactInternalWithAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var LinkedContactInternalWithAgenda = (function () {
    function LinkedContactInternalWithAgenda(navCtrl, params, session, TasksService, InfrastructureService, fns, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.session = session;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.fns = fns;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.backup = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactInternalWithAgenda.prototype.backButtonClick = function () {
        this.navCtrl.pop();
        // this.navCtrl.push(AgendaDescription, { id: this.params.get('task_id')})
    };
    LinkedContactInternalWithAgenda.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getLinkedContactInternal(this.params.get('task_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.contacts.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactInternalWithAgenda.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__["a" /* ContactInternalDescription */], { id: contact.row_id });
    };
    LinkedContactInternalWithAgenda.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactInternalWithAgenda.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getLinkedContactInternal(this.params.get('task_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    _this.backup = _this.contacts.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactInternalWithAgenda.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactInternalWithAgenda.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__["a" /* CreateLinkedContactInternalForAgenda */], { task_id: this.params.get('task_id') });
    };
    LinkedContactInternalWithAgenda.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactInternalWithAgenda.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.DocumentService.deleteLinkedContactInternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactInternalWithAgenda.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
        }
        return path;
    };
    LinkedContactInternalWithAgenda.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.contacts = this.backup.filter(function (contact) {
                var condition = _this.fns.match(contact.first_name, val) ||
                    _this.fns.match(contact.last_name, val) ||
                    _this.fns.match(contact.relation_type, val) ||
                    _this.fns.match(contact.email, val);
                return (condition);
            });
        }
        else {
            this.contacts = this.backup;
        }
    };
    LinkedContactInternalWithAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_internal/contact_internal.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts Internal\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_internal/contact_internal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_10__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactInternalWithAgenda);
    return LinkedContactInternalWithAgenda;
}());

//# sourceMappingURL=contact_internal.js.map

/***/ }),

/***/ 220:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedContactInternalForEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__contact_internal__ = __webpack_require__(221);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedContactInternalForEquipments = (function () {
    function CreateLinkedContactInternalForEquipments(navCtrl, params, TasksService, EquipmentService, DocumentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.EquipmentService = EquipmentService;
        this.DocumentService = DocumentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.equipment_id = this.params.get('equipment_id');
    }
    CreateLinkedContactInternalForEquipments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchContactsInternal(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.contacts = data.contacts;
                    _this.divisions = data.divisions;
                    _this.organisations = data.organisations;
                });
            }, 500);
        }
    };
    CreateLinkedContactInternalForEquipments.prototype.save = function () {
        var _this = this;
        this.EquipmentService.saveLinkedContactInternal(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__contact_internal__["a" /* LinkedContactInternalWithEquipments */], { equipment_id: _this.params.get('equipment_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedContactInternalForEquipments.prototype.initContact = function (contact) {
        this.link.name = contact.first_name + ' ' + contact.last_name;
        this.link.contact_id = contact.p_contact_id;
        this.link.email = contact.email;
        this.link.row_id = contact.row_id;
    };
    CreateLinkedContactInternalForEquipments.prototype.addContact = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */], { request_id: this.params.get('equipment_id'), page: 'linked_equipment' });
    };
    CreateLinkedContactInternalForEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_internal/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search contact\n      <button class="add-person" ion-button clear item-end  (click)="addContact()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && contacts?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let contact of contacts">\n                 <div item-start> <h2>{{contact.first_name}} {{contact.last_name}}</h2>\n                 <p>{{contact.email}}</p></div>\n                 <ion-radio (click)="initContact(contact)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item  *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n\n          </ion-list>\n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Contact\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n        <ion-option value="attendee" > Attendee </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_internal/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedContactInternalForEquipments);
    return CreateLinkedContactInternalForEquipments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 221:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactInternalWithEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__ = __webpack_require__(220);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedContactInternalWithEquipments = (function () {
    function LinkedContactInternalWithEquipments(navCtrl, params, session, TasksService, EquipmentService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.session = session;
        this.TasksService = TasksService;
        this.EquipmentService = EquipmentService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContacts();
    }
    LinkedContactInternalWithEquipments.prototype.backButtonClick = function () {
    };
    LinkedContactInternalWithEquipments.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.getLinkedContactInternal(this.params.get('equipment_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactInternalWithEquipments.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__["a" /* ContactInternalDescription */], { id: contact.row_id });
    };
    LinkedContactInternalWithEquipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactInternalWithEquipments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getLinkedContactInternal(this.params.get('equipment_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactInternalWithEquipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactInternalWithEquipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_internal_create_create__["a" /* CreateLinkedContactInternalForEquipments */], { equipment_id: this.params.get('equipment_id') });
    };
    LinkedContactInternalWithEquipments.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactInternalWithEquipments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notification.presentLoader();
                        _this.DocumentService.deleteLinkedContactInternal({ id: contact.link_id })
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactInternalWithEquipments.prototype.getProfilePic = function (contact) {
        var path = "assets/img/dummy_user.png";
        if (contact.profile_pic) {
            path = __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
        }
        return path;
    };
    LinkedContactInternalWithEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_internal/contact_internal.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts Internal\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img class="object-fit" [src]="getProfilePic(contact)">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/contact_internal/contact_internal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_9__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactInternalWithEquipments);
    return LinkedContactInternalWithEquipments;
}());

//# sourceMappingURL=contact_internal.js.map

/***/ }),

/***/ 222:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedEquipmentWithInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(490);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LinkedEquipmentWithInfrastructure = (function () {
    function LinkedEquipmentWithInfrastructure(navCtrl, params, TasksService, InfrastructureService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getEquipments();
    }
    LinkedEquipmentWithInfrastructure.prototype.getEquipments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.getLinkedEquipments(this.params.get('location_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.equipments = data;
                if (_this.equipments.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.equipments.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedEquipmentWithInfrastructure.prototype.view = function (t) {
        //this.navCtrl.push(EquipmentDescription, { id:t.location_id })
    };
    LinkedEquipmentWithInfrastructure.prototype.info = function (t) {
    };
    LinkedEquipmentWithInfrastructure.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getEquipments();
            refresher.complete();
        }, 2000);
    };
    LinkedEquipmentWithInfrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedEquipmentWithInfrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* CreateLinkedEquipmentForInfrastructure */], { location_id: this.params.get('location_id') });
    };
    LinkedEquipmentWithInfrastructure.prototype.reloadMe = function () {
        this.getEquipments();
    };
    LinkedEquipmentWithInfrastructure.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    LinkedEquipmentWithInfrastructure.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.InfrastructureService.deleteEquipmentLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getEquipments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedEquipmentWithInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.equipments = this.backup.filter(function (article) {
                var condition = _this.fns.match(_this.getFirst(article), val);
                return (condition);
            });
        }
        else {
            this.equipments = this.backup;
        }
    };
    LinkedEquipmentWithInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/equipments/equipments.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n      <button class="myBarBtn" ion-button menuToggle>\n        <ion-icon name="menu"></ion-icon>\n      </button>\n\n      <ion-buttons left>\n        <button ion-button navPop icon-only>\n          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n        </button>\n      </ion-buttons>\n      <ion-title>\n        Linked Equipments\n      </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let article of equipments; let i = index " >\n\n        <ion-label (click)=\'view(article);\'>\n            <h2>{{getFirst(article)}}</h2>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && equipments?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/equipments/equipments.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_3__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedEquipmentWithInfrastructure);
    return LinkedEquipmentWithInfrastructure;
}());

//# sourceMappingURL=equipments.js.map

/***/ }),

/***/ 223:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocumentsWithEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_create_create__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var LinkedDocumentsWithEquipments = (function () {
    function LinkedDocumentsWithEquipments(navCtrl, params, TasksService, InfrastructureService, EquipmentService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.EquipmentService = EquipmentService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getDocuments();
    }
    LinkedDocumentsWithEquipments.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.getLinkedDocuments(this.params.get('equipment_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedDocumentsWithEquipments.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: t.document_id });
    };
    LinkedDocumentsWithEquipments.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: t.document_id });
    };
    LinkedDocumentsWithEquipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedDocumentsWithEquipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocumentsWithEquipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_create_create__["a" /* CreateLinkedDocumentsForEquipments */], { equipment_id: this.params.get('equipment_id') });
    };
    LinkedDocumentsWithEquipments.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocumentsWithEquipments.prototype.delete = function (t) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteDocumentLink(t.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocumentsWithEquipments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        console.log(val);
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val) ||
                    _this.fns.match(document.relation_type, val) ||
                    _this.fns.match(document.cat_name, val) ||
                    _this.fns.match(document.sub_cat_name, val);
                return (condition);
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], LinkedDocumentsWithEquipments.prototype, "navBar", void 0);
    LinkedDocumentsWithEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{document.designation}}</h2>\n           <p text-capitalize>{{document.cat_name}} - {{document.relation_type}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_10__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_10__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocumentsWithEquipments);
    return LinkedDocumentsWithEquipments;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 224:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocumentsForEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var CreateLinkedDocumentsForEquipments = (function () {
    function CreateLinkedDocumentsForEquipments(navCtrl, params, TasksService, InfrastructureService, EquipmentService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.EquipmentService = EquipmentService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.equipment_id = this.params.get('equipment_id');
        //this.getDocuments();
    }
    CreateLinkedDocumentsForEquipments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocumentsForEquipments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocumentsForEquipments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        console.log(this.link);
        this.EquipmentService.saveLinkedDocument(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents__["a" /* LinkedDocumentsWithEquipments */], { equipment_id: _this.params.get('equipment_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocumentsForEquipments.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_id = document.id;
    };
    CreateLinkedDocumentsForEquipments.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__documents_documents_create_screen1_screen1__["a" /* Screen1 */], { request_id: this.params.get('equipment_id'), page: 'linked_equipment' });
    };
    CreateLinkedDocumentsForEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents\n      <button class="add-person" ion-button clear item-end  (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/documents/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocumentsForEquipments);
    return CreateLinkedDocumentsForEquipments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 225:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedAgendaWithEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__agenda_create_create__ = __webpack_require__(491);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedAgendaWithEquipments = (function () {
    function LinkedAgendaWithEquipments(navCtrl, params, fns, TasksService, EquipmentService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.TasksService = TasksService;
        this.EquipmentService = EquipmentService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getAgendas();
    }
    LinkedAgendaWithEquipments.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.getLinkedAgendas(this.params.get('equipment_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.agendas = data;
                if (_this.agendas.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.agendas.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedAgendaWithEquipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    LinkedAgendaWithEquipments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.EquipmentService.getLinkedAgendas(this.params.get('location_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    _this.backup = _this.agendas.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedAgendaWithEquipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.task_id);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedAgendaWithEquipments.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_show_show__["a" /* AgendaDescription */], { id: id });
    };
    LinkedAgendaWithEquipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__agenda_create_create__["a" /* CreateLinkedAgendaForEquipments */], { equipment_id: this.params.get('equipment_id') });
    };
    LinkedAgendaWithEquipments.prototype.delete = function (agenda) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteAgendaLink(agenda.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedAgendaWithEquipments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.agendas = this.backup.filter(function (agenda) {
                var condition = _this.fns.match(agenda.name, val) ||
                    _this.fns.match(agenda.description, val) ||
                    _this.fns.match(agenda.relation_type, val) ||
                    _this.fns.match(agenda.status, val);
                return (condition);
            });
        }
        else {
            this.agendas = this.backup;
        }
    };
    LinkedAgendaWithEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/agenda/agenda.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let agenda of agendas; let i = index " >\n        <div (click)=\'view(agenda.task_id);\' >\n          <h2>{{agenda.name}}</h2>\n          <p text-capitalize>{{agenda.description}} - {{agenda.relation_type}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(agenda);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && agendas?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/agenda/agenda.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedAgendaWithEquipments);
    return LinkedAgendaWithEquipments;
}());

//# sourceMappingURL=agenda.js.map

/***/ }),

/***/ 226:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedInfrastructureWithEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__create_create__ = __webpack_require__(492);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var LinkedInfrastructureWithEquipments = (function () {
    function LinkedInfrastructureWithEquipments(navCtrl, params, EquipmentService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.EquipmentService = EquipmentService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getDocuments();
    }
    LinkedInfrastructureWithEquipments.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.getLinkedInfrastructure(this.params.get('equipment_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.infrastructure = data;
                if (_this.infrastructure.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.infrastructure.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedInfrastructureWithEquipments.prototype.view = function (t) {
    };
    LinkedInfrastructureWithEquipments.prototype.info = function (t) {
    };
    LinkedInfrastructureWithEquipments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedInfrastructureWithEquipments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedInfrastructureWithEquipments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__create_create__["a" /* CreateLinkedInfrastructureForEquipments */], { equipment_id: this.params.get('equipment_id') });
    };
    LinkedInfrastructureWithEquipments.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedInfrastructureWithEquipments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteInfrastructureLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedInfrastructureWithEquipments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    LinkedInfrastructureWithEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/infrastructure/infrastructure.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Infrastructure\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let infra of infrastructure; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(infra);\'>\n           <h2 text-capitalize >{{infra.name}}</h2>\n           <p text-capitalize>{{infra.barcode}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(infra);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && infrastructure?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedInfrastructureWithEquipments);
    return LinkedInfrastructureWithEquipments;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 227:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfrastructureLocationModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var InfrastructureLocationModal = (function () {
    function InfrastructureLocationModal(platform, params, viewCtrl, InfrastructureService, Notifications) {
        this.platform = platform;
        this.params = params;
        this.viewCtrl = viewCtrl;
        this.InfrastructureService = InfrastructureService;
        this.Notifications = Notifications;
        this.infrastructure = { attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.getInfrastructureFields();
    }
    InfrastructureLocationModal.prototype.getInfrastructureFields = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.infrastructure.location_id = this.params.get('location_id') || 0;
        this.infrastructure.parent_id = this.params.get('parent_id') || 0;
        this.InfrastructureService.getInfrastructureFields(this.infrastructure.location_id, this.infrastructure.parent_id).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.attributes = data.attributes;
            _this.barcodes = data.barcodes;
        });
    };
    InfrastructureLocationModal.prototype.create = function () {
        var _this = this;
        this.Notifications.presentLoader();
        if (typeof this.infrastructure["name"] == "undefined" || this.infrastructure["name"] == "") {
            this.Notifications.presentToast("Please give name to infrastructure");
            this.Notifications.dismissLoader();
            return false;
        }
        this.InfrastructureService.create(this.infrastructure).then(function (data) {
            if (data.status) {
                _this.dismiss(_this.infrastructure);
            }
            else {
                _this.Notifications.presentToast(data.message);
            }
            _this.Notifications.dismissLoader();
        });
    };
    InfrastructureLocationModal.prototype.dismiss = function (infrastructure) {
        if (infrastructure === void 0) { infrastructure = {}; }
        this.viewCtrl.dismiss(infrastructure);
    };
    InfrastructureLocationModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/infrastructurelocationmodal.html"*/'<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Add new location\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span ion-text color="primary" showWhen="ios,android">Cancel</span>\n      </button>\n    </ion-buttons>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>Save</button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="attributes">\n    \n       <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="infrastructure.name"  required placeholder="Name"/>\n      </ion-item>\n    \n      <ion-list-header [class]="header_class">\n        Barcode\n      </ion-list-header>\n\n      <ion-item>\n        <ion-label>Barcode</ion-label>\n        <ion-select [(ngModel)]="infrastructure.barcode">\n          <ion-option *ngFor="let barcode of barcodes" [value]="barcode" >\n            {{barcode}}\n          </ion-option>\n        </ion-select>\n      </ion-item>\n\n      <div *ngFor="let attribute of attributes" >\n          \n        <ion-list-header [class]="header_class">\n          {{attribute.name}}\n        </ion-list-header>\n\n        <ion-item *ngIf=" attribute.attr_type == \'text\' || attribute.attr_type == \'number\' ">\n          <input [class]="input_class" \n                 type="text" \n                 [(ngModel)]="infrastructure.attributes[attribute.id]" \n                 required \n                 placeholder="{{attribute.name}}"/>\n        </ion-item>\n\n        <ion-item *ngIf=" attribute.attr_type == \'date\' " class="item-margin" >\n          <ion-datetime displayFormat="DD/MM/YYYY" \n                        [(ngModel)]="infrastructure.attributes[attribute.id]" \n                        pickerFormat="DD MMM YYYY" \n                        placeholder="{{attribute.name}}" >\n                    \n          </ion-datetime>\n        </ion-item>\n\n        <ion-item *ngIf=" attribute.attr_type == \'list\' " class="item-margin options" >\n          <ion-label>{{attribute.name}}</ion-label>\n          <ion-select [(ngModel)]="infrastructure.attributes[attribute.id]">\n            <ion-option *ngFor="let op of attribute.options" value="{{op}}" >\n              {{op}}\n            </ion-option>\n          </ion-select>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/infrastructurelocationmodal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], InfrastructureLocationModal);
    return InfrastructureLocationModal;
}());

//# sourceMappingURL=infrastructurelocationmodal.js.map

/***/ }),

/***/ 228:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedEquipmentWithCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__create_create__ = __webpack_require__(499);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LinkedEquipmentWithCI = (function () {
    function LinkedEquipmentWithCI(navCtrl, params, TasksService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getEquipments();
    }
    LinkedEquipmentWithCI.prototype.getEquipments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedEquipmentsCI(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.equipments = data;
                if (_this.equipments.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.equipments.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedEquipmentWithCI.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.object_id });
    };
    LinkedEquipmentWithCI.prototype.info = function (t) {
    };
    LinkedEquipmentWithCI.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getEquipments();
            refresher.complete();
        }, 2000);
    };
    LinkedEquipmentWithCI.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedEquipmentWithCI.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__create_create__["a" /* CreateLinkedEquipmentForCI */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedEquipmentWithCI.prototype.reloadMe = function () {
        this.getEquipments();
    };
    LinkedEquipmentWithCI.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    LinkedEquipmentWithCI.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteEquipmentLinkCI(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getEquipments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedEquipmentWithCI.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.equipments = this.backup.filter(function (article) {
                var condition = _this.fns.match(_this.getFirst(article), val);
                return (condition);
            });
        }
        else {
            this.equipments = this.backup;
        }
    };
    LinkedEquipmentWithCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/equipments/equipments.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n      <button class="myBarBtn" ion-button menuToggle>\n        <ion-icon name="menu"></ion-icon>\n      </button>\n\n      <ion-buttons left>\n        <button ion-button navPop icon-only>\n          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n        </button>\n      </ion-buttons>\n      <ion-title>\n        Linked Equipments\n      </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let article of equipments; let i = index " >\n\n        <ion-label (click)=\'view(article);\'>\n            <h2>{{getFirst(article)}}</h2>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && equipments?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/equipments/equipments.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedEquipmentWithCI);
    return LinkedEquipmentWithCI;
}());

//# sourceMappingURL=equipments.js.map

/***/ }),

/***/ 234:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedInfrastructureWithCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__infrastructure_show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__create_create__ = __webpack_require__(525);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var LinkedInfrastructureWithCE = (function () {
    function LinkedInfrastructureWithCE(navCtrl, params, ContactService, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.ContactService = ContactService;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getInfrastructure();
    }
    LinkedInfrastructureWithCE.prototype.backButtonClick = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__show_show__["a" /* ContactExternalDescription */], { id: this.params.get('row_id') });
    };
    LinkedInfrastructureWithCE.prototype.getInfrastructure = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedInfrastructureCE(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.infrastructure = data;
                if (_this.infrastructure.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.infrastructure.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedInfrastructureWithCE.prototype.view = function (t) {
        console.log(t);
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: t.location_id });
    };
    LinkedInfrastructureWithCE.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getInfrastructure();
            refresher.complete();
        }, 2000);
    };
    LinkedInfrastructureWithCE.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedInfrastructureWithCE.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__create_create__["a" /* CreateLinkedInfrastructureForCE */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedInfrastructureWithCE.prototype.reloadMe = function () {
        this.getInfrastructure();
    };
    LinkedInfrastructureWithCE.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteInfrastructureLinkCE(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getInfrastructure();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedInfrastructureWithCE.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    LinkedInfrastructureWithCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/infrastructure/infrastructure.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Infrastructure\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let infra of infrastructure; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(infra);\'>\n           <h2 text-capitalize >{{infra.name}}</h2>\n           <p text-capitalize>{{infra.barcode}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(infra);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && infrastructure?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedInfrastructureWithCE);
    return LinkedInfrastructureWithCE;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 235:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedEquipmentWithCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__create_create__ = __webpack_require__(526);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LinkedEquipmentWithCE = (function () {
    function LinkedEquipmentWithCE(navCtrl, params, TasksService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getEquipments();
    }
    LinkedEquipmentWithCE.prototype.getEquipments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedEquipmentsCI(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.equipments = data;
                if (_this.equipments.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.equipments.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedEquipmentWithCE.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.object_id });
    };
    LinkedEquipmentWithCE.prototype.info = function (t) {
    };
    LinkedEquipmentWithCE.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getEquipments();
            refresher.complete();
        }, 2000);
    };
    LinkedEquipmentWithCE.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedEquipmentWithCE.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__create_create__["a" /* CreateLinkedEquipmentForCE */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedEquipmentWithCE.prototype.reloadMe = function () {
        this.getEquipments();
    };
    LinkedEquipmentWithCE.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    LinkedEquipmentWithCE.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteEquipmentLinkCI(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getEquipments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedEquipmentWithCE.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.equipments = this.backup.filter(function (article) {
                var condition = _this.fns.match(_this.getFirst(article), val);
                return (condition);
            });
        }
        else {
            this.equipments = this.backup;
        }
    };
    LinkedEquipmentWithCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/equipments/equipments.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n      <button class="myBarBtn" ion-button menuToggle>\n        <ion-icon name="menu"></ion-icon>\n      </button>\n\n      <ion-buttons left>\n        <button ion-button navPop icon-only>\n          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n        </button>\n      </ion-buttons>\n      <ion-title>\n        Linked Equipments\n      </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let article of equipments; let i = index " >\n\n        <ion-label (click)=\'view(article);\'>\n            <h2>{{getFirst(article)}}</h2>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && equipments?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/equipments/equipments.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedEquipmentWithCE);
    return LinkedEquipmentWithCE;
}());

//# sourceMappingURL=equipments.js.map

/***/ }),

/***/ 236:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedInfrastructureWithAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__create_create__ = __webpack_require__(528);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var LinkedInfrastructureWithAgenda = (function () {
    function LinkedInfrastructureWithAgenda(navCtrl, params, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getDocuments();
    }
    LinkedInfrastructureWithAgenda.prototype.backButtonClick = function () {
        this.navCtrl.pop();
    };
    LinkedInfrastructureWithAgenda.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getLinkedInfrastructure(this.params.get('task_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.infrastructure = data;
                if (_this.infrastructure.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.infrastructure.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedInfrastructureWithAgenda.prototype.view = function (t) {
    };
    LinkedInfrastructureWithAgenda.prototype.info = function (t) {
    };
    LinkedInfrastructureWithAgenda.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedInfrastructureWithAgenda.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedInfrastructureWithAgenda.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__create_create__["a" /* CreateLinkedInfrastructureForAgenda */], { task_id: this.params.get('task_id') });
    };
    LinkedInfrastructureWithAgenda.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedInfrastructureWithAgenda.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.TasksService.deleteInfrastructureLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedInfrastructureWithAgenda.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    LinkedInfrastructureWithAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/infrastructure/infrastructure.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="backButtonClick()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Infrastructure\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let infra of infrastructure; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(infra);\'>\n           <h2 text-capitalize >{{infra.name}}</h2>\n           <p text-capitalize>{{infra.barcode}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(infra);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && infrastructure?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedInfrastructureWithAgenda);
    return LinkedInfrastructureWithAgenda;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 237:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedEquipmentWithAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__create_create__ = __webpack_require__(529);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__equipments_articles_description_description__ = __webpack_require__(61);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LinkedEquipmentWithAgenda = (function () {
    function LinkedEquipmentWithAgenda(navCtrl, params, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getEquipments();
    }
    LinkedEquipmentWithAgenda.prototype.getEquipments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getLinkedEquipments(this.params.get('task_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.equipments = data;
                if (_this.equipments.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.equipments.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedEquipmentWithAgenda.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.object_id });
    };
    LinkedEquipmentWithAgenda.prototype.info = function (t) {
    };
    LinkedEquipmentWithAgenda.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getEquipments();
            refresher.complete();
        }, 2000);
    };
    LinkedEquipmentWithAgenda.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedEquipmentWithAgenda.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__create_create__["a" /* CreateLinkedEquipmentForAgenda */], { task_id: this.params.get('task_id') });
    };
    LinkedEquipmentWithAgenda.prototype.reloadMe = function () {
        this.getEquipments();
    };
    LinkedEquipmentWithAgenda.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    LinkedEquipmentWithAgenda.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.TasksService.deleteEquipmentLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getEquipments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedEquipmentWithAgenda.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.equipments = this.backup.filter(function (article) {
                var condition = _this.fns.match(_this.getFirst(article), val);
                return (condition);
            });
        }
        else {
            this.equipments = this.backup;
        }
    };
    LinkedEquipmentWithAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/equipments/equipments.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n      <button class="myBarBtn" ion-button menuToggle>\n        <ion-icon name="menu"></ion-icon>\n      </button>\n\n      <ion-buttons left>\n        <button ion-button navPop icon-only>\n          <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n        </button>\n      </ion-buttons>\n      <ion-title>\n        Linked Equipments\n      </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let article of equipments; let i = index " >\n\n        <ion-label (click)=\'view(article);\'>\n            <h2>{{getFirst(article)}}</h2>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && equipments?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more" (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/equipments/equipments.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedEquipmentWithAgenda);
    return LinkedEquipmentWithAgenda;
}());

//# sourceMappingURL=equipments.js.map

/***/ }),

/***/ 238:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Settings; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__profile_edit_edit__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__notifications_notification_setting_notification_setting__ = __webpack_require__(535);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var Settings = (function () {
    function Settings(navCtrl, alertCtrl, Notification, session, NotificationService) {
        this.navCtrl = navCtrl;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.session = session;
        this.NotificationService = NotificationService;
        this.touch_id = false;
        this.touch_id = (this.session.getTouchID() || false);
    }
    Settings.prototype.edit = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__profile_edit_edit__["a" /* EditPage */], { type: t, column: t });
    };
    Settings.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__dashboard_dashboard__["a" /* Dashboard */]);
    };
    Settings.prototype.notification = function (t) {
        var _this = this;
        this.Notification.presentLoader();
        this.NotificationService.getNotificationsDays().then(function (days) {
            _this.Notification.dismissLoader();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__notifications_notification_setting_notification_setting__["a" /* NotificationSetting */], { days: days });
        });
    };
    Settings.prototype.handleTouchToggle = function () {
        this.session.setTouchID(this.touch_id);
    };
    Settings.prototype.deactivate = function () {
        var deactivate = this.alertCtrl.create({
            title: 'Deactivate account',
            message: 'Do you want to deactivate your account?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Deactivate',
                    handler: function () {
                        alert('Here');
                    }
                }
            ]
        });
        deactivate.present();
    };
    Settings = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-settings',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/settings/settings.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      List of documents\n    </ion-title>\n    <ion-buttons right>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="outer-content">\n\n  <ion-list>\n   \n    <ion-list-header>\n      Settings\n    </ion-list-header>\n\n    <ion-item (click) = "notification()">\n      <ion-icon name="ios-notifications-outline" item-start color="primary"></ion-icon>\n      <ion-label>Notifications</ion-label>\n    </ion-item>\n\n  </ion-list>\n\n  <ion-list>\n    <ion-list-header>\n      Account Setting\n    </ion-list-header>\n\n    <ion-item (click) = "edit(\'password\')" >\n      <ion-icon name="ios-lock-outline" item-start color="primary"></ion-icon>\n      <ion-label>Password</ion-label>\n    </ion-item>\n    <ion-item (click) = "edit(\'pin\')">\n      <ion-icon name="ios-key-outline" item-start color="primary"></ion-icon>\n      <ion-label>Pin</ion-label>\n    </ion-item>\n    <ion-item (click) = "deactivate()">\n      <ion-icon name="ios-trash-outline" item-start color="danger"></ion-icon>\n      <ion-label>Deactivate your account</ion-label>\n    </ion-item>\n     <!-- <ion-item >\n      <ion-icon name="ios-download-outline" item-start color="primary"></ion-icon>\n      <ion-label>Downloads</ion-label>\n    </ion-item> -->\n    <ion-item>\n      <ion-icon name="finger-print" item-start ></ion-icon>\n      <ion-label>Touch ID</ion-label>\n      <ion-toggle [(ngModel)]="touch_id" (ionChange)="handleTouchToggle()" color="secondary" ></ion-toggle>\n    </ion-item>\n    <ion-item >\n      <ion-icon name="ios-alert-outline" item-start color="primary"></ion-icon>\n      <ion-label>About App</ion-label>\n    </ion-item>\n    <ion-item>\n     <ion-icon name="finger-print" item-start color="primary"></ion-icon>\n      <ion-label>Privacy Policy</ion-label>\n    </ion-item>\n    <ion-item>\n     <ion-icon name="ios-paper-outline" item-start color="primary"></ion-icon>\n      <ion-label>Terms & Conditions</ion-label>\n    </ion-item>\n    <ion-item>\n      <ion-icon name="ios-help-circle-outline" item-start color="primary"></ion-icon>\n      <ion-label>Feedback</ion-label>\n    </ion-item>\n  </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/settings/settings.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */]])
    ], Settings);
    return Settings;
}());

//# sourceMappingURL=settings.js.map

/***/ }),

/***/ 239:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EditPage = (function () {
    function EditPage(navCtrl, session, params, Notifications, auth) {
        this.navCtrl = navCtrl;
        this.session = session;
        this.params = params;
        this.Notifications = Notifications;
        this.auth = auth;
        this.current_user = this.session.getUser();
        this.title = this.params.data.type;
    }
    EditPage.prototype.update = function () {
        var _this = this;
        if (this.newp == this.confirmp) {
            this.Notifications.presentLoader();
            this.auth.update_password({ currentp: this.currentp, newp: this.newp, confirmp: this.confirmp, type: this.title })
                .then(function (data) {
                _this.Notifications.dismissLoader();
                _this.Notifications.presentToast(data.message);
                if (data.status) {
                    _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__["a" /* Dashboard */]);
                }
            });
        }
        else {
            this.Notifications.presentToast(this.title + " does not match the confirm " + this.title);
        }
    };
    EditPage.prototype.updatePin = function (e, type) {
        if (this.title == 'pin') {
            if (type == "current") {
                // if(this.currentp.length > 4){
                //   this.currentp = this.currentpt; 
                // } else {
                //  this.currentpt = this.currentp; 
                // }
            }
            else if (type == "new") {
                if (this.newp.length > 4) {
                    this.newp = this.newpt;
                }
                else {
                    this.newpt = this.newp;
                }
            }
            else if (type == "confirm") {
                if (this.confirmp.length > 4) {
                    this.confirmp = this.confirmpt;
                }
                else {
                    this.confirmpt = this.confirmp;
                }
            }
        }
    };
    EditPage.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__dashboard_dashboard__["a" /* Dashboard */]);
    };
    EditPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-edit',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/profile/edit/edit.html"*/'<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      Change {{title}}\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar> \n</ion-header>\n\n\n  <!-- <ion-grid>\n    <ion-row>\n      <ion-col col-2>\n        <ion-icon name="arrow-back" (click)="back()"></ion-icon>\n      </ion-col>\n      <ion-col col-7>\n        <ion-title>\n          Change {{title}}\n        </ion-title>\n      </ion-col>\n      <ion-col col-3>\n        <ion-buttons>\n          <button ion-button (click)="update()" clear>Update</button>\n        </ion-buttons>\n      </ion-col>  \n    </ion-row>\n  </ion-grid>  -->\n\n<ion-content class="profile">\n  <ion-grid> \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="reset-icon" name="ios-key"></ion-icon><p>\n        <h3>Reset your {{title}} ?</h3>\n        <p>Fill your old password to create a new one </p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-list>\n    <ion-item>  \n      <ion-input type="password" placeholder="Current Password" name="cp" (keyup)="updatePin($event,\'current\')" [(ngModel)]="currentp"  ></ion-input> \n    </ion-item>\n    <ion-item>  \n      <ion-input type="password" placeholder="New {{title}}" name="newp" (keyup)="updatePin($event,\'new\')" [(ngModel)]="newp"  >    </ion-input> \n    </ion-item>\n  	<ion-item>  \n  		<ion-input type="password" placeholder="Confirm {{title}}" name="confirmp" (keyup)="updatePin($event,\'confirm\')" [(ngModel)]="confirmp"></ion-input> \n  	</ion-item>\n  </ion-list>\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/profile/edit/edit.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */]])
    ], EditPage);
    return EditPage;
}());

//# sourceMappingURL=edit.js.map

/***/ }),

/***/ 240:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsMenu; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__list_list__ = __webpack_require__(135);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var EquipmentsMenu = (function () {
    function EquipmentsMenu(navCtrl, alertCtrl, Notifications, fns, EquipmentService, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.fns = fns;
        this.EquipmentService = EquipmentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.search = '';
        this.is_searched = false;
        this.levels = [];
        this.backup = [];
        this.getSearchLevels();
        console.log("menu level called");
    }
    EquipmentsMenu.prototype.getSearchLevels = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.searchLevels(this.search.toLowerCase()).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.levels = data.levels;
            _this.backup = data.levels;
        });
    };
    EquipmentsMenu.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.levels = this.backup.filter(function (level) {
                var condition = _this.fns.match(level.name, val) || _this.fns.match(level.level1, val);
                return condition;
            });
        }
        else {
            this.levels = this.backup;
        }
    };
    EquipmentsMenu.prototype.next = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__models_models__["a" /* EquipmentsModels */], { levels_data_id: t.id, parent_id: t.parent_id });
    };
    EquipmentsMenu.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__list_list__["a" /* Equipments */]);
    };
    EquipmentsMenu = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-menu',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/menu/menu.html"*/'<ion-header>\n    <ion-navbar hideBackButton>\n        <button class="myBarBtn" ion-button menuToggle>\n            <ion-icon name="menu"></ion-icon>\n        </button>\n\n        <ion-buttons left>\n            <button ion-button navPop icon-only>\n                <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n            </button>\n        </ion-buttons>\n        <ion-title>Equipments</ion-title>\n    </ion-navbar>\n    <ion-searchbar placeholder="Search by Last Level" [(ngModel)]="search" (ionInput)="getItems($event)" ></ion-searchbar>\n</ion-header>\n\n<ion-content>\n\n    <ion-list>\n        <ion-item *ngFor="let level of levels" (click)=\'next(level);\'>{{level.level1}} / {{level.level2}} / {{level.name}}</ion-item>\n    </ion-list>\n\n    <div class="search-spinner" *ngIf="is_searched">\n        <ion-spinner ></ion-spinner>\n    </div> \n  \n</ion-content>\n\n<ion-footer>\n    <ion-fab right bottom >\n        <button class="add-btn" ion-fab (click)="create()"><ion-icon class="add-icon" name="add"></ion-icon></button>\n    </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/menu/menu.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_4__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], EquipmentsMenu);
    return EquipmentsMenu;
}());

//# sourceMappingURL=menu.js.map

/***/ }),

/***/ 241:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Agenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__create_create__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var Agenda = (function () {
    function Agenda(navCtrl, TasksService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.TasksService = TasksService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    Agenda.prototype.ionViewWillEnter = function () {
        this.getAgendas();
    };
    Agenda.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getTasks(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.tasks = data;
                if (_this.tasks.length == __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    Agenda.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__show_show__["a" /* AgendaDescription */], { id: id });
    };
    Agenda.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    Agenda.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.tasks.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    Agenda.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.tasks = data;
                });
            }, 500);
        }
    };
    Agenda.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.id);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    Agenda.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__create_create__["a" /* AgendaCreate */]);
    };
    Agenda.prototype.reloadMe = function () {
        this.getAgendas();
    };
    Agenda.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__["a" /* Dashboard */]);
    };
    Agenda.prototype.delete = function (task) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.TasksService.delete(task.id)
                            .then(function (data) {
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    Agenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/list/list.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n\n   <ion-list>\n    \n    <ion-item *ngFor="let t of tasks">\n      <div (click)=\'view(t.id);\' >\n        <h2>{{t.name}}</h2>\n        <p>{{t.description}}</p>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(t);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n\n    </ion-item>\n\n  </ion-list>\n  \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n  <ion-grid class="grid-reload" *ngIf="reload && tasks?.length <= 0"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && tasks?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], Agenda);
    return Agenda;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 242:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Tags; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




// import { SessionHelper } from '../../../helpers/session.helper';
var Tags = (function () {
    function Tags(navCtrl, DocumentService, alertCtrl, actionSheetCtrl, Notifications) {
        this.navCtrl = navCtrl;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.Notifications = Notifications;
    }
    Tags.prototype.ngOnInit = function () {
        this.getTags();
    };
    Tags.prototype.getTags = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getTags()
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.data = data.tags;
            _this.tags = data.tags;
        });
    };
    Tags.prototype.initializeItems = function () {
        this.tags = this.data;
    };
    Tags.prototype.delete = function (id) {
        var _this = this;
        this.Notifications.dismissLoader();
        var res = { id: id };
        this.DocumentService.deleteTag(res)
            .then(function (data) {
            _this.getTags();
        });
    };
    Tags.prototype.getItems = function (ev) {
        this.initializeItems();
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.tags = this.tags.filter(function (item) {
                return (item.tag_name.toLowerCase().indexOf(val.toLowerCase()) > -1);
            });
        }
    };
    Tags.prototype.view = function (tag) {
        var _this = this;
        console.log(tag);
        var alert = this.alertCtrl.create({
            title: 'Edit New Tag',
            message: 'Enter a tag name',
            inputs: [
                {
                    name: 'tag',
                    placeholder: 'Tag',
                    value: tag.tag_name
                },
            ],
            buttons: [
                {
                    text: 'Cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Save',
                    handler: function (res) {
                        var params = { tag_name: res.tag, tag_id: tag.id };
                        _this.DocumentService.editTag(params)
                            .then(function (data) {
                            _this.getTags();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    Tags.prototype.create = function () {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Add New Tag',
            message: 'Enter a tag name',
            inputs: [
                {
                    name: 'tag',
                    placeholder: 'Tag'
                },
            ],
            buttons: [
                {
                    text: 'Cancel',
                    handler: function () {
                        console.log('Cancel clicked');
                    }
                },
                {
                    text: 'Save',
                    handler: function (res) {
                        _this.DocumentService.createTag(res)
                            .then(function (data) {
                            _this.getTags();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    Tags.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Edit',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    Tags = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-tags',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/tags/list/list.html"*/'<ion-header>\n  <ion-navbar>\n   <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      Tags\n    </ion-title>\n  </ion-navbar>\n   <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n</ion-header>\n\n<ion-content >\n\n   <ion-list >\n    <ion-item *ngFor="let t of tags; let i = index ">\n      <h2 text-capitalize>{{t.tag_name}}</h2>\n      <button class="wd-30" ion-button (click)=\'presentActionSheet(t);\' item-end clear > <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n\n  </ion-list>\n\n</ion-content>\n\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/tags/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], Tags);
    return Tags;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 243:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ProfilePage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__edit_edit__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var ProfilePage = (function () {
    function ProfilePage(navCtrl, camera, transfer, actionSheetCtrl, Notifications, auth, events, session, toastController) {
        this.navCtrl = navCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.actionSheetCtrl = actionSheetCtrl;
        this.Notifications = Notifications;
        this.auth = auth;
        this.events = events;
        this.session = session;
        this.toastController = toastController;
        this.is_updated = false;
        this.fileTransfer = this.transfer.create();
        this.current_user = this.session.getUser();
        this.profile = [
            { value: this.current_user.username,
                column: 'name',
                placeholder: 'Username',
                disabled: true,
                type: 'username'
            },
            { value: this.current_user.email,
                column: 'email',
                placeholder: 'Email',
                disabled: true,
                type: 'email'
            },
            { value: '******',
                column: 'password',
                placeholder: 'Password',
                disabled: true,
                type: 'password'
            },
            { value: '****',
                column: 'pin',
                placeholder: 'PIN',
                disabled: true,
                type: 'pin'
            },
            { value: this.current_user.address,
                column: 'address',
                placeholder: 'Address',
                disabled: true,
                type: 'address'
            }
        ];
    }
    ProfilePage.prototype.edit = function (t, c, i) {
        if (c === void 0) { c = ''; }
        if (t == 'password') {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__edit_edit__["a" /* EditPage */], { type: t, column: c });
        }
        else if (t == 'pin') {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__edit_edit__["a" /* EditPage */], { type: t, column: c });
        }
        else if (t == 'email') {
        }
        else {
            this.profile[i].disabled = false;
            this.is_updated = true;
        }
    };
    ProfilePage.prototype.tedit = function () {
        var _this = this;
        var i = 0;
        this.is_updated = true;
        this.profile.forEach(function (st) {
            if (i !== 1 &&
                i !== 2 &&
                i !== 3) {
                _this.profile[i].disabled = false;
            }
            i++;
        });
        console.log("clicked !");
        this.presentToast("Edit Profile Enabled !");
    };
    ProfilePage.prototype.update = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.auth.update(this.profile)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.status) {
                var i = 0;
                _this.profile.forEach(function (st) {
                    _this.profile[i].disabled = true;
                    i++;
                });
                console.log("Profile :" + JSON.stringify(_this.profile));
                _this.current_user.username = _this.profile[0].value;
                _this.current_user.address = _this.profile[4].value;
                // this.current_user.contact_no = this.profile[5].value;
                _this.session.setUser(_this.current_user);
                _this.events.publish('user:refresh', _this.current_user);
                _this.is_updated = false;
            }
        });
    };
    ProfilePage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: [
                {
                    text: 'Camera',
                    role: 'destructive',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                    }
                }, {
                    text: 'Gallery',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY));
                    }
                }, {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    ProfilePage.prototype.captureImage = function (camera_options) {
        var _this = this;
        this.camera.getPicture(camera_options).then(function (imageData) {
            // this.image_data = imageData;
            _this.upload(imageData);
        }, function (err) {
            alert(err);
        });
    };
    ProfilePage.prototype.options = function (source_type) {
        var camera_options = {
            quality: 20,
            destinationType: this.camera.DestinationType.FILE_URI,
            sourceType: source_type,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            allowEdit: true,
            correctOrientation: true,
            targetWidth: 300,
            targetHeight: 300
        };
        return camera_options;
    };
    ProfilePage.prototype.upload = function (imageData) {
        var _this = this;
        var options = {
            fileKey: 'file',
            fileName: 'file.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'file.jpg',
                'org_user_id': this.current_user.user_id,
                'org_id': this.current_user.user_org_id
            }
        };
        this.Notifications.presentLoader();
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url + 'auth/uploads', options)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.current_user.private_image_path = __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                _this.current_user.image_name +
                '&token=' + _this.session.getToken() +
                '&type=profile_pic&timestamp=' +
                new Date().getTime();
            _this.events.publish('user:refresh', _this.current_user);
            _this.session.setUser(_this.current_user);
            _this.Notifications.presentToast("Profile picture updated successfully");
        }, function (err) {
            _this.Notifications.dismissLoader();
            _this.Notifications.presentToast("Unable to update profile picture");
        });
    };
    ProfilePage.prototype.presentToast = function (msg) {
        var toast = this.toastController.create({
            message: msg,
            duration: 2000,
            cssClass: 'success',
            position: 'top'
        });
        toast.present();
    };
    ProfilePage.prototype.back = function () {
        this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__["a" /* Dashboard */]);
    };
    ProfilePage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-profile',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/profile/profile.html"*/'<ion-header>\n  <!-- <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      Profile\n    </ion-title>\n     <ion-buttons *ngIf="!is_updated" right>\n      <button ion-button (click)="tedit()" clear>Edit</button>\n    </ion-buttons>\n     <ion-buttons *ngIf="is_updated" right>\n      <button ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar> -->\n\n  <ion-grid>\n    <ion-col col-2>\n      <ion-icon (click)="back()" name="arrow-round-back"></ion-icon>\n    </ion-col>\n    <ion-col col-8>\n      <ion-title>\n        Profile\n      </ion-title>\n    </ion-col>\n    <ion-col col-2>\n      <ion-buttons *ngIf="!is_updated">\n        <button ion-button (click)="tedit()" clear>Edit</button>\n      </ion-buttons>\n       <ion-buttons *ngIf="is_updated">\n        <button ion-button (click)="update()" clear>Update</button>\n      </ion-buttons>\n    </ion-col>\n  </ion-grid>\n\n <!--  <ion-icon (click)="back()" name="arrow-round-back"></ion-icon>\n  <ion-title>\n    Profile\n  </ion-title>\n  <ion-buttons *ngIf="!is_updated">\n    <button ion-button (click)="tedit()" clear>Edit</button>\n  </ion-buttons>\n  <ion-buttons *ngIf="is_updated">\n    <button ion-button (click)="update()" clear>Update</button>\n  </ion-buttons> -->\n</ion-header>\n\n<ion-content class="profile" >\n\n    <div class="profile-div">\n       <div class="profile-pic" >\n        <img src="{{current_user.private_image_path}}" (click)=presentActionSheet()>\n      </div>\n      <ion-icon ios="ios-camera" md="md-camera"></ion-icon>\n    </div>\n   \n    <ion-list>\n     \n      <ion-item *ngFor="let t of profile; let i = index " >\n        <ion-label  color="primary" fixed>{{t.placeholder}}</ion-label>\n        <ion-input (click)="edit(t.type,t.column,i)" type="text" placeholder="{{t.placeholder}}" [(ngModel)]="t.value" disabled="{{t.disabled}}"></ion-input>\n        <button ion-button clear item-end *ngIf="t.column == \'password\' || t.column == \'pin\'" (click)="edit(t.type,t.column,i)">Change</button>\n      </ion-item>\n\n    </ion-list>\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/profile/profile.html"*/,
            providers: [
                __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__["a" /* Camera */],
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ToastController"]])
    ], ProfilePage);
    return ProfilePage;
}());

//# sourceMappingURL=profile.js.map

/***/ }),

/***/ 244:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Login1Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_fingerprint_aio__ = __webpack_require__(909);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pages_register_register__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_pin_step1_step1__ = __webpack_require__(246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__login2_login2__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__more__ = __webpack_require__(539);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var Login1Page = (function () {
    function Login1Page(app, authService, alertCtrl, globalVars, navCtrl, params, menu, popoverCtrl, events, Notifications, platform, faio, Session) {
        this.app = app;
        this.authService = authService;
        this.alertCtrl = alertCtrl;
        this.globalVars = globalVars;
        this.navCtrl = navCtrl;
        this.params = params;
        this.menu = menu;
        this.popoverCtrl = popoverCtrl;
        this.events = events;
        this.Notifications = Notifications;
        this.platform = platform;
        this.faio = faio;
        this.Session = Session;
        this.dashboard = __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard__["a" /* Dashboard */];
        this.registerPage = __WEBPACK_IMPORTED_MODULE_8__pages_register_register__["a" /* RegisterPage */];
        this.setPin = __WEBPACK_IMPORTED_MODULE_9__pages_pin_step1_step1__["a" /* Step1Page */];
        this.credentials = { username: '', password: '' };
        this.fingerprint = false;
        this.touch_id = false;
        this.is_pincode = true;
        this.logout = false;
        this.reload = false;
        this.backButtonPressedOnceToExit = false;
        this.upin = '';
        this.menu = menu;
        this.user_pin = __WEBPACK_IMPORTED_MODULE_8__pages_register_register__["a" /* RegisterPage */];
        this.user_login = __WEBPACK_IMPORTED_MODULE_8__pages_register_register__["a" /* RegisterPage */];
        this.logout = (this.params.get('logout') || false);
        this.menu.swipeEnable(false);
        this.user = this.Session.getLastUser();
        console.log("getLastUser :" + JSON.stringify(this.user));
        this.touch_id = this.Session.getTouchID();
        this.fingerprint = false;
        this.initFaio();
    }
    Login1Page.prototype.register = function () {
        this.app.getRootNav().push(this.registerPage);
    };
    Login1Page.prototype.ionViewDidEnter = function () {
        // this.platform.registerBackButtonAction(() => {
        //   if (this.backButtonPressedOnceToExit) {
        //     this.platform.exitApp();
        //   }
        //   else {
        //     this.backButtonPressedOnceToExit = true;
        //     this.Notifications.presentToast("Press back button again to exit", 2000);
        //     setTimeout(()=>{
        //       this.backButtonPressedOnceToExit = false;
        //     },2000);
        //   }
        //   return false;
        // },101);
        // this.platform.registerBackButtonAction(() => {
        //  this.exit(this.platform)
        // });
    };
    Login1Page.prototype.exit = function (platform) {
        var exit = this.alertCtrl.create({
            title: 'Confirm exit',
            message: 'Do you want Exit?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Exit',
                    handler: function () {
                        platform.exitApp();
                    }
                }
            ]
        });
        exit.present();
    };
    Login1Page.prototype.presentPopover = function (myEvent) {
        var popover = this.popoverCtrl.create(__WEBPACK_IMPORTED_MODULE_12__more__["a" /* PopoverPage */]);
        popover.present({
            ev: myEvent
        });
    };
    Login1Page.prototype.set_pin = function () {
        this.app.getRootNav().push(this.setPin);
    };
    Login1Page.prototype.change = function () {
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_10__login2_login2__["a" /* Login2Page */]);
    };
    Login1Page.prototype.changeTab = function (r) {
        this.is_pincode = r;
    };
    Login1Page.prototype.updatePin = function (e) {
        if (this.pin.length > 4) {
            this.pin = this.spin;
        }
        else {
            this.spin = this.pin;
        }
    };
    Login1Page.prototype.loginViaPin = function () {
        var _this = this;
        if (this.upin.length == 4) {
            this.Notifications.presentLoader();
            this.authService.loginViaPin(this.upin)
                .then(function (data) {
                _this.Notifications.dismissLoader();
                _this.loginResponse(data);
            });
        }
        else {
            this.Notifications.presentToast('The length of PIN must be 4');
        }
    };
    Login1Page.prototype.numberRange = function (start, end) {
        var r = [];
        while (start <= end) {
            r.push(start);
            start++;
        }
        return r;
    };
    Login1Page.prototype.addPin = function (val) {
        if (this.upin.length < 4) {
            if (val == 'x') {
                this.upin = this.upin.slice(0, -1);
            }
            else {
                this.upin += val;
            }
        }
        else {
            if (val == 'x') {
                this.upin = this.upin.slice(0, -1);
            }
        }
        if (this.upin.length == 4) {
            this.loginViaPin();
        }
    };
    Login1Page.prototype.strlength = function (v) {
        var r;
        switch (v) {
            case '1': {
                r = this.upin.length == 1 || this.upin.length == 2 || this.upin.length == 3 || this.upin.length == 4;
                break;
            }
            case '2': {
                r = this.upin.length == 2 || this.upin.length == 3 || this.upin.length == 4;
                break;
            }
            case '3': {
                r = this.upin.length == 3 || this.upin.length == 4;
                break;
            }
            case '4': {
                r = this.upin.length == 4;
                break;
            }
            default: {
                break;
            }
        }
        return r;
    };
    Login1Page.prototype.getFirstname = function (n) {
        return n.split(' ')[0];
    };
    Login1Page.prototype.loadFingerPrint = function () {
        this.initFaio(true);
    };
    Login1Page.prototype.initFaio = function (is_clicked) {
        var _this = this;
        if (is_clicked === void 0) { is_clicked = false; }
        if (!this.platform.is('cordova') || !this.touch_id) {
            return false;
        }
        this.faio.isAvailable()
            .then(function (result) {
            _this.fingerprint = true;
            if (!is_clicked && _this.logout) {
                return false;
            }
            _this.faio.show({
                clientId: 'Fingerprint-Demo',
                clientSecret: 'password',
                disableBackup: true,
                localizedFallbackTitle: 'Use Pin',
                localizedReason: 'Please authenticate'
            }).then(function (result) {
                _this.Notifications.presentLoader();
                _this.authService.loginViaFingerprint()
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    _this.loginResponse(data);
                });
            });
        });
    };
    Login1Page.prototype.loginResponse = function (data) {
        this.upin = '';
        if (data.error == undefined) {
            this.reload = false;
            this.response = data;
            if (this.response.status) {
                this.setVars();
            }
            else {
                this.Notifications.presentToast(this.response.message);
            }
        }
        else {
            this.reload = true;
            this.Notifications.presentToast('Timeout error');
        }
    };
    Login1Page.prototype.setVars = function () {
        this.globalVars.setCurrentUser(this.response.current_user);
        this.Session.setToken(this.response.token);
        this.response.current_user.private_image_path = __WEBPACK_IMPORTED_MODULE_11__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + this.response.current_user.image_name + '&token=' + this.response.token + '&type=profile_pic&thumb=true&quality=medium';
        this.Session.setUser(this.response.current_user);
        this.Session.setLastUser(this.response.current_user);
        this.events.publish('user:loggedin', this.response.current_user);
        this.app.getRootNav().setRoot(this.dashboard);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Login1Page.prototype, "navBar", void 0);
    Login1Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-login1',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/login/login1/login1.html"*/'<ion-content scroll="false" >\n  <!-- <button class="more-btn" clear ion-button icon-only (click)="presentPopover($event)">\n    <ion-icon name="more"></ion-icon>\n  </button> -->\n\n  <div class="logo">\n    <div *ngIf="platform.is(\'ios\')">\n      <img src="assets/img/track_my_document.png">\n    </div>\n    <div *ngIf="platform.is(\'android\')">\n      <img src="assets/img/track_my_document.png">\n    </div>\n    <div *ngIf="platform.is(\'windows\')">\n      <ion-img src="assets/img/track_my_document.png"></ion-img>\n    </div>\n  </div>\n  \n  <div class="avatar">\n    <div class="avatar-pic" *ngIf="user.private_image_path">\n      <img src="{{user.private_image_path}}">\n    </div>\n  </div>\n\n  <div class="name" text-center>Hello <span text-uppercase >{{getFirstname(user.username)}}</span></div>\n\n  <div text-center >\n    <button class="change" ion-button clear (click) = "change()" text-capitalize icon-end> \n      Change user  \n      <ion-icon name="contact"></ion-icon>\n    </button>\n  </div>\n\n  <div text-center *ngIf="fingerprint && touch_id" >\n    <button ion-button icon-only clear  (click) = "loadFingerPrint()" text-capitalize > \n      <ion-icon name="finger-print"></ion-icon>\n    </button>\n  </div>\n\n  <div class = "pin-code">\n    <ul>\n      <li> <ion-icon [name]=" strlength(\'1\') ? \'radio-button-on\' : \'radio-button-off\' " ></ion-icon></li>\n      <li> <ion-icon [name]=" strlength(\'2\') ? \'radio-button-on\' : \'radio-button-off\' "></ion-icon></li>\n      <li> <ion-icon [name]=" strlength(\'3\') ? \'radio-button-on\' : \'radio-button-off\' "></ion-icon></li>\n      <li> <ion-icon [name]=" strlength(\'4\') ? \'radio-button-on\' : \'radio-button-off\' "></ion-icon></li>\n    </ul>\n  </div>\n \n  <ion-grid text-center>\n    <ion-row>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'1\')" >1</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'2\')">2</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'3\')">3</button>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'4\')">4</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'5\')">5</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'6\')">6</button>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'7\')">7</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'8\')">8</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'9\')">9</button>\n      </ion-col>\n    </ion-row>\n    <ion-row>\n      <ion-col>\n          <button class="cross" ion-button outline large (click)="addPin(\'x\')">X</button>\n      </ion-col>\n      <ion-col>\n          <button ion-button outline large (click)="addPin(\'0\')">0</button>\n      </ion-col>\n      <ion-col>\n           <button ion-button  outline large (click)="set_pin()"> <ion-icon name="lock" style="font-size:0.9em;"></ion-icon> </button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n  \n  <!--  <ion-grid>\n      <ion-row class="r-bg" style="border: 1px solid #ccc;">\n        <ion-col *ngIf="is_pincode" class="r-bg" style="padding:12px">\n           <ion-item class="r-bg" style="border: none;" text-center>\n            <p style="color:#000000">Enter your Quick Access Pin</p>\n           </ion-item>\n           <ion-item>\n             <ion-input class="pincode" id="pin" type="password" [(ngModel)]="pin" name="pin" (keyup)="updatePin($event)" ></ion-input>\n          </ion-item>\n          <div text-center>\n            <button class="cbutton" id="pin-login-btn" ion-button (click)=\'loginViaPin();\' large >Login</button>\n          </div>\n          <button ion-button clear (click)="set_pin()">Set 4-digit PIN</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n -->\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/login/login1/login1.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
                __WEBPACK_IMPORTED_MODULE_7__ionic_native_fingerprint_aio__["a" /* FingerprintAIO */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"],
            __WEBPACK_IMPORTED_MODULE_3__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["PopoverController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_fingerprint_aio__["a" /* FingerprintAIO */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */]])
    ], Login1Page);
    return Login1Page;
}());

//# sourceMappingURL=login1.js.map

/***/ }),

/***/ 245:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RegisterPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_validation_helper__ = __webpack_require__(537);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__login_login2_login2__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__angular_forms__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_transfer__ = __webpack_require__(50);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var RegisterPage = (function () {
    function RegisterPage(globalVars, auth, navCtrl, camera, transfer, actionSheetCtrl, Notifications, validation, _ngZone, Session, http, loadingCtrl) {
        this.globalVars = globalVars;
        this.auth = auth;
        this.navCtrl = navCtrl;
        this.camera = camera;
        this.transfer = transfer;
        this.actionSheetCtrl = actionSheetCtrl;
        this.Notifications = Notifications;
        this.validation = validation;
        this._ngZone = _ngZone;
        this.Session = Session;
        this.http = http;
        this.loadingCtrl = loadingCtrl;
        this.EMAIL_REGEX = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
        this.type1 = 'password';
        this.showPass1 = false;
        this.type2 = 'password';
        this.showPass2 = false;
        this.password_eye = "ios-eye-off-outline";
        this.confirm_password_eye = "ios-eye-off-outline";
        this.register = { user_name: "", password: "", confirm_password: "", name: "", email: "", contact: "", address: "", country: "", gmail: "", languages: "" };
        this.fileTransfer = this.transfer.create();
        this.languages = [
            { id: 1, name: 'English' },
            { id: 2, name: 'French' },
            { id: 3, name: 'German' },
            { id: 4, name: 'Dutch' }
        ];
        this.countryList = [{ "name": "Afghanistan" }, { "name": "land Islands" }, { "name": "Albania" }, { "name": "Algeria" }, { "name": "American Samoa" }, { "name": "Andorra" }, { "name": "Angola" }, { "name": "Anguilla" }, { "name": "Antarctica" }, { "name": "Antigua and Barbuda" }, { "name": "Argentina" }, { "name": "Armenia" }, { "name": "Aruba" }, { "name": "Australia" }, { "name": "Austria" }, { "name": "Azerbaijan" }, { "name": "Bahamas" }, { "name": "Bahrain" }, { "name": "Bangladesh" }, { "name": "Barbados" }, { "name": "Belarus" }, { "name": "Belgium" }, { "name": "Belize" }, { "name": "Benin" }, { "name": "Bermuda" }, { "name": "Bhutan" }, { "name": "Bolivia (Plurinational State of)" }, { "name": "Bonaire, Sint Eustatius and Saba" }, { "name": "Bosnia and Herzegovina" }, { "name": "Botswana" }, { "name": "Bouvet Island" }, { "name": "Brazil" }, { "name": "British Indian Ocean Territory" }, { "name": "United States Minor Outlying Islands" }, { "name": "Virgin Islands (British)" }, { "name": "Virgin Islands (U.S.)" }, { "name": "Brunei Darussalam" }, { "name": "Bulgaria" }, { "name": "Burkina Faso" }, { "name": "Burundi" }, { "name": "Cambodia" }, { "name": "Cameroon" }, { "name": "Canada" }, { "name": "Cabo Verde" }, { "name": "Cayman Islands" }, { "name": "Central African Republic" }, { "name": "Chad" }, { "name": "Chile" }, { "name": "China" }, { "name": "Christmas Island" }, { "name": "Cocos (Keeling) Islands" }, { "name": "Colombia" }, { "name": "Comoros" }, { "name": "Congo" }, { "name": "Congo (Democratic Republic of the)" }, { "name": "Cook Islands" }, { "name": "Costa Rica" }, { "name": "Croatia" }, { "name": "Cuba" }, { "name": "Curaao" }, { "name": "Cyprus" }, { "name": "Czech Republic" }, { "name": "Denmark" }, { "name": "Djibouti" }, { "name": "Dominica" }, { "name": "Dominican Republic" }, { "name": "Ecuador" }, { "name": "Egypt" }, { "name": "El Salvador" }, { "name": "Equatorial Guinea" }, { "name": "Eritrea" }, { "name": "Estonia" }, { "name": "Ethiopia" }, { "name": "Falkland Islands (Malvinas)" }, { "name": "Faroe Islands" }, { "name": "Fiji" }, { "name": "Finland" }, { "name": "France" }, { "name": "French Guiana" }, { "name": "French Polynesia" }, { "name": "French Southern Territories" }, { "name": "Gabon" }, { "name": "Gambia" }, { "name": "Georgia" }, { "name": "Germany" }, { "name": "Ghana" }, { "name": "Gibraltar" }, { "name": "Greece" }, { "name": "Greenland" }, { "name": "Grenada" }, { "name": "Guadeloupe" }, { "name": "Guam" }, { "name": "Guatemala" }, { "name": "Guernsey" }, { "name": "Guinea" }, { "name": "Guinea-Bissau" }, { "name": "Guyana" }, { "name": "Haiti" }, { "name": "Heard Island and McDonald Islands" }, { "name": "Holy See" }, { "name": "Honduras" }, { "name": "Hong Kong" }, { "name": "Hungary" }, { "name": "Iceland" }, { "name": "India" }, { "name": "Indonesia" }, { "name": "Cte d'Ivoire" }, { "name": "Iran (Islamic Republic of)" }, { "name": "Iraq" }, { "name": "Ireland" }, { "name": "Isle of Man" }, { "name": "Israel" }, { "name": "Italy" }, { "name": "Jamaica" }, { "name": "Japan" }, { "name": "Jersey" }, { "name": "Jordan" }, { "name": "Kazakhstan" }, { "name": "Kenya" }, { "name": "Kiribati" }, { "name": "Kuwait" }, { "name": "Kyrgyzstan" }, { "name": "Lao People's Democratic Republic" }, { "name": "Latvia" }, { "name": "Lebanon" }, { "name": "Lesotho" }, { "name": "Liberia" }, { "name": "Libya" }, { "name": "Liechtenstein" }, { "name": "Lithuania" }, { "name": "Luxembourg" }, { "name": "Macao" }, { "name": "Macedonia (the former Yugoslav Republic of)" }, { "name": "Madagascar" }, { "name": "Malawi" }, { "name": "Malaysia" }, { "name": "Maldives" }, { "name": "Mali" }, { "name": "Malta" }, { "name": "Marshall Islands" }, { "name": "Martinique" }, { "name": "Mauritania" }, { "name": "Mauritius" }, { "name": "Mayotte" }, { "name": "Mexico" }, { "name": "Micronesia (Federated States of)" }, { "name": "Moldova (Republic of)" }, { "name": "Monaco" }, { "name": "Mongolia" }, { "name": "Montenegro" }, { "name": "Montserrat" }, { "name": "Morocco" }, { "name": "Mozambique" }, { "name": "Myanmar" }, { "name": "Namibia" }, { "name": "Nauru" }, { "name": "Nepal" }, { "name": "Netherlands" }, { "name": "New Caledonia" }, { "name": "New Zealand" }, { "name": "Nicaragua" }, { "name": "Niger" }, { "name": "Nigeria" }, { "name": "Niue" }, { "name": "Norfolk Island" }, { "name": "Korea (Democratic People's Republic of)" }, { "name": "Northern Mariana Islands" }, { "name": "Norway" }, { "name": "Oman" }, { "name": "Pakistan" }, { "name": "Palau" }, { "name": "Palestine, State of" }, { "name": "Panama" }, { "name": "Papua New Guinea" }, { "name": "Paraguay" }, { "name": "Peru" }, { "name": "Philippines" }, { "name": "Pitcairn" }, { "name": "Poland" }, { "name": "Portugal" }, { "name": "Puerto Rico" }, { "name": "Qatar" }, { "name": "Republic of Kosovo" }, { "name": "Runion" }, { "name": "Romania" }, { "name": "Russian Federation" }, { "name": "Rwanda" }, { "name": "Saint Barthlemy" }, { "name": "Saint Helena, Ascension and Tristan da Cunha" }, { "name": "Saint Kitts and Nevis" }, { "name": "Saint Lucia" }, { "name": "Saint Martin (French part)" }, { "name": "Saint Pierre and Miquelon" }, { "name": "Saint Vincent and the Grenadines" }, { "name": "Samoa" }, { "name": "San Marino" }, { "name": "Sao Tome and Principe" }, { "name": "Saudi Arabia" }, { "name": "Senegal" }, { "name": "Serbia" }, { "name": "Seychelles" }, { "name": "Sierra Leone" }, { "name": "Singapore" }, { "name": "Sint Maarten (Dutch part)" }, { "name": "Slovakia" }, { "name": "Slovenia" }, { "name": "Solomon Islands" }, { "name": "Somalia" }, { "name": "South Africa" }, { "name": "South Georgia and the South Sandwich Islands" }, { "name": "Korea (Republic of)" }, { "name": "South Sudan" }, { "name": "Spain" }, { "name": "Sri Lanka" }, { "name": "Sudan" }, { "name": "Suriname" }, { "name": "Svalbard and Jan Mayen" }, { "name": "Swaziland" }, { "name": "Sweden" }, { "name": "Switzerland" }, { "name": "Syrian Arab Republic" }, { "name": "Taiwan" }, { "name": "Tajikistan" }, { "name": "Tanzania, United Republic of" }, { "name": "Thailand" }, { "name": "Timor-Leste" }, { "name": "Togo" }, { "name": "Tokelau" }, { "name": "Tonga" }, { "name": "Trinidad and Tobago" }, { "name": "Tunisia" }, { "name": "Turkey" }, { "name": "Turkmenistan" }, { "name": "Turks and Caicos Islands" }, { "name": "Tuvalu" }, { "name": "Uganda" }, { "name": "Ukraine" }, { "name": "United Arab Emirates" }, { "name": "United Kingdom of Great Britain and Northern Ireland" }, { "name": "United States of America" }, { "name": "Uruguay" }, { "name": "Uzbekistan" }, { "name": "Vanuatu" }, { "name": "Venezuela (Bolivarian Republic of)" }, { "name": "Viet Nam" }, { "name": "Wallis and Futuna" }, { "name": "Western Sahara" }, { "name": "Yemen" }, { "name": "Zambia" }, { "name": "Zimbabwe" }];
        this.register_form = new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormGroup"]({
            user_name: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^[a-zA-Z]*$/)]),
            password: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].minLength(6), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].maxLength(10)]),
            confirm_password: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].minLength(6), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].maxLength(10)]),
            name: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^[a-zA-Z]*$/)]),
            email: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(this.EMAIL_REGEX)]),
            contact: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].minLength(10), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].maxLength(13)]),
            address: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].minLength(5), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].maxLength(50)]),
            country: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required]),
            gmail: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required, __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(/^\S*$/), __WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].pattern(this.EMAIL_REGEX)]),
            languages: new __WEBPACK_IMPORTED_MODULE_8__angular_forms__["FormControl"]("", [__WEBPACK_IMPORTED_MODULE_8__angular_forms__["Validators"].required])
        });
    }
    RegisterPage.prototype.user_register = function (formData) {
        var _this = this;
        this.Notifications.presentLoader();
        if (!formData.valid) {
            this.register_form.get('user_name').markAsDirty();
            this.register_form.get('password').markAsDirty();
            this.register_form.get('confirm_password').markAsDirty();
            this.register_form.get('name').markAsDirty();
            this.register_form.get('email').markAsDirty();
            this.register_form.get('contact').markAsDirty();
            this.register_form.get('address').markAsDirty();
            this.register_form.get('gmail').markAsDirty();
            this.register_form.get('languages').markAsDirty();
            this.Notifications.dismissLoader();
        }
        else {
            var password = this.register_form.controls["password"].value;
            var confirm_password = this.register_form.controls["confirm_password"].value;
            console.log("Password :" + password + " && confirm_password :" + confirm_password);
            this.register = {
                user_name: this.register_form.controls["user_name"].value,
                password: this.register_form.controls["password"].value,
                confirm_password: this.register_form.controls["confirm_password"].value,
                name: this.register_form.controls["name"].value,
                email: this.register_form.controls["email"].value,
                contact: this.register_form.controls["contact"].value,
                address: this.register_form.controls["address"].value,
                country: this.register_form.controls["country"].value,
                gmail: this.register_form.controls["gmail"].value,
                languages: this.register_form.controls["languages"].value
            };
            console.log("Register Form :" + JSON.stringify(this.register));
            if (password == confirm_password) {
                this.auth.register(this.register)
                    .then(function (data) {
                    console.log("Register Response Data :" + JSON.stringify(data));
                    if (data.main_success) {
                        _this.Notifications.dismissLoader();
                        _this.Notifications.presentToast("Registered successfully");
                        _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_7__login_login2_login2__["a" /* Login2Page */]);
                        if (_this.image_data != undefined) {
                            var options_1 = {
                                fileKey: 'file',
                                fileName: 'file.jpg',
                                mimeType: "multipart/form-data",
                                params: { 'fileName': 'file.jpg', 'org_user_id': data.org_user_id, 'org_id': data.org_id }
                            };
                            _this.Notifications.setToastFile('Uploading Profile Picture');
                            _this.fileTransfer.onProgress(function (progressEvent) {
                                if (progressEvent.lengthComputable) {
                                    var progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);
                                    console.log("Uploading Profile Picture :" + progress);
                                    _this.Notifications.setToastFile('Uploading Profile Picture (' + progress + '%)');
                                    _this._ngZone.run(function () { });
                                }
                            });
                            _this._ngZone.run(function () {
                                _this.uploadImage(options_1);
                            });
                        }
                        else {
                            console.log("No Image Dismiss Loader !!!");
                        }
                    }
                    else if (!data.main_success) {
                        _this.Notifications.dismissLoader();
                        _this.Notifications.presentToast(data.main_message);
                    }
                });
            }
            else {
                this.Notifications.dismissLoader();
                this.Notifications.presentToast('Password not match');
            }
        }
    };
    RegisterPage.prototype.remove_image = function () {
        this.image_data = "";
        console.log("Image Data :" + this.image_data);
    };
    RegisterPage.prototype.showPassword_1 = function () {
        this.showPass1 = !this.showPass1;
        if (this.showPass1) {
            this.type1 = 'text';
            this.password_eye = "ios-eye-outline";
        }
        else {
            this.type1 = 'password';
            this.password_eye = "ios-eye-off-outline";
        }
    };
    RegisterPage.prototype.showPassword_2 = function () {
        this.showPass2 = !this.showPass2;
        if (this.showPass2) {
            this.type2 = 'text';
            this.confirm_password_eye = "ios-eye-outline";
        }
        else {
            this.type2 = 'password';
            this.confirm_password_eye = "ios-eye-off-outline";
        }
    };
    RegisterPage.prototype.uploadImage = function (options) {
        var _this = this;
        this.fileTransfer.upload(this.image_data, __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url + 'auth/uploads', options)
            .then(function (data) {
            console.log("Upload Response :" + JSON.stringify(data));
            _this.Notifications.setToastFile('Uploaded Successfully');
            _this.Notifications.dismissToaster();
        }, function (err) {
            console.log("Upload Error :" + JSON.stringify(err));
            _this.Notifications.setToastFile('Uploading Failed');
            alert('Failed');
            _this.Notifications.dismissToaster();
        });
    };
    RegisterPage.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: [
                {
                    text: 'Camera',
                    role: 'destructive',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                    }
                }, {
                    text: 'Gallery',
                    handler: function () {
                        _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY));
                    }
                }, {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    RegisterPage.prototype.captureImage = function (camera_options) {
        var _this = this;
        this.camera.getPicture(camera_options).then(function (imageData) {
            _this.image_data = imageData;
            // this.upload(imageData);
        }, function (err) {
            alert(err);
        });
    };
    RegisterPage.prototype.options = function (source_type) {
        var camera_options = {
            quality: 75,
            destinationType: this.camera.DestinationType.FILE_URI,
            sourceType: source_type,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.PICTURE,
            allowEdit: true,
            correctOrientation: true,
            targetWidth: 500,
            targetHeight: 500
        };
        return camera_options;
    };
    RegisterPage.prototype.upload = function (imageData) {
        var options = {
            fileKey: 'file',
            fileName: 'name.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'name.jpg' }
        };
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url + 'auth/uploads', options)
            .then(function (data) {
            alert('success');
        }, function (err) {
            alert(err);
        });
    };
    RegisterPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-register',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/register/register.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Register\n    </ion-title>\n    <ion-buttons right>\n      <!-- <button ion-button (click)="Register()" clear>Done</button> -->\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n  <div class="logo" (click)=presentActionSheet() *ngIf="!image_data">\n    <img src="assets/img/track_my_document.png"/>\n    <p>Click on the Image to Update Profile</p>\n  </div>\n  <div class="logo" *ngIf="image_data"> <!-- *ngIf="image_data" -->\n    <img [src]="image_data"/> <!-- [src]="image_data" -->\n    <ion-icon (click)="remove_image()" name="close-circle" class="img_close"></ion-icon>\n    <p>{{image_data}}</p>\n  </div>\n  <form [formGroup]="register_form">\n    <ion-item>\n      <ion-input type="text" formControlName="user_name" placeholder="Username*" ></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.user_name.value==\'\' && !register_form.controls.user_name.valid && register_form.controls.user_name.dirty" class="form_err" no-lines>\n      User Name is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.user_name.errors?.pattern" class="form_err" no-lines>\n      User Name is invalid, no spaces allowed.\n    </ion-item>\n    <ion-grid>\n      <ion-row>\n        <ion-col col-12 class="coll-12-cstm">\n          <ion-item class="padd_left">\n            <ion-input type="{{type1}}" formControlName="password" placeholder="Password*"></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-1 class="coll-1-cstm">\n          <button ion-button color="light" (click)="showPassword_1()" class="eye_button"><ion-icon name="{{password_eye}}"></ion-icon></button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-item *ngIf="register_form.controls.password.value==\'\' && !register_form.controls.password.valid && register_form.controls.password.dirty" class="form_err" no-lines>\n      Password is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'password\'].hasError(\'minlength\')" class="form_err" no-lines>\n      Password must be atleast 6 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'password\'].hasError(\'maxlength\')" class="form_err" no-lines>\n      Password can not exceed more then 10 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.password.errors?.pattern" class="form_err">\n      Password is invalid, no spaces allowed.\n    </ion-item>\n\n    <ion-grid>\n      <ion-row>\n        <ion-col col-12 class="coll-12-cstm">\n          <ion-item class="padd_left">\n            <ion-input type="{{type2}}" formControlName="confirm_password" minlength="6" maxlength="10" placeholder="Confirm Password*" ></ion-input>\n          </ion-item>\n        </ion-col>\n        <ion-col col-1 class="coll-1-cstm">\n          <button class="eye_button" ion-button color="light" (click)="showPassword_2()"><ion-icon name="{{confirm_password_eye}}"></ion-icon></button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-item *ngIf="register_form.controls.confirm_password.value==\'\' && !register_form.controls.confirm_password.valid && register_form.controls.confirm_password.dirty" class="form_err" no-lines>\n      Confirm Password is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'confirm_password\'].hasError(\'minlength\')" class="form_err" no-lines>\n      Confirm Password must be atleast 6 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'confirm_password\'].hasError(\'maxlength\')" class="form_err" no-lines>\n      Confirm Password can not exceed more then 10 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.confirm_password.errors?.pattern" class="form_err" no-lines>\n      Confirm password is invalid, no spaces allowed.\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="text" formControlName="name" placeholder="Name*" ></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.name.value==\'\' && !register_form.controls.name.valid && register_form.controls.name.dirty" class="form_err" no-lines>\n      Name is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.name.errors?.pattern" class="form_err" no-lines>\n      Name is invalid, only text are allowed and no spaces allowed.\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="email" formControlName="email" placeholder="Email*"></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.email.value==\'\' && !register_form.controls.email.valid && register_form.controls.email.dirty" class="form_err" no-lines>\n      Email is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.email.errors?.pattern" class="form_err" no-lines>\n      Email is invalid, no spaces allowed and email format should be correct.\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="number" formControlName="contact" placeholder="Phone*" minlength="10" maxlength="13"></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.contact.value==\'\' && !register_form.controls.contact.valid && register_form.controls.contact.dirty" class="form_err" no-lines>\n      Name is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'contact\'].hasError(\'minlength\')" class="form_err" no-lines>\n      Contact must be atleast 10 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'contact\'].hasError(\'maxlength\')" class="form_err" no-lines>\n      Contact can not exceed more then 13 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.contact.errors?.pattern" class="form_err" no-lines>\n      Contact is invalid, no spaces allowed.\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="text" formControlName="address" placeholder="Address*" minlength="5" maxlength="50"></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.address.value==\'\' && !register_form.controls.address.valid && register_form.controls.address.dirty" class="form_err" no-lines>\n      Address is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'address\'].hasError(\'minlength\')" class="form_err" no-lines>\n      Address must be atleast 5 characters\n    </ion-item>\n    <ion-item *ngIf="register_form.controls[\'address\'].hasError(\'maxlength\')" class="form_err" no-lines>\n      Address can not exceed more then 50 characters\n    </ion-item>\n\n    <ion-item class="pd-bt-10">\n      <ion-label>Country*</ion-label>\n      <ion-select formControlName="country">\n        <ion-option *ngFor="let country of countryList" value="{{country.name}}" >{{country.name}}</ion-option>\n      </ion-select>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.country.value==\'\' && !register_form.controls.country.valid && register_form.controls.country.dirty" class="form_err" no-lines>\n      Country is required.\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="text" formControlName="gmail" placeholder="Google Account"></ion-input>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.gmail.value==\'\' && !register_form.controls.gmail.valid && register_form.controls.gmail.dirty" class="form_err" no-lines>\n      Gmail is required.\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.gmail.errors?.pattern" class="form_err" no-lines>\n      Gmail is invalid, no spaces allowed and email format should be correct.\n    </ion-item>\n\n    <ion-item class="pd-bt-10" >\n      <ion-label>Language*</ion-label>\n      <ion-select formControlName="languages">\n        <ion-option *ngFor="let lg of languages" value="{{lg.id}}" >{{lg.name}}</ion-option>\n      </ion-select>\n    </ion-item>\n    <ion-item *ngIf="register_form.controls.languages.value==\'\' && !register_form.controls.languages.valid && register_form.controls.languages.dirty" class="form_err" no-lines>\n      Languages is required.\n    </ion-item>\n\n    <button type="button" class="custom-button" ion-button block (click)="user_register(register_form)">Submit</button>\n  </form>\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/register/register.html"*/,
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_11__ionic_native_camera__["a" /* Camera */],
                __WEBPACK_IMPORTED_MODULE_12__ionic_native_transfer__["a" /* Transfer */],
                __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_11__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_12__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_validation_helper__["a" /* ValidationHelper */],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_10__angular_http__["b" /* Http */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["LoadingController"]])
    ], RegisterPage);
    return RegisterPage;
}());

//# sourceMappingURL=register.js.map

/***/ }),

/***/ 246:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Step1Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__step2_step2__ = __webpack_require__(538);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var Step1Page = (function () {
    function Step1Page(authService, globalVars, navCtrl, Notifications, Session) {
        this.authService = authService;
        this.globalVars = globalVars;
        this.navCtrl = navCtrl;
        this.Notifications = Notifications;
        this.Session = Session;
        this.step2 = __WEBPACK_IMPORTED_MODULE_6__step2_step2__["a" /* Step2Page */];
        this.credentials = { username: '', password: '' };
    }
    Step1Page.prototype.next = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.authService.login(this.credentials)
            .then(function (data) {
            _this.response = data;
            _this.Notifications.dismissLoader();
            if (_this.response.status) {
                _this.Session.setToken(_this.response.token);
                _this.Session.setUser(_this.response.current_user);
                _this.Session.setLastUser(_this.response.current_user);
                _this.navCtrl.push(_this.step2, { go_to: 'login' });
            }
            else {
                _this.Notifications.presentToast(_this.response.message);
            }
        });
    };
    Step1Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-step1',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/pin/step1/step1.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      STEP 1\n    </ion-title>   <ion-buttons right>\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n\n  <div class="logo">\n      <img src="assets/img/email_logo_image.png">\n  </div>\n  \n  <ion-list>\n    \n    <ion-item>\n      <ion-input type="text" name="username" [(ngModel)]="credentials.username" required placeholder="Username"></ion-input>\n    </ion-item>\n\n    <ion-item>\n      <ion-input type="password" name="password" [(ngModel)]="credentials.password" required placeholder="Password"></ion-input>\n    </ion-item>\n  \n  </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/pin/step1/step1.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]])
    ], Step1Page);
    return Step1Page;
}());

//# sourceMappingURL=step1.js.map

/***/ }),

/***/ 258:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 258;

/***/ }),

/***/ 3:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationsHelper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var NotificationsHelper = (function () {
    function NotificationsHelper(toastCtrl, loadingCtrl, alertCtrl) {
        this.toastCtrl = toastCtrl;
        this.loadingCtrl = loadingCtrl;
        this.alertCtrl = alertCtrl;
    }
    NotificationsHelper.prototype.presentToast = function (message, duration, myClass) {
        if (duration === void 0) { duration = 3000; }
        if (myClass === void 0) { myClass = 'my-toaster'; }
        var toast = this.toastCtrl.create({
            message: message,
            duration: 3000,
            cssClass: myClass
        });
        toast.present();
    };
    NotificationsHelper.prototype.uploadingToast = function (message) {
        this.toaster = this.toastCtrl.create({
            message: message
        });
        this.toaster.present();
    };
    NotificationsHelper.prototype.dismissToaster = function () {
        this.toaster.dismiss();
    };
    NotificationsHelper.prototype.setToasterContent = function (u, f, t, p) {
        if (p === void 0) { p = 0; }
        var done = u + "(" + p + "%)" + "/" + t + (u > 1 ? " Files" : " File") + " Uploaded Successfully";
        var failed = f > 0 ? " " + f + (f > 1 ? " Files Failed." : " File Failed.") : "";
        var nd = u > 0 && f > 0 ? " & " : "";
        this.toaster.data.message = done + nd + failed;
    };
    NotificationsHelper.prototype.setToastFile = function (m) {
        this.toaster.data.message = m;
    };
    NotificationsHelper.prototype.presentLoader = function (message) {
        if (message === void 0) { message = "Please wait..."; }
        this.loading = this.loadingCtrl.create({
            content: message
        });
        this.loading.present();
    };
    NotificationsHelper.prototype.customLoader = function (message) {
        if (message === void 0) { message = "Please wait..."; }
        this.loading = this.loadingCtrl.create({
            spinner: 'hide',
            content: "<div>0%</div>"
        });
        this.loading.present();
    };
    NotificationsHelper.prototype.setLoader = function (s) {
        this.loading.data.content = "<div>" + s + "</div>";
    };
    NotificationsHelper.prototype.showAlert = function (title, message) {
        var alert = this.alertCtrl.create({
            title: title,
            subTitle: message,
            buttons: ['OK']
        });
        alert.present();
    };
    NotificationsHelper.prototype.removeCondition = function (index, conditions) {
        if (index > -1) {
            var alert_1 = this.alertCtrl.create({
                title: 'Remove condition',
                message: 'Do you want to remove this condition?',
                buttons: [
                    {
                        text: 'Cancel',
                        role: 'cancel',
                        handler: function () {
                            console.log('Cancel clicked');
                        }
                    },
                    {
                        text: 'Ok',
                        handler: function () {
                            return conditions.splice(index, 1);
                        }
                    }
                ]
            });
            alert_1.present();
        }
    };
    NotificationsHelper.prototype.dismissLoader = function () {
        this.loading.dismiss();
    };
    NotificationsHelper = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ToastController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["LoadingController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"]])
    ], NotificationsHelper);
    return NotificationsHelper;
}());

//# sourceMappingURL=notifications.helper.js.map

/***/ }),

/***/ 301:
/***/ (function(module, exports) {

function webpackEmptyAsyncContext(req) {
	// Here Promise.resolve().then() is used instead of new Promise() to prevent
	// uncatched exception popping up in devtools
	return Promise.resolve().then(function() {
		throw new Error("Cannot find module '" + req + "'.");
	});
}
webpackEmptyAsyncContext.keys = function() { return []; };
webpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;
module.exports = webpackEmptyAsyncContext;
webpackEmptyAsyncContext.id = 301;

/***/ }),

/***/ 33:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsListView; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_photo_viewer__ = __webpack_require__(472);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__ = __webpack_require__(473);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__documents_create_uploading_uploading__ = __webpack_require__(196);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__links_agenda_agenda__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__links_contact_external_contact_external__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__links_infrastructure_infrastructure__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__links_contact_internal_contact_internal__ = __webpack_require__(134);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__links_equipments_equipments__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__links_documents_documents__ = __webpack_require__(142);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














//Components imported for linking






var DocumentsListView = (function () {
    function DocumentsListView(actionSheetCtrl, params, _ngZone, alertCtrl, DocumentService, Notifications, navCtrl, photoViewer, fns, session, transfer, file, platform, events, socialSharing) {
        this.actionSheetCtrl = actionSheetCtrl;
        this.params = params;
        this._ngZone = _ngZone;
        this.alertCtrl = alertCtrl;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.navCtrl = navCtrl;
        this.photoViewer = photoViewer;
        this.fns = fns;
        this.session = session;
        this.transfer = transfer;
        this.file = file;
        this.platform = platform;
        this.events = events;
        this.socialSharing = socialSharing;
        this.data = {};
        this.rename = { cat: {}, subcat: {} };
        this.is_renamed = false;
        this.is_loading = false;
        this.is_downloading = false;
        this.is_hold = false;
        this.reload = false;
        this.show_selected = false;
        this.can_read = false;
        this.can_update = false;
        this.can_download = false;
        this.can_share = false;
        this.loader_value = '0%';
        this.downloaded = '0%';
        this.view = 'normal';
        this.progress = "30";
        this.document_id = this.params.get('id');
        this.selected_org_id = this.params.get('org_id');
        this.current_user = this.session.getUser();
        this.loadVars();
        // this.loadPermissions(); // need to work
        var self = this;
        events.subscribe('back:clicked', function () {
            self.getDocument();
        });
    }
    DocumentsListView.prototype.ngOnInit = function () {
        this.getDocument();
    };
    DocumentsListView.prototype.loadVars = function () {
        this.rename = { cat: {}, subcat: {} };
        this.selectedFiles = {};
        this.is_hold = false;
        this.show_selected = false;
    };
    DocumentsListView.prototype.selectFiles = function () {
        this.is_hold = true;
    };
    DocumentsListView.prototype.goToInfo = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], this.params.data);
    };
    DocumentsListView.prototype.have_data = function (glue, type) {
        if (type == 'cat') {
            return this.data.cat_attrs_files[glue].length > 0;
        }
        else if (type == 'subcat') {
            return this.data.sub_cat_attrs_files[glue].length > 0;
        }
    };
    DocumentsListView.prototype.setLoader = function (val) {
        this.loader_value = val;
    };
    DocumentsListView.prototype.reloadMe = function () {
        this.getDocument();
    };
    DocumentsListView.prototype.shareDocuments = function () {
        var _this = this;
        var cat_files = [];
        Object.keys(this.selectedFiles['cat']).forEach(function (ck) {
            console.log(_this.selectedFiles['cat'][ck]);
            Object.keys(_this.selectedFiles['cat'][ck]).forEach(function (d, ind) {
                if (d) {
                    var file = _this.data.cat_files[ck][ind];
                    var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + file.name + '&token=' + _this.session.getToken() + '&type=documents&org_id=' + _this.selected_org_id;
                    cat_files.push(url);
                }
            });
        });
        var sub_cat_files = [];
        Object.keys(this.selectedFiles['subcat']).forEach(function (ck) {
            Object.keys(_this.selectedFiles['subcat'][ck]).forEach(function (d, ind) {
                if (d) {
                    var file = _this.data.sub_cat_files[ck][ind];
                    var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + file.name + '&token=' + _this.session.getToken() + '&type=documents&org_id=' + _this.selected_org_id;
                    sub_cat_files.push(url);
                }
            });
        });
        var urls = cat_files.concat(sub_cat_files);
        this.Notifications.presentLoader();
        this.socialSharing.share('VelvetFM', 'VelvetFM Document Transfer', urls, '').then(function () {
            _this.Notifications.dismissLoader();
            _this.getDocument();
        }).catch(function () {
            _this.Notifications.dismissLoader();
        });
    };
    DocumentsListView.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocument();
            refresher.complete();
        }, 2000);
    };
    DocumentsListView.prototype.getDocument = function () {
        var _this = this;
        this.loadVars();
        this.Notifications.presentLoader();
        this.DocumentService.getDocument(this.document_id, this.selected_org_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.reload = false;
            if (data.error == undefined) {
                _this.document = data;
                _this.data = data;
                console.log("Document Res:", _this.data);
                // this.catFiles = Object.keys(data.cat_files);
                _this.catFiles = Object.keys(data.cat_files).filter(function (key) {
                    return data.cat_files[key].length > 0;
                });
                _this.selectedFiles['cat'] = {};
                Object.keys(data.cat_files).forEach(function (ck) {
                    _this.selectedFiles['cat'][ck] = {};
                    data.cat_files[ck].forEach(function (d, ind) {
                        _this.selectedFiles['cat'][ck][ind] = false;
                    });
                });
                _this.selectedFiles['subcat'] = {};
                Object.keys(data.sub_cat_files).forEach(function (sck) {
                    _this.selectedFiles['subcat'][sck] = {};
                    data.sub_cat_files[sck].forEach(function (d, ind) {
                        _this.selectedFiles['subcat'][sck][ind] = false;
                    });
                });
                // this.subFiles = Object.keys(data.sub_cat_files);
                _this.subFiles = Object.keys(data.sub_cat_files).filter(function (key) {
                    return data.sub_cat_files[key].length > 0;
                });
                // console.log(this.selectedFiles);
                _this.show_selected = true;
            }
            else {
                _this.reload = true;
                _this.Notifications.presentToast('Timeout error');
            }
        });
    };
    DocumentsListView.prototype.openDoc = function (obj, ck, ind, type) {
        var _this = this;
        if (obj != undefined && !this.is_renamed) {
            if (this.is_hold) {
                var ccount = 0;
                this.selectedFiles[type][ck][ind] = !this.selectedFiles[type][ck][ind];
                Object.keys(this.data.cat_files).forEach(function (ck) {
                    _this.data.cat_files[ck].forEach(function (d, ind) {
                        if (_this.selectedFiles['cat'][ck][ind]) {
                            ccount++;
                        }
                    });
                });
                var scount = 0;
                Object.keys(this.data.sub_cat_files).forEach(function (sk) {
                    _this.data.sub_cat_files[sk].forEach(function (d, ind) {
                        if (_this.selectedFiles['subcat'][sk][ind]) {
                            scount++;
                        }
                    });
                });
                var count = ccount + scount;
                if (count == 0) {
                    this.is_hold = false;
                }
            }
            else {
                this.is_loading = true;
                var interval;
                var ext = obj.name.split('.')[1];
                var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].base_url + 'usr_files/' + obj.path + obj.name;
                var public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents';
                var target = '_blank';
                var options = 'location=no,clearsessioncache=yes,clearcache=yes';
                var res = {
                    url: url,
                    type: 'othr',
                    ext: '',
                    file_name: obj.name,
                    document_id: this.document_id,
                    request_type: 'view',
                    org_id: this.selected_org_id
                };
                var plt = '';
                if (this.platform.is('ios')) {
                    plt = 'ios';
                }
                else if (this.platform.is('android')) {
                    plt = 'android';
                }
                else {
                    plt = 'windows';
                }
                switch (ext) {
                    case 'jpg':
                    case 'png':
                    case 'jpeg':
                    case 'gif':
                    case 'bmp':
                        this.Notifications.dismissLoader();
                        this.is_loading = false;
                        public_url += "&org_id=" + this.selected_org_id;
                        console.log(public_url);
                        this.photoViewer.show(public_url);
                        break;
                    case 'pdf':
                        this.Notifications.dismissLoader();
                        this.is_loading = false;
                        public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url +
                            'documents/view_google_docs?url='
                            + url + '&token='
                            + this.session.getToken()
                            + '&platform=' + plt
                            + '&type=document';
                        console.log(public_url);
                        this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                        this.loader_value = '0%';
                        this.inAppBrowserRef.addEventListener('loadstart', function () {
                        });
                        this.inAppBrowserRef.addEventListener('loadstop', function () {
                        });
                        this.inAppBrowserRef.addEventListener('loaderror', function () {
                            _this.inAppBrowserRef.close();
                            _this.Notifications.presentToast('Please try again');
                        });
                        break;
                    case 'ppt':
                    case 'pptx':
                        res.ext = 'pptx';
                        var element_a = document.getElementsByTagName('body')[0];
                        element_a.className += 'stop-scroll';
                        interval = setInterval(function () {
                            _this.DocumentService.viewDocumentStep(res)
                                .then(function (data) {
                                if (data.message !== ' ') {
                                    _this.loader_value = data.message;
                                }
                            });
                        }, 2000);
                        this.DocumentService.viewDocument(res)
                            .then(function (data) {
                            clearInterval(interval);
                            _this.loader_value = '100%';
                            setTimeout(function () {
                                _this.stopLoader();
                                var public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url
                                    + 'documents/view_google_docs?url='
                                    + data.file_url + '&token='
                                    + _this.session.getToken()
                                    + '&platform='
                                    + plt
                                    + '&org_id=' + _this.selected_org_id
                                    + '&type=document';
                                _this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                                _this.loader_value = '0%';
                                _this.inAppBrowserRef.addEventListener('loadstart', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loadstop', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loaderror', function () {
                                    _this.inAppBrowserRef.close();
                                    _this.Notifications.presentToast('Please try again');
                                });
                            }, 2000);
                        });
                        break;
                    case 'xls':
                    case 'xlsx':
                        res.ext = 'xlsx';
                        var element_b = document.getElementsByTagName('body')[0];
                        element_b.className += 'stop-scroll';
                        interval = setInterval(function () {
                            _this.DocumentService.viewDocumentStep(res)
                                .then(function (data) {
                                if (data.message !== ' ') {
                                    _this.loader_value = data.message;
                                }
                            });
                        }, 1000);
                        this.DocumentService.viewDocument(res)
                            .then(function (data) {
                            clearInterval(interval);
                            _this.loader_value = "100%";
                            setTimeout(function () {
                                _this.stopLoader();
                                var public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url
                                    + 'documents/view_google_docs?url='
                                    + data.file_url + '&token='
                                    + _this.session.getToken()
                                    + '&platform=' + plt
                                    + '&org_id=' + _this.selected_org_id
                                    + '&type=document';
                                _this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                                _this.loader_value = '0%';
                                _this.inAppBrowserRef.addEventListener('loadstart', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loadstop', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loaderror', function () {
                                    alert('error');
                                    _this.inAppBrowserRef.close();
                                    _this.Notifications.presentToast('Please try again');
                                });
                            }, 2000);
                        });
                        break;
                    case 'doc':
                    case 'docx':
                        res.ext = 'docx';
                        var b = document.getElementsByTagName('body')[0];
                        b.className += 'stop-scroll';
                        interval = setInterval(function () {
                            _this.DocumentService.viewDocumentStep(res)
                                .then(function (data) {
                                if (data.message !== ' ') {
                                    _this.loader_value = data.message;
                                }
                            });
                        }, 1000);
                        this.DocumentService.viewDocument(res)
                            .then(function (data) {
                            clearInterval(interval);
                            _this.loader_value = "100%";
                            setTimeout(function () {
                                _this.stopLoader();
                                public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url
                                    + 'documents/view_google_docs?url='
                                    + data.file_url + '&token='
                                    + _this.session.getToken()
                                    + '&platform=' + plt
                                    + '&org_id=' + _this.selected_org_id
                                    + '&type=document';
                                _this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                                _this.loader_value = '0%';
                                _this.inAppBrowserRef.addEventListener('loadstart', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loadstop', function () {
                                });
                                _this.inAppBrowserRef.addEventListener('loaderror', function () {
                                    _this.inAppBrowserRef.close();
                                    _this.Notifications.presentToast('Please try again');
                                });
                            }, 2000);
                        });
                        break;
                    case 'mp4':
                    case '3gp':
                    case 'flv':
                    case 'avi':
                    case 'MOV':
                    case 'wmv':
                        options += ',zoom=no';
                        this.is_loading = false;
                        public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/view_google_docs?token=' + this.session.getToken() + '&platform=' + plt + '&url=' + url + '&type=video&fileName=' + obj.name + '&org_id=' + this.selected_org_id;
                        this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                        //this.navCtrl.push(Media, {url : public_url, type : 'video', file : obj} )
                        break;
                    case 'mp3':
                        this.is_loading = false;
                        public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/view_google_docs?token=' + this.session.getToken() + '&platform=' + plt + '&url=' + url + '&type=audio&fileName=' + obj.name + '&org_id=' + this.selected_org_id;
                        this.inAppBrowserRef = cordova.InAppBrowser.open(public_url, target, options);
                        //this.navCtrl.push(Media, {url : url, type : 'video', file : obj} )
                        break;
                    default:
                        this.is_loading = false;
                        this.Notifications.dismissLoader();
                        break;
                }
            }
        }
    };
    DocumentsListView.prototype.getExt = function (obj) {
        if (obj != undefined) {
            var ext = obj.name.split('.')[1];
            var public_url;
            switch (ext) {
                case 'pdf':
                    this.image = 'assets/img/new_pdf.png';
                    break;
                case 'ppt':
                case 'pptx':
                    this.image = 'assets/img/new_ppt.png';
                    break;
                case 'doc':
                case 'docx':
                    this.image = 'assets/img/new_word.png';
                    break;
                case 'xls':
                case 'xlsx':
                    this.image = 'assets/img/new_xls.png';
                    break;
                case 'mp3':
                    this.image = 'assets/img/new_mp3.png';
                    break;
                case 'zip':
                    this.image = 'assets/img/new_zip.png';
                    break;
                case 'mp4':
                case '3gp':
                case 'flv':
                case 'avi':
                case 'mov':
                case 'MOV':
                case 'wmv':
                    public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents&thumb=1&org_id=' + this.selected_org_id;
                    this.image = public_url;
                    break;
                case 'jpg':
                case 'png':
                case 'jpeg':
                case 'gif':
                case 'bmp':
                case 'jpg':
                    public_url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents&thumb=1&org_id=' + this.selected_org_id;
                    this.image = public_url;
                    break;
                default:
                    this.image = 'assets/img/new_txt.png';
                    break;
            }
        }
        return this.image;
    };
    DocumentsListView.prototype.stopLoader = function () {
        this.is_loading = false;
        var body = document.getElementsByTagName('body')[0];
        body.className = '';
    };
    DocumentsListView.prototype.loadPermissions = function () {
        if (this.selected_org_id) {
            if (parseInt(this.params.get('permission').can_read)) {
                this.can_read = true;
            }
            if (parseInt(this.params.get('permission').can_update)) {
                this.can_update = true;
            }
            if (parseInt(this.params.get('permission').can_download)) {
                this.can_download = true;
            }
            if (parseInt(this.params.get('permission').can_share)) {
                this.can_share = true;
            }
        }
        else {
            this.can_read = true;
            this.can_update = true;
            this.can_download = true;
            this.can_share = true;
        }
    };
    DocumentsListView.prototype.transferDoc = function (obj) {
        var _this = this;
        if (this.can_share) {
            var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents';
            this.Notifications.presentLoader();
            this.socialSharing.share('VelvetFM', 'VelvetFM Document Transfer', url, '').then(function () {
                _this.Notifications.dismissLoader();
            }).catch(function () {
                _this.Notifications.dismissLoader();
            });
        }
        else {
            this.Notifications.presentToast('You do not have permission to share the document', 4000, 'error-toaster');
        }
    };
    DocumentsListView.prototype.download = function (obj) {
        var _this = this;
        var fileTransfer = this.transfer.create();
        var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents';
        this.Notifications.presentLoader();
        fileTransfer.download(url, this.file.dataDirectory + obj.name).then(function (entry) {
            _this.socialSharing.share('VelvetFM', 'VelvetFM Document Transfer', entry.toURL(), '').then(function () {
                _this.Notifications.dismissLoader();
            }).catch(function () {
                _this.Notifications.dismissLoader();
            });
        }, function (error) {
            _this.Notifications.presentToast('error');
        });
    };
    DocumentsListView.prototype.downloadDoc = function (obj) {
        var _this = this;
        var fileTransfer = this.transfer.create();
        var url = __WEBPACK_IMPORTED_MODULE_10__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + obj.name + '&token=' + this.session.getToken() + '&type=documents';
        this.is_downloading = true;
        fileTransfer.onProgress(function (progressEvent) {
            if (progressEvent.lengthComputable) {
                var progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);
                _this.downloaded = progress + '%';
                _this._ngZone.run(function () { console.log('Outside Done!'); });
            }
        });
        fileTransfer.download(url, this.file.externalDataDirectory + obj.name).then(function (entry) {
            _this.is_downloading = false;
            _this.Notifications.presentToast('Downloaded Successfully : ' + _this.file.dataDirectory + obj.name);
            _this._ngZone.run(function () { console.log('Outside Done!'); });
        }, function (error) {
            _this.is_downloading = false;
            _this.Notifications.presentToast('Download Failed');
            _this._ngZone.run(function () { console.log('Outside Done!'); });
        });
    };
    DocumentsListView.prototype.goToList = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], {
            id: this.document_id
        });
    };
    DocumentsListView.prototype.deleteDocument = function () {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notifications.presentLoader();
                        _this.DocumentService.deleteFiles(_this.document_id, _this.selectedFiles, _this.selected_org_id)
                            .then(function (res) {
                            _this.Notifications.dismissLoader();
                            if (res.status) {
                                _this.Notifications.presentToast('Deleted Successfully');
                                _this.getDocument();
                            }
                            else {
                                _this.Notifications.presentToast(res.message);
                            }
                        }, function (err) {
                            _this.Notifications.dismissLoader();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    DocumentsListView.prototype.deleteFile = function (obj, file_id, type, indx) {
        var _this = this;
        this.show_selected = false;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notifications.presentLoader();
                        _this.DocumentService.deleteFile(_this.document_id, file_id, type, indx)
                            .then(function (res) {
                            _this.Notifications.dismissLoader();
                            if (res.status) {
                                _this.Notifications.presentToast('Deleted Successfully');
                                _this.getDocument();
                            }
                            else {
                                _this.Notifications.presentToast(res.message);
                            }
                        }, function (err) {
                            _this.Notifications.dismissLoader();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    DocumentsListView.prototype.renameFile = function (obj, file_id, type, indx) {
        var request_id = type == 'cat' ? obj.cat_id : obj.sub_cat_id;
        if (!this.rename[type][request_id]) {
            this.rename[type][request_id] = {};
        }
        this.rename[type][request_id][indx] = { value: true, name: obj.user_defined_name || obj.name };
        this.is_renamed = true;
        console.log(this.rename[type][request_id][indx]);
    };
    DocumentsListView.prototype.canRename = function (obj, indx, type) {
        var request_id = type == 'cat' ? obj.cat_id : obj.sub_cat_id;
        if (this.rename[type][request_id] && this.rename[type][request_id][indx]) {
            return this.rename[type][request_id][indx]['value'];
        }
        else {
            return false;
        }
    };
    DocumentsListView.prototype.renameFiles = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.renameFiles(this.rename, this.data.id)
            .then(function (res) {
            _this.Notifications.dismissLoader();
            if (res.status) {
                _this.Notifications.presentToast('Updated Successfully');
                _this.getDocument();
                _this.is_renamed = false;
            }
            else {
                _this.Notifications.presentToast(res.message);
            }
        }, function (err) {
            _this.Notifications.dismissLoader();
        });
    };
    DocumentsListView.prototype.getRenamedName = function (obj, indx) {
        if (this.rename['cat'][obj.cat_id] && this.rename['cat'][obj.cat_id][indx]) {
            return this.rename['cat'][obj.cat_id][indx]['name'];
        }
        else {
            return '';
        }
    };
    DocumentsListView.prototype.pressEvent = function (event, ck, i, type) {
        this.is_hold = true;
        this.selectedFiles[type][ck] = this.selectedFiles[type][ck] ? this.selectedFiles[type][ck] : {};
        this.selectedFiles[type][ck][i] = true;
    };
    DocumentsListView.prototype.presentActionSheet = function (obj, id, type, indx) {
        var _this = this;
        var options = [];
        // let not_viewable_exts = ['zip','apk','ipa','bat','rar'  ]
        var extension = this.getExtByPath(obj.name);
        if (extension !== 'zip') {
            options.push({
                text: 'View',
                handler: function () {
                    _this.openDoc(obj, id, indx, type);
                }
            });
        }
        if (!this.platform.is('ios')) {
            if (!this.selected_org_id) {
                options.push({
                    text: 'Download',
                    handler: function () {
                        _this.downloadDoc(obj);
                    }
                });
            }
            else {
                if (this.params.get('permission') && parseInt(this.params.get('permission').can_download)) {
                    options.push({
                        text: 'Download',
                        handler: function () {
                            _this.downloadDoc(obj);
                        }
                    });
                }
            }
        }
        if (!this.selected_org_id) {
            options.push({
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.deleteFile(obj, id, type, indx);
                }
            });
        }
        options.push({
            text: 'Rename',
            handler: function () {
                _this.renameFile(obj, id, type, indx);
            }
        });
        options = options.concat([{
                text: 'External Share',
                handler: function () {
                    _this.transferDoc(obj);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    DocumentsListView.prototype.loadStartCallBack = function () {
        this.Notifications.presentLoader();
    };
    DocumentsListView.prototype.loadStopCallBack = function () {
        this.Notifications.dismissLoader();
    };
    DocumentsListView.prototype.getExtByPath = function (n) {
        return n.split('.')[1];
    };
    DocumentsListView.prototype.check_type = function (n, type) {
        var ext = this.getExtByPath(n);
        var videoExt = ['mp4', 'mov', '3gp', 'flv'];
        if (videoExt.indexOf(ext) !== -1 && type == 'video') {
            return true;
        }
        else {
            return false;
        }
    };
    DocumentsListView.prototype.loadErrorCallBack = function (params) {
        this.Notifications.presentToast('Sorry we cannot open that page. Message from the server is : ' + params.message);
        this.inAppBrowserRef.close();
    };
    DocumentsListView.prototype.uploadActionSheet = function () {
        if (this.selected_org_id > 0) {
            if (parseInt(this.params.get('permission').can_update)) {
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__documents_create_uploading_uploading__["a" /* Uploading */], { attributes: { categories_attrs: this.data.categories_attrs, sub_categories_attrs: this.data.sub_categories_attrs },
                    category_id: this.data.category_id,
                    category_name: this.data.cat_name,
                    subcategory_name: this.data.sub_cat_name,
                    subcategory_id: this.data.subcategory_id,
                    designation: this.data.designation,
                    doc_id: this.data.id
                });
            }
            else {
                this.Notifications.presentToast('You do not have permission to upload the document', 4000, 'error-toaster');
            }
        }
        else {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__documents_create_uploading_uploading__["a" /* Uploading */], { attributes: { categories_attrs: this.data.categories_attrs, sub_categories_attrs: this.data.sub_categories_attrs },
                category_id: this.data.category_id,
                category_name: this.data.cat_name,
                subcategory_name: this.data.sub_cat_name,
                subcategory_id: this.data.subcategory_id,
                designation: this.data.designation,
                doc_id: this.data.id
            });
        }
    };
    DocumentsListView.prototype.ByteToMb = function (size) {
        return Math.round((size / 100000) * 10) / 10;
    };
    DocumentsListView.prototype.link = function (type) {
        switch (type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_18__links_documents_documents__["a" /* LinkedDocumentWithDocuments */], { document_id: this.document_id });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_13__links_agenda_agenda__["a" /* LinkedAgendaWithDocuments */], { document_id: this.document_id });
                break;
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_14__links_contact_external_contact_external__["a" /* LinkedContactExternalWithDocuments */], { document_id: this.document_id });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_16__links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithDocuments */], { document_id: this.document_id });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_15__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithDocuments */], { document_id: this.document_id });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_17__links_equipments_equipments__["a" /* LinkedEquipmentWithDocuments */], { document_id: this.document_id });
                break;
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])('progress'),
        __metadata("design:type", Object)
    ], DocumentsListView.prototype, "progress", void 0);
    DocumentsListView = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-list-documents-view',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list_view/documents_list_view.html"*/'<ion-header> \n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n        View\n    </ion-title>\n    <ion-buttons right >\n       \n       <button ion-button (click)=\'goToInfo();\' clear> \n          <ion-icon class="large" name="ios-list-box-outline"></ion-icon> \n        </button>\n       \n       <button ion-button *ngIf="!is_hold && can_update && !is_renamed"  (click)="selectFiles()" clear> \n        Select \n       </button>\n       \n       <button ion-button *ngIf="is_renamed" (click)="renameFiles()" clear>\n         Update \n       </button>\n       \n       <button ion-button *ngIf="is_hold && can_update && !is_renamed" (click)=\'deleteDocument();\' clear> \n          <ion-icon name="ios-trash-outline" color="danger"></ion-icon> \n       </button>\n       \n       <button ion-button *ngIf="is_hold && !selected_org_id && !is_renamed" (click)=\'shareDocuments();\' clear> \n          <ion-icon name="ios-share"></ion-icon> \n       </button>\n\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n\n  <ion-refresher (ionRefresh)="doRefresh($event)" *ngIf="!is_loading">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n \n <div class="segment-pad">\n  \n  <ion-segment [(ngModel)]="view">\n    <ion-segment-button value="normal">\n     <ion-icon name="list"></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button value="large">\n       <ion-icon name="keypad"></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n</div>\n\n<div [ngSwitch]="view">\n  \n <ion-list *ngIf="!reload">\n  <div *ngIf="catFiles?.length > 0">\n    <ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n     Category Files\n    </ion-list-header>\n    \n\n    <!-- selected files in List view in nested loop -->\n\n    <div *ngSwitchCase="\'normal\'">\n        \n        <ion-item  class="file-item" *ngFor="let ck of catFiles;" >\n         \n          <p>{{data.scategories_attrs[ck][\'name\']}}</p>  \n          \n          <ion-item  *ngFor="let cfk of data.cat_files[ck]; let i = index " \n                     (press)="pressEvent($event,ck,i, \'cat\')">\n            \n            <div class="file-div">\n               \n                <button class="document-btn" ion-button clear large \n                        (click)=\'openDoc(cfk, ck, i , "cat");\'>\n                  \n                    <ion-thumbnail item-start>\n                      \n                      <div class="default-img">\n                        \n                        <img [src]="getExt(cfk)" >\n                        \n                        <div class="{{is_hold ? \'sm-overlay\' : \'\'}}"></div>\n\n                        <div *ngIf="show_selected && selectedFiles[\'cat\'][ck][i]" \n                             class="sm-selected-file"> \n                             <img class="sm-check-file" src="assets/img/check.png" />\n                        </div>\n\n                      </div>\n\n                    </ion-thumbnail>\n\n                  <!-- <h2 *ngIf="!canRename(cfk, i, \'cat\')"> \n                    {{cfk.user_defined_name || cfk.name }}\n                  </h2> -->\n\n                  <p *ngIf="!canRename(cfk, i, \'cat\')">\n                    {{ (cfk.user_defined_name?.length>20)? (cfk.user_defined_name | slice:0:20)+\'...\':(cfk.user_defined_name) }}\n                  </p>\n                    \n                  <input type="text" \n                         class="text-input text-input-ios"\n                         [(ngModel)]="rename[\'cat\'][cfk.cat_id][i][\'name\']"\n                         *ngIf="canRename(cfk, i, \'cat\')" /> \n\n                </button>\n            </div>\n\n            <button ion-button (click)=\'presentActionSheet(cfk, cfk.cat_id , "cat", i);\' \n                    item-end clear \n                    style="width:30px"> \n                <ion-icon name="md-more" ></ion-icon>\n            </button>\n\n          </ion-item>\n\n      </ion-item>\n\n    </div>\n    \n    <!-- Grid selected files in nested loop -->\n\n    <div *ngSwitchCase="\'large\'">\n      <ion-item class="file-item" *ngFor="let ck of catFiles;" >\n          <div class="file-cat" >{{data.scategories_attrs[ck][\'name\']}}</div> \n          <ion-grid>\n            <ion-row>\n              <ion-col  col-4 col-md-3 col-lg-2 col-xl-2 *ngFor="let cfk of data.cat_files[ck]; let i = index " (press)="pressEvent($event,ck,i, \'cat\')" text-center> \n\n                  <div class="file-div">\n                    <div class="image-div">\n                      <button class="document-btn" ion-button clear large (click)=\'openDoc(cfk, ck, i, "cat");\' style=\n                      " height: auto;margin:0px" > \n                         <img class="large-img" src="{{getExt(cfk)}}">\n                         <div class="{{is_hold ? \'overlay\' : \'\'}}"></div>\n                          <div *ngIf="show_selected && selectedFiles[\'cat\'][ck][i]" class="selected-file"> <img class="check-file" src="assets/img/check.png" /></div>\n                      </button> \n                    </div>\n                    <div class="filename"> {{cfk.user_defined_name || cfk.name}} </div>\n                  </div>\n              </ion-col>\n            </ion-row> \n          </ion-grid>\n      </ion-item>\n    </div>\n\n  </div>\n </ion-list>\n  \n  <ion-list *ngIf="!reload">\n    \n    <div *ngIf="subFiles?.length > 0">\n      \n      <ion-list-header class="item item-ios list-header list-header-ios screen-header" > Sub Category Files </ion-list-header>\n      \n      <div *ngSwitchCase="\'normal\'">\n        \n        <ion-item class="file-item" *ngFor="let sk of subFiles;" >\n           \n            <p>{{data.ssub_categories_attrs[sk][\'name\']}}</p>  \n            \n            <ion-item  *ngFor="let sfk of data.sub_cat_files[sk]; let i = index ">\n               \n                <button class="document-btn" ion-button clear large (click)=\'openDoc(sfk, sk, i, "subcat");\'>\n                  \n                  <ion-thumbnail item-start>\n                    <img class="thumbnail-img" src="{{getExt(sfk)}}">\n                    <div class="{{is_hold ? \'sm-overlay\' : \'\'}}"></div>\n                    <div *ngIf="show_selected && selectedFiles[\'subcat\'][sk][i]" class="sm-selected-file"> \n                      <img class="sm-check-file" src="assets/img/check.png" />\n                    </div>\n                  </ion-thumbnail>\n\n                  <h2 *ngIf="!canRename(sfk, i, \'subcat\')"> \n                    {{sfk.user_defined_name || sfk.name }} \n                  </h2>\n                    \n                  <input type="text" \n                         class="text-input text-input-ios"\n                         [(ngModel)]="rename[\'subcat\'][sfk.sub_cat_id][i][\'name\']"\n                         *ngIf="canRename(sfk, i, \'subcat\')" />\n\n                </button>\n                \n                <button ion-button (click)=\'presentActionSheet(sfk, sfk.sub_cat_id , "subcat", i);\' \n                        item-end clear \n                        style="width:30px"> \n                        <ion-icon name="md-more" ></ion-icon>\n                </button>\n           \n            </ion-item>\n\n        </ion-item>\n\n      </div>\n\n      <div *ngSwitchCase="\'large\'">\n        <ion-item class="file-item" *ngFor="let sk of subFiles;" >\n           <div class="file-cat" >{{data.ssub_categories_attrs[sk][\'name\']}}</div>  \n            <ion-grid>\n              <ion-row>\n                <ion-col col-4 *ngFor="let sfk of data.sub_cat_files[sk]; let i = index " (press)="pressEvent($event, sk, i, \'subcat\')" text-center> \n                  <div class="file-div">\n                    <div class="image-div">\n                      <button class="document-btn auto-height" ion-button clear large (click)=\'openDoc(sfk, sk, i, "subcat");\' > \n                        <img class="large-img"  src="{{getExt(sfk)}}">\n                        <div class="{{is_hold ? \'overlay\' : \'\'}}"></div>\n                        <div *ngIf="show_selected && selectedFiles[\'subcat\'][sk][i]" class="selected-file"> <img class="check-file" src="assets/img/check.png" /></div>\n                      </button>\n                    </div>\n                    <div class="filename"> {{sfk.user_defined_name || sfk.name}} </div>\n                  </div>\n                </ion-col>\n              </ion-row> \n            </ion-grid>\n        </ion-item>\n      </div>\n\n    </div>\n  </ion-list>\n</div>\n\n  \n  <div class="modal" *ngIf="is_loading">\n    <div class="loader" >\n      <div class="outer-progress">\n        <div class="inner-progress" [style.width]="loader_value">\n          \n        </div>\n        <p><b>Processing..</b></p>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal" *ngIf="is_downloading">\n    <div class="loader" >\n      <div class="outer-progress">\n        <div class="inner-progress" [style.width]="downloaded">\n          \n        </div>\n        <p><b>Downloading..</b></p>\n      </div>\n    </div>\n  </div>\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning"></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n    <ion-grid class="grid-reload" *ngIf=" !reload && catFiles?.length <= 0 && subFiles?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad"></ion-icon><p>\n          <p>No Record Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n</ion-content>\n\n\n<ion-footer>\n  \n  <ion-segment color="light" *ngIf="current_user && !current_user.is_private && document">\n    \n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_documents_count)}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n\n    <ion-segment-button (click) = "link(\'contact_internal\')" value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_internal_count)}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n\n    <ion-segment-button (click) = "link(\'contact_external\')" value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n    <ion-segment-button (click) = "link(\'agenda\')" value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_tasks_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n    <ion-segment-button (click) = "link(\'equipment\')" value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_equipments_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="grid" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_infrastructure_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n  </ion-segment>\n\n  <ion-segment color="light" *ngIf="current_user && current_user.is_private && document">\n\n    <ion-segment-button (click) = "link(\'contact_external\')" value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    \n    <ion-segment-button (click) = "link(\'agenda\')" value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_tasks_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n  </ion-segment>\n\n   <ion-fab class="custom-ion-fab" right bottom >\n      <button class="add-btn" ion-fab *ngIf="can_update" (click)="uploadActionSheet()" >\n        <ion-icon class="add-icon" name="add"  ></ion-icon>\n      </button>\n   </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list_view/documents_list_view.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_6__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__["a" /* FileTransfer */],
                __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__["b" /* FileTransferObject */],
                __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__["a" /* File */],
                __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */],
                __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
                __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__["a" /* NotificationsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_photo_viewer__["a" /* PhotoViewer */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_file_transfer__["a" /* FileTransfer */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */]])
    ], DocumentsListView);
    return DocumentsListView;
}());

//# sourceMappingURL=documents_list_view.js.map

/***/ }),

/***/ 37:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsListInfo; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__links_agenda_agenda__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__links_contact_external_contact_external__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__links_infrastructure_infrastructure__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__links_contact_internal_contact_internal__ = __webpack_require__(134);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__links_equipments_equipments__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__links_documents_documents__ = __webpack_require__(142);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var DocumentsListInfo = (function () {
    function DocumentsListInfo(actionSheetCtrl, params, alertCtrl, navCtrl, session, fns, DocumentService, Notifications) {
        this.actionSheetCtrl = actionSheetCtrl;
        this.params = params;
        this.alertCtrl = alertCtrl;
        this.navCtrl = navCtrl;
        this.session = session;
        this.fns = fns;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.data = {};
        this.categories = [];
        this.subcategories = [];
        this.color = '#488aff';
        this.is_edit = false;
        this.is_requested = false;
        this.reload = false;
        this.document_id = this.params.get('id');
        this.current_user = this.session.getUser();
        this.selected_org_id = this.params.get('org_id');
        this.data.designation = this.setValue('', 'Designation', 'designation', true);
        this.data.category = this.setValue('', 'Category', 'category', true);
        this.data.subcategory = this.setValue('', 'Subcategory', 'subcategory', true);
    }
    DocumentsListInfo.prototype.ngOnInit = function () {
    };
    DocumentsListInfo.prototype.ionViewWillEnter = function () {
        this.getDocument();
    };
    DocumentsListInfo.prototype.getDocument = function () {
        var _this = this;
        this.data.categories = [];
        this.data.subcategories = [];
        this.data.tagKeys = [];
        this.Notifications.presentLoader();
        this.DocumentService.getDocument(this.document_id, this.selected_org_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.reload = false;
            _this.is_requested = true;
            if (data.error == undefined) {
                _this.document = data;
                _this.data.id = _this.document_id;
                _this.data.cat_id = data.cat_id;
                _this.data.sub_cat_id = data.sub_cat_id;
                _this.data.designation = _this.setValue(data.designation, 'Designation', 'designation', true);
                _this.data.category = _this.setValue(data.cat_name, 'Category', 'category', true);
                _this.data.subcategory = _this.setValue(data.sub_cat_name, 'Subcategory', 'subcategory', true);
                _this.data.tagKeys = Object.keys(data.tags);
                _this.data.tags = data.tags;
                _this.data.catKeys = Object.keys(data.cat_attrs_data);
                data.cat_attrs.forEach(function (ck) {
                    _this.data.categories.push({ value: data.cat_attrs_data[ck.id],
                        column: ck.name,
                        disabled: true,
                        id: ck.id,
                        type: ck.attr_type,
                        options: ck.options || []
                    });
                });
                data.sub_cat_attrs.forEach(function (sk) {
                    _this.data.subcategories.push({ value: data.sub_cat_attrs_data[sk.id],
                        column: sk.name,
                        disabled: true,
                        id: sk.id,
                        type: sk.attr_type,
                        options: sk.options || [],
                    });
                });
                _this.orignal_data = data;
                _this.orignal_data.designation = _this.setValue(data.designation, 'Designation', 'designation', true);
                _this.orignal_data.ntagKeys = Object.keys(data.tags);
            }
            else {
                _this.reload = true;
                _this.Notifications.presentToast('Timeout error');
            }
        });
    };
    DocumentsListInfo.prototype.reloadMe = function () {
        this.getDocument();
    };
    DocumentsListInfo.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocument();
            refresher.complete();
        }, 2000);
    };
    DocumentsListInfo.prototype.edit = function () {
        var _this = this;
        if (this.selected_org_id > 0) {
            if (parseInt(this.params.get('permission').can_update)) {
                this.is_edit = true;
                this.color = '#1ea209';
                this.data.designation.disabled = false;
                this.data.org_id = this.selected_org_id;
                this.data.category.disabled = false;
                this.data.subcategory.disabled = false;
                this.data.categories.forEach(function (c, i) {
                    _this.data.categories[i]['disabled'] = false;
                });
                this.data.subcategories.forEach(function (s, i) {
                    _this.data.subcategories[i]['disabled'] = false;
                });
            }
            else {
                this.Notifications.presentToast('You do not have permission to update the document');
            }
        }
        else {
            this.is_edit = true;
            this.color = '#1ea209';
            this.data.designation.disabled = false;
            this.data.category.disabled = false;
            this.data.subcategory.disabled = false;
            this.data.org_id = 0;
            this.data.categories.forEach(function (c, i) {
                _this.data.categories[i]['disabled'] = false;
            });
            this.data.subcategories.forEach(function (s, i) {
                _this.data.subcategories[i]['disabled'] = false;
            });
        }
    };
    DocumentsListInfo.prototype.cancelEdition = function () {
        var _this = this;
        this.is_edit = false;
        this.color = '#488aff';
        this.data.designation = this.orignal_data.designation;
        this.data.tagKeys = this.orignal_data.ntagKeys;
        this.data.tags = this.orignal_data.tags;
        this.data.categories = [];
        this.orignal_data.cat_attrs.forEach(function (ck) {
            _this.data.categories.push({ value: _this.orignal_data.cat_attrs_data[ck.id],
                column: ck.name,
                disabled: true,
                id: ck.id,
                type: ck.attr_type,
                options: ck.options || []
            });
        });
        this.data.subcategories = [];
        this.orignal_data.sub_cat_attrs.forEach(function (sk) {
            _this.data.subcategories.push({ value: _this.orignal_data.sub_cat_attrs_data[sk.id],
                column: sk.name,
                disabled: true,
                id: sk.id,
                type: sk.attr_type,
                options: sk.options || [],
            });
        });
    };
    DocumentsListInfo.prototype.update = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.update(this.data)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.is_edit = false;
            _this.color = '#488aff';
            _this.getDocument();
            if (data.status) {
                _this.Notifications.presentToast('Updated successfully');
            }
            else {
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    DocumentsListInfo.prototype.setValue = function (value, column, type, disabled) {
        return { value: value,
            column: column,
            disabled: disabled,
            type: type
        };
    };
    DocumentsListInfo.prototype.deleteTag = function (val, key) {
        this.data.tagKeys.splice(key, 1);
    };
    DocumentsListInfo.prototype.addTags = function () {
        var _this = this;
        this.is_edit = true;
        this.Notifications.presentLoader();
        var alert = this.alertCtrl.create();
        alert.setTitle('Select tags');
        this.DocumentService.getTags()
            .then(function (data) {
            _this.Notifications.dismissLoader();
            data.tags.forEach(function (t) {
                alert.addInput({
                    type: 'checkbox',
                    label: t.tag_name,
                    value: t.id,
                    checked: _this.data.tagKeys.indexOf(t.id) !== -1
                });
            });
            alert.addButton('Cancel');
            alert.addButton({
                text: 'Okay',
                handler: function (d) {
                    _this.getTag(d, data.tags);
                    _this.data.tagKeys = _this.data.tagKeys.concat(d).filter(function (x, i, a) { return x && a.indexOf(x) === i; });
                }
            });
            alert.present();
        });
    };
    DocumentsListInfo.prototype.getTag = function (ids, tags) {
        var _this = this;
        ids.forEach(function (id) {
            tags.forEach(function (t) {
                if (t.id == id) {
                    _this.data.tags[t.id] = t;
                }
            });
        });
    };
    DocumentsListInfo.prototype.goToList = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__documents_list_view_documents_list_view__["a" /* DocumentsListView */], this.params.data);
    };
    DocumentsListInfo.prototype.link = function (type) {
        switch (type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__links_documents_documents__["a" /* LinkedDocumentWithDocuments */], { document_id: this.document_id });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__links_agenda_agenda__["a" /* LinkedAgendaWithDocuments */], { document_id: this.document_id });
                break;
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__links_contact_external_contact_external__["a" /* LinkedContactExternalWithDocuments */], { document_id: this.document_id });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithDocuments */], { document_id: this.document_id });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithDocuments */], { document_id: this.document_id });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__links_equipments_equipments__["a" /* LinkedEquipmentWithDocuments */], { document_id: this.document_id });
                break;
        }
    };
    DocumentsListInfo = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-list-documents-info',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list_info/documents_list_info.html"*/'  <ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n       Info\n    </ion-title>\n     <ion-buttons right >\n      <button ion-button (click)=\'goToList();\' clear> <ion-icon class="large" name="attach"></ion-icon> </button>\n      <button ion-button *ngIf="is_edit" (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n  \n  <ion-refresher (ionRefresh)="doRefresh($event)">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-list *ngIf="!reload && is_requested">\n   \n    <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="color" >\n      Designation\n    </ion-list-header>\n    \n    <div *ngIf="!is_edit"> \n      <ion-item >\n        <span text-capitalize >{{data.designation.value}}</span>\n      </ion-item>\n    </div>\n    \n    <div *ngIf="is_edit"> \n      <ion-item >\n        <ion-input type="text" [(ngModel)]="data.designation.value" disabled="{{data.designation.disabled}}" [style.margin]="0" ></ion-input>\n      </ion-item>\n    </div>\n\n  </ion-list>\n\n  <ion-list *ngIf="!reload">\n    \n    <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="primary" *ngIf="is_requested" >\n      Category - Subcategory\n    </ion-list-header>\n\n    <ion-item >\n    \n      <span text-capitalize *ngIf="is_requested">{{data.category.value}} - {{data.subcategory.value}}</span>\n\n    </ion-item>\n\n  </ion-list>\n\n   <ion-list *ngIf="!reload && data.categories?.length > 0" >\n    <ion-list-header  class="item item-ios list-header list-header-ios" [style.color]="color" *ngIf="is_requested" >\n      Category Values\n    </ion-list-header>\n    \n    <div *ngIf="!is_edit"> \n      <ion-item  *ngFor="let ck of data.categories" >\n        <p class="mb-10" text-capitalize>{{ck.column}}</p><span>{{ck.value}}</span> \n      </ion-item>\n    </div>\n\n    <div *ngIf="is_edit"> \n      <ion-item *ngFor=" let ca of data.categories "  > \n          \n          <ion-label stacked text-capitalize class="mb-10" >{{ca.column}}</ion-label>  \n\n          <ion-input  type="{{ca.type}}"  name="test" required [(ngModel)]="ca.value" disabled="{{ca.disabled}}" *ngIf=" ca.type == \'text\' || ca.type == \'number\' "></ion-input>\n        \n          <ion-datetime class="mb-10" displayFormat="DD/MM/YYYY" [style.padding]="0" pickerFormat="DD MMM YYYY" [(ngModel)]="ca.value" disabled="{{ca.disabled}}" *ngIf=" ca.type == \'date\' "></ion-datetime>\n          \n          <ion-select [(ngModel)]="ca.value" class="item-margin" *ngIf=" ca.type == \'list\' " disabled="{{ca.disabled}}">\n            <ion-option *ngFor="let op of ca.options" value="{{op}}" >{{op}}</ion-option>\n          </ion-select>\n\n      </ion-item>\n    </div>\n\n  </ion-list>\n\n  <ion-list *ngIf="!reload && data.subcategories?.length > 0" >\n   \n    <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="color" *ngIf="is_requested">\n      Sub Category Values\n    </ion-list-header>\n    \n    <div *ngIf="!is_edit"> \n      <ion-item  *ngFor="let sk of data.subcategories"  >\n          <p class="mb-10" text-capitalize>{{sk.column}}</p><span>{{sk.value}}</span>  \n      </ion-item>\n    </div>\n\n    <div *ngIf="is_edit"> \n      <ion-item  *ngFor=" let sa of data.subcategories "  > \n          \n          <ion-label stacked text-capitalize class="mb-10" >{{sa.column}}</ion-label> \n\n          <ion-input class="mb-10"  type="{{sa.type}}"  name="test" required  [(ngModel)]="sa.value" disabled="{{sa.disabled}}" *ngIf=" sa.type == \'text\' || sa.type == \'number\' "></ion-input>\n          \n          <ion-datetime class="mb-10" displayFormat="DD/MM/YYYY" [style.padding]="0"  pickerFormat="DD MMM YYYY" [(ngModel)]="sa.value" placeholder="{{sa.name}}" disabled="{{sa.disabled}}" *ngIf=" sa.type == \'date\' "></ion-datetime>\n          \n          <ion-select [(ngModel)]="sa.value" class="item-margin" *ngIf=" sa.type == \'list\' " disabled="{{sa.disabled}}">\n            <ion-option *ngFor="let op of sa.options" value="{{op}}" >{{op}}</ion-option>\n          </ion-select>\n\n      </ion-item>\n    </div>\n\n  </ion-list> \n\n\n  <ion-list *ngIf="!reload && is_requested" >\n   \n    <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="color" >\n      Tags\n      <button ion-button clear item-end  (click)="addTags()" *ngIf="is_edit" > <ion-icon name="add-circle" class="add_new"></ion-icon> </button>\n    </ion-list-header>\n    \n    <div *ngIf="is_edit"> \n      <ion-chip class="tag-item"  *ngFor=" let tk of data.tagKeys; let i = index " class="mytag" color="secondary" >\n        <ion-label>{{ data.tags[tk].tag_name }}</ion-label>\n        <button ion-button clear color="light" (click)="deleteTag(tk,i)" >\n          <ion-icon name="close-circle" [style.color]="dark" ></ion-icon>\n        </button>\n      </ion-chip>\n    </div>\n\n    <div  class="tag-item"  *ngIf="!is_edit && data.tagKeys?.length > 0"> \n        <ion-chip *ngFor=" let tk of data.tagKeys "  color="primary" class="mytag" >\n          <ion-label> {{ data.tags[tk].tag_name }} </ion-label>\n        </ion-chip> \n    </div>\n    \n     <ion-item class="tag-item" *ngIf="data.tagKeys?.length == 0"  > \n       <h6 >No tag found</h6> \n     </ion-item>\n\n\n\n  </ion-list> \n\n\n  <ion-grid class="grid-reload" *ngIf="reload"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n</ion-content>\n\n<ion-footer>\n\n  <ion-segment color="light" *ngIf="current_user && !current_user.is_private && document">\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_documents_count)}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_internal\')" value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_internal_count)}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')" value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')" value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_tasks_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'equipment\')"  value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_equipments_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="grid" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_infrastructure_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-segment color="light" *ngIf="current_user && current_user.is_private && document">\n\n    <ion-segment-button (click) = "link(\'contact_external\')" value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')" value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{fns.count(document.linked_tasks_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list_info/documents_list_info.html"*/,
            providers: [
                __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */],
                __WEBPACK_IMPORTED_MODULE_9__helpers_notifications_helper__["a" /* NotificationsHelper */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_10__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], DocumentsListInfo);
    return DocumentsListInfo;
}());

//# sourceMappingURL=documents_list_info.js.map

/***/ }),

/***/ 38:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GlobalVarsProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



/*
  Generated class for the GlobalVarsProvider provider.

  See https://angular.io/guide/dependency-injection for more info on providers
  and Angular DI.
*/
var GlobalVarsProvider = (function () {
    function GlobalVarsProvider(http) {
        this.http = http;
        this.applied_conditions = [];
        this.current_user = { username: '', image_path: '', email: '' };
        this.opened_documents = [];
    }
    GlobalVarsProvider.prototype.setCurrentUser = function (value) {
        this.current_user = value;
    };
    GlobalVarsProvider.prototype.setOpenedDocuments = function (id) {
        this.opened_documents = [id];
    };
    GlobalVarsProvider.prototype.setAppliedConditions = function (d) {
        this.applied_conditions = d;
    };
    GlobalVarsProvider.prototype.getAppliedConditions = function () {
        return this.applied_conditions;
    };
    GlobalVarsProvider.prototype.getOpenedDocuments = function () {
        return this.opened_documents;
    };
    GlobalVarsProvider.prototype.getCurrentUser = function () {
        return this.current_user;
    };
    GlobalVarsProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */]])
    ], GlobalVarsProvider);
    return GlobalVarsProvider;
}());

//# sourceMappingURL=global-vars.js.map

/***/ }),

/***/ 39:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Dashboard; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_chart_js__ = __webpack_require__(597);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_chart_js___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_chart_js__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__notifications_notifications__ = __webpack_require__(192);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__settings_settings__ = __webpack_require__(238);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__infrastructure_list_list__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__equipments_menu_menu__ = __webpack_require__(240);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__equipments_levels_levels__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__equipments_models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__equipments_articles_articles__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__agenda_list_list__ = __webpack_require__(241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__tags_list_list__ = __webpack_require__(242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__contact_external_list_list__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__contact_internal_list_list__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__documents_documents_create_screen1_screen1__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__items_items__ = __webpack_require__(536);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__search_users_list_list__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__infrastructure_show_show__ = __webpack_require__(68);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



























var Dashboard = (function () {
    function Dashboard(navCtrl, events, _ngZone, session, NotificationService, menu) {
        this.navCtrl = navCtrl;
        this.events = events;
        this._ngZone = _ngZone;
        this.session = session;
        this.NotificationService = NotificationService;
        this.menu = menu;
        this.pages = {
            document: __WEBPACK_IMPORTED_MODULE_7__documents_documents_list_documents_list__["a" /* DocumentsList */],
            settings: __WEBPACK_IMPORTED_MODULE_9__settings_settings__["a" /* Settings */],
            infrastructure: __WEBPACK_IMPORTED_MODULE_10__infrastructure_list_list__["a" /* Infrastructure */],
            equipments: __WEBPACK_IMPORTED_MODULE_11__equipments_menu_menu__["a" /* EquipmentsMenu */],
            agenda: __WEBPACK_IMPORTED_MODULE_15__agenda_list_list__["a" /* Agenda */],
            tags: __WEBPACK_IMPORTED_MODULE_17__tags_list_list__["a" /* Tags */],
            create: __WEBPACK_IMPORTED_MODULE_22__documents_documents_create_screen1_screen1__["a" /* Screen1 */],
            contact_external: __WEBPACK_IMPORTED_MODULE_18__contact_external_list_list__["a" /* ContactExternal */],
            contact_internal: __WEBPACK_IMPORTED_MODULE_19__contact_internal_list_list__["a" /* ContactInternal */]
        };
        this.reload = true;
        this.notifications = [];
        this.items = [];
        this.modules_count = [1, 1, 1, 1, 1, 1];
        this.menu = menu;
        this.menu.swipeEnable(true);
        this.current_user = this.session.getUser();
        // debugger
        this.resetNotifications();
        this.resetDashboard();
    }
    Dashboard.prototype.ionViewDidLoad = function () {
        console.log("Dashboard ionViewDidLoad !");
    };
    Dashboard.prototype.ngOnChanges = function () {
        console.log("Dashboard ngOnChanges !");
    };
    Dashboard.prototype.ngOnInit = function () {
        console.log("Dashboard ngOnInit !");
    };
    Dashboard.prototype.openNotifications = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__notifications_notifications__["a" /* Notifications */]);
    };
    Dashboard.prototype.openRequest = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_24__search_users_list_list__["a" /* SearchUsers */], { request: 'recieved' });
    };
    Dashboard.prototype.loadDoughnut = function () {
        var labels = [];
        var backgroundColors = [];
        var hoverBackgroundColor = [];
        if (!this.current_user.is_private) {
            labels = ["Infrastructure", "Document", "Equipment", "Task", "Contact Internal", "Contact External"];
            backgroundColors = [
                'rgba(158, 158, 158, 0.51)',
                'rgba(0, 150, 136, 0.48)',
                'rgba(121, 85, 72, 0.56)',
                'rgba(96, 125, 139, 0.52)',
                'rgba(255, 152, 0, 0.5)'
            ];
            hoverBackgroundColor = [
                "#9E9E9E",
                "#009688",
                "#795548",
                "#607D8B",
                "#00BCD4",
                "#ff9800",
                "#2196F3",
            ];
        }
        else {
            labels = ["Document", "Task", "Contact External"];
            backgroundColors = [
                'rgba(0, 150, 136, 0.48)',
                'rgba(96, 125, 139, 0.52)',
                'rgba(33, 150, 243, 0.55)'
            ];
            hoverBackgroundColor = [
                "#009688",
                "#607D8B",
                "#2196F3"
            ];
        }
        this.doughnutChart = new __WEBPACK_IMPORTED_MODULE_2_chart_js__["Chart"](this.doughnutCanvas.nativeElement, {
            type: 'doughnut',
            data: {
                labels: labels,
                datasets: [{
                        label: '# of Votes',
                        data: this.modules_count,
                        backgroundColor: backgroundColors,
                        hoverBackgroundColor: hoverBackgroundColor
                    }]
            }
        });
    };
    Dashboard.prototype.loadBar = function (data) {
        this.barChart = new __WEBPACK_IMPORTED_MODULE_2_chart_js__["Chart"](this.barCanvas.nativeElement, {
            type: 'bar',
            data: {
                labels: data.categories.names,
                datasets: [{
                        label: '',
                        data: data.categories.counts,
                        backgroundColor: [
                            'rgba(158, 158, 158, 0.51)',
                            'rgba(0, 150, 136, 0.48)',
                            'rgba(121, 85, 72, 0.56)',
                            'rgba(96, 125, 139, 0.52)',
                            'rgba(255, 152, 0, 0.5)',
                            'rgba(33, 150, 243, 0.55)'
                        ],
                        borderColor: [
                            'rgba(158, 158, 158, 0.51)',
                            'rgba(0, 150, 136, 0.48)',
                            'rgba(121, 85, 72, 0.56)',
                            'rgba(96, 125, 139, 0.52)',
                            'rgba(255, 152, 0, 0.5)',
                            'rgba(33, 150, 243, 1)'
                        ],
                        borderWidth: 1
                    }]
            },
            options: {
                scales: {
                    yAxes: [{
                            ticks: {
                                beginAtZero: true
                            }
                        }]
                },
                legend: { display: false }
            }
        });
    };
    Dashboard.prototype.resetNotifications = function () {
        var _this = this;
        this.NotificationService.getNotificationsCount()
            .then(function (data) {
            _this.notifications_count = data.notifications;
            _this.requests_count = data.recieved;
            _this._ngZone.run(function () { });
        });
    };
    Dashboard.prototype.resetDashboard = function () {
        var _this = this;
        this.NotificationService.getRecentNotifications()
            .then(function (data) {
            if (data.error == undefined) {
                _this.reload = false;
                _this.notifications = data.notifications;
                _this.items = data.items;
                _this.counts = data.counts;
                _this.initCharts(data.counts);
            }
            else {
                //this.resetDashboard();
            }
        });
    };
    Dashboard.prototype.avatar = function (notification) {
        return __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + notification.by_user_profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + notification.by_org_id;
    };
    Dashboard.prototype.openModule = function (type) {
        if (type === void 0) { type = ''; }
        this.navCtrl.push(this.pages[type]);
    };
    Dashboard.prototype.initCharts = function (data) {
        if (this.current_user.is_private) {
            this.modules_count = [data.documents, data.tasks, data.contacts_external];
        }
        else {
            this.modules_count = [data.locations,
                data.documents,
                data.equipments,
                data.tasks,
                data.contacts_internal,
                data.contacts_external];
        }
        this.loadDoughnut();
        this.loadBar(data);
        this._ngZone.run(function () { console.log('Reset Charts Done!'); });
    };
    Dashboard.prototype.openItem = function (item, index) {
        switch (item.request_type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], {
                    id: item.request_id
                });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_20__contact_internal_show_show__["a" /* ContactInternalDescription */], {
                    id: item.request_id
                });
                break;
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_21__contact_external_show_show__["a" /* ContactExternalDescription */], {
                    id: item.request_id
                });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_16__agenda_show_show__["a" /* AgendaDescription */], {
                    id: item.request_id
                });
                break;
            case 'locations':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_26__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: item.request_id, count: 0 });
                break;
            case 'objects':
                switch (item.module) {
                    case 'levels_data':
                        item.contain_three_levels ? this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_13__equipments_models_models__["a" /* EquipmentsModels */], {
                            levels_data_id: item.request_id,
                            parent_id: item.parent_id
                        })
                            :
                                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__equipments_levels_levels__["a" /* EquipmentsLevels */], {
                                    parent_id: item.request_id
                                });
                        break;
                    case 'model_data':
                        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_14__equipments_articles_articles__["a" /* EquipmentsArticles */], {
                            levels_data_id: item.levels_data_id,
                            model_data_id: item.request_id,
                            parent_id: item.parent_id
                        });
                        break;
                    case 'article_data':
                        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_25__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: item.request_id });
                        break;
                }
                break;
        }
    };
    Dashboard.prototype.openNotification = function (notification, index) {
        var _this = this;
        this.NotificationService.openNotification(notification.id)
            .then(function (res) {
            console.log("notification", res);
            _this.notifications[index].is_read = "1";
            //this.notifications.splice(index,1)
            switch (notification.request_type) {
                case 'shared_documents':
                    _this.openDocument(__WEBPACK_IMPORTED_MODULE_8__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], res.request_data);
                    break;
                case 'agenda':
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_16__agenda_show_show__["a" /* AgendaDescription */], res.request_data);
                    break;
                default:
            }
        });
    };
    Dashboard.prototype.openDocument = function (state, shared) {
        this.navCtrl.push(state, {
            id: shared.document.id,
            org_id: shared.document.org_id,
            permission: {
                can_read: shared.can_read,
                can_download: shared.can_download,
                can_external_share: shared.can_external_share,
                can_share: shared.can_share,
                can_update: shared.can_update
            }
        });
    };
    Dashboard.prototype.openScreen = function (name) {
        var state = name == 'notifications' ? __WEBPACK_IMPORTED_MODULE_3__notifications_notifications__["a" /* Notifications */] : __WEBPACK_IMPORTED_MODULE_23__items_items__["a" /* Items */];
        this.navCtrl.push(state);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('barCanvas'),
        __metadata("design:type", Object)
    ], Dashboard.prototype, "barCanvas", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('doughnutCanvas'),
        __metadata("design:type", Object)
    ], Dashboard.prototype, "doughnutCanvas", void 0);
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])('lineCanvas'),
        __metadata("design:type", Object)
    ], Dashboard.prototype, "lineCanvas", void 0);
    Dashboard = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-dashboard',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/dashboard/dashboard.html"*/'<ion-header>\n  <ion-navbar>\n    <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      Dashboard\n    </ion-title>\n    <ion-buttons right>\n      <button class="my-requests" ion-button clear (click) = "openRequest()" >\n        <ion-icon name="person-add" item-end>\n          <ion-badge class="custom-bagde" *ngIf="requests_count > 0" color="danger">{{ requests_count > 99 ? \'9+\' : requests_count }}</ion-badge>\n        </ion-icon>\n      </button>\n      <button ion-button clear (click) = "openNotifications()" >\n        <ion-icon class="my-globe" name="globe" item-end color="red">\n          <ion-badge class="custom-bagde" *ngIf="notifications_count > 0" color="danger"> {{ notifications_count > 99 ? \'99+\' : notifications_count }}</ion-badge>\n        </ion-icon>\n      </button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="custom-content-ios" *ngIf="current_user" >\n\n    <ion-grid text-center *ngIf="!current_user.is_private">\n      <ion-row>\n        <ion-col >\n          <button ion-button icon-only outline  (click) = "openModule(\'infrastructure\')">\n            <ion-icon name="grid" class="infrastructure"></ion-icon>\n          </button> <br/>\n          <div class="title">Infrastructure</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="document"  (click) = "openModule(\'document\')">\n            <ion-icon name="document" class="document"></ion-icon>\n          </button><br/>\n          <div class="title">Documents</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="equipment" (click) = "openModule(\'equipments\')">\n            <ion-icon name="cube" class="equipment"></ion-icon>\n          </button><br/>\n          <div class="title">Equipments</div>\n        </ion-col>\n        <ion-col >\n          <button ion-button icon-only outline class="contact-internal" (click) = "openModule(\'contact_internal\')">\n            <ion-icon name="contacts" class="contact_internal" ></ion-icon>\n          </button>\n          <div class="title">Contact Int</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="contact" (click) = "openModule(\'contact_external\')">\n            <ion-icon name="contacts" class="contact_external" ></ion-icon>\n          </button>\n          <div class="title">Contact Ext</div>\n        </ion-col>\n      </ion-row>\n      <ion-row>\n        <ion-col>\n          <button ion-button icon-only outline class="agenda" (click) = "openModule(\'agenda\')">\n            <ion-icon name="calendar" class="agenda"></ion-icon>\n          </button><br/>\n          <div class="title">Agenda</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="search" (click) = "openModule(\'infrastructure\')">\n            <ion-icon name="search" class="search"></ion-icon>\n          </button>\n          <div class="title">Search</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="setting" (click) = "openModule(\'settings\')">\n            <ion-icon name="settings" class="settings"></ion-icon>\n          </button>\n          <div class="title">Settings</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="add" (click) = "openModule(\'create\')">\n            <ion-icon name="add" class="add"></ion-icon>\n          </button>\n          <div class="title">Upload</div>\n        </ion-col>\n         <ion-col>\n         </ion-col> \n      </ion-row>\n    </ion-grid>\n\n    <ion-grid text-center *ngIf="current_user.is_private">\n      <ion-row>\n        <ion-col>\n          <button ion-button icon-only outline class="document"  (click) = "openModule(\'document\')">\n            <ion-icon name="document" class="document"></ion-icon>\n          </button><br/>\n          <div class="title">Documents</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="contact" (click) = "openModule(\'contact_external\')">\n            <ion-icon name="contacts" class="contact_external" ></ion-icon>\n          </button>\n          <div class="title">Contact Ext</div>\n        </ion-col>\n         <ion-col>\n          <button ion-button icon-only outline class="agenda" (click) = "openModule(\'agenda\')">\n            <ion-icon name="calendar" class="agenda"></ion-icon>\n          </button><br/>\n          <div class="title">Agenda</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="setting" (click) = "openModule(\'settings\')">\n            <ion-icon name="settings" class="settings"></ion-icon>\n          </button>\n          <div class="title">Settings</div>\n        </ion-col>\n        <ion-col>\n          <button ion-button icon-only outline class="add" (click) = "openModule(\'create\')">\n            <ion-icon name="add" class="add"></ion-icon>\n          </button>\n          <div class="title">Upload</div>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    \n    <ion-card>\n      <ion-card-header no-padding padding-left>\n        \n       <ion-item no-padding>\n         <ion-label class="notification-title">Notifications</ion-label>\n        <button ion-button clear item-right no-padding class="today" >Recent</button>\n      </ion-item>\n\n      </ion-card-header>\n     \n         <ion-card-content no-padding>\n            <ion-list *ngIf="!reload && notifications?.length > 0">\n                 <ion-item *ngFor="let notification of notifications; let i = index " \n                      class = " item item-block item-ios {{ notification.is_read == 1 ? \'read\' : \'unread\' }} " \n                      (click)=\'openNotification(notification,i);\' >\n                    \n                      <ion-avatar item-start>\n                        <img class="profile-img" src="{{avatar(notification)}}">\n                      </ion-avatar>\n\n                      <div *ngIf="is_hold && notification.is_selected " class="sm-selected-file"> \n                        <img class="sm-check-file" src="assets/img/check.png" />\n                      </div>\n\n                    <h2>{{notification.title}}</h2>\n                    <p>{{notification.description}}</p>\n                  </ion-item> \n                   <ion-item *ngIf="items?.length >= 0" class="see-all-records" text-center>\n                    <button no-margin  ion-button clear (click)=\'openScreen("notifications")\'>See all notifications</button>\n                  </ion-item>  \n            </ion-list>\n           \n            <ion-grid class="no-record-grid" *ngIf=" !reload && notifications?.length <= 0" > \n              <ion-row text-center>\n                <ion-col>\n                  <p>No Notification Found.</p>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n\n            <ion-grid *ngIf="reload" > \n              <ion-row text-center>\n                <ion-col>\n                  <ion-spinner ></ion-spinner>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n        </ion-card-content>\n     \n    </ion-card>\n    \n    <ion-card>\n      <ion-card-header>\n        Items\n      </ion-card-header>\n      <ion-card-content no-padding>\n            <ion-item *ngFor="let item of items; let i = index" class="item item-block item-ios {{item.opened ? \'opened\' : \'not-opened\'}}">\n              <div tappable (click)=\'openItem(item,i);\'>\n                <h2>{{item.title}}</h2>\n                <p text-capitalize>{{item.designation}}</p>\n              </div>\n            </ion-item> \n            <ion-item *ngIf="!reload && items?.length >= 0" class="see-all-records" text-center>\n              <button ion-button clear (click)=\'openScreen("items");\' >See all items</button>\n            </ion-item> \n\n            <ion-grid *ngIf="!reload && items?.length <= 0" > \n              <ion-row text-center>\n                <ion-col>\n                  <p>No List Found.</p>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n\n            <ion-grid class="no-record-grid" *ngIf="reload" > \n              <ion-row text-center>\n                <ion-col>\n                  <ion-spinner ></ion-spinner>\n                </ion-col>\n              </ion-row>\n            </ion-grid>\n      </ion-card-content>\n    </ion-card>\n\n    <ion-card>\n      <ion-card-header>\n        Total\n      </ion-card-header>\n      <ion-card-content >\n        <canvas #doughnutCanvas></canvas>\n      </ion-card-content>\n    </ion-card>\n\n    <ion-card>\n      <ion-card-header>\n        Document by type\n      </ion-card-header>\n      <ion-card-content>\n        <canvas #barCanvas></canvas>\n      </ion-card-content>\n    </ion-card>\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/dashboard/dashboard.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"], __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"], __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */], __WEBPACK_IMPORTED_MODULE_4__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["MenuController"]])
    ], Dashboard);
    return Dashboard;
}());

//# sourceMappingURL=dashboard.js.map

/***/ }),

/***/ 42:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsList; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__documents_share_documents_share__ = __webpack_require__(197);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_shared_documents_shared__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_create_screen1_screen1__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__documents_conditions_documents_conditions__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var DocumentsList = (function () {
    function DocumentsList(navCtrl, actionSheetCtrl, alertCtrl, Notifications, popoverCtrl, DocumentService, navParams, globalVars) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.popoverCtrl = popoverCtrl;
        this.DocumentService = DocumentService;
        this.navParams = navParams;
        this.globalVars = globalVars;
        this.page = { view: __WEBPACK_IMPORTED_MODULE_2__documents_list_view_documents_list_view__["a" /* DocumentsListView */], info: __WEBPACK_IMPORTED_MODULE_3__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], create: __WEBPACK_IMPORTED_MODULE_7__documents_create_screen1_screen1__["a" /* Screen1 */] };
        this.documentConditions = __WEBPACK_IMPORTED_MODULE_10__documents_conditions_documents_conditions__["a" /* DocumentsConditions */];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.reload = false;
    }
    DocumentsList.prototype.ngOnInit = function () {
        this.documents = this.navParams.data.documents;
        this.conditions = this.navParams.data.conditions || [];
        this.params = { cat_attrs: this.navParams.data.cat_attrs,
            sub_cat_attrs: this.navParams.data.sub_cat_attrs,
            category: this.navParams.data.category || [],
            conditions: this.conditions,
            callback: 'list',
            subcategory: this.navParams.data.subcategory || [] };
        if (this.documents == undefined) {
            this.getDocuments();
        }
    };
    DocumentsList.prototype.reloadMe = function () {
        this.getDocuments();
    };
    DocumentsList.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    DocumentsList.prototype.getDocuments = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getDocuments(1, this.search)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data.documents;
                _this.reload = false;
                _this.params = { cat_attrs: data.cat_attrs,
                    sub_cat_attrs: data.sub_cat_attrs,
                    category: [],
                    conditions: _this.conditions,
                    callback: 'list',
                    subcategory: [] };
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_12__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.allDocuments = _this.documents;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    DocumentsList.prototype.view = function (comp, id, i, org_id) {
        var _this = this;
        this.navCtrl.push(comp, {
            id: id,
            org_id: org_id
        });
        var p = 0;
        this.documents.forEach(function (d) {
            _this.documents[p].opened = false;
            p++;
        });
        this.documents[i].opened = true;
        this.DocumentService.updateRecent(id).then(function (data) {
        });
    };
    DocumentsList.prototype.delete = function (id, i) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.DocumentService.delete(id)
                            .then(function (data) {
                            if (data.status) {
                                _this.documents.splice(i, 1);
                                _this.Notifications.presentToast('Deleted Successfully');
                            }
                            else {
                                _this.Notifications.presentToast(data.message);
                            }
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    DocumentsList.prototype.getItems = function (ev) {
        var _this = this;
        this.documents = this.allDocuments;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_12__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                    _this.allDocuments = _this.documents;
                });
            }, 500);
        }
    };
    DocumentsList.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_12__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    _this.allDocuments = _this.documents;
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    DocumentsList.prototype.create = function () {
        this.navCtrl.push(this.page.create);
    };
    DocumentsList.prototype.share = function (d, type, search) {
        if (d === void 0) { d = 0; }
        if (type === void 0) { type = 'documents'; }
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__documents_share_documents_share__["a" /* DocumentsShare */], { doc_id: d, type: type, search: search });
    };
    DocumentsList.prototype.shared = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_shared_documents_shared__["a" /* DocumentsShared */]);
    };
    DocumentsList.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__dashboard_dashboard__["a" /* Dashboard */]);
    };
    DocumentsList.prototype.presentActionSheet = function (d, i) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(_this.page.info, d, i, 0);
                }
            }, {
                text: 'View Files',
                handler: function () {
                    _this.view(_this.page.view, d, i, 0);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(d, i);
                }
            }, {
                text: 'Share',
                handler: function () {
                    _this.presentPrompt(d);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    DocumentsList.prototype.presentPrompt = function (d) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Search',
            message: 'Search the user by firstname or lastname to share your document.',
            inputs: [
                {
                    name: 'username',
                    placeholder: 'Fill in firstname or lastname'
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                    }
                },
                {
                    text: 'Search',
                    handler: function (data) {
                        _this.share(d, 'users', data.username);
                    }
                }
            ]
        });
        alert.present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], DocumentsList.prototype, "navBar", void 0);
    DocumentsList = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-list-documents',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list/documents_list.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      List Of Documents\n    </ion-title>\n\n    <ion-buttons right>\n      <button ion-button  icon-only (click)="shared()" > <ion-icon name="md-share"></ion-icon> </button>\n      <button ion-button  icon-only  [navPush] = "documentConditions" [navParams]="params"> \n          <ion-icon ios="ios-options" md="md-options" item-end color="red">\n            <ion-badge class="custom-bagde" *ngIf="conditions?.length > 0 && conditions[0].value !== \'\'" color="danger">{{conditions?.length}}</ion-badge>\n            </ion-icon>\n          </button>\n    </ion-buttons>\n\n  </ion-navbar>\n\n   <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n</ion-header>\n\n<ion-content >\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n\n    <ion-list *ngIf="!reload && !is_searched">\n     \n      <ion-item *ngFor="let d of documents; let i = index" class="item item-block item-ios {{d.opened ? \'opened\' : \'not-opened\'}}">\n        \n        <div tappable (click)=\'view(page.view,d.id,i,d.org_id);\'>\n          <h2>{{d.designation}}</h2>\n          <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(d.id,i);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n      </ion-item> \n\n    </ion-list>\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n\n    <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n          <p>No Record Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n   <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n\n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  \n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" >\n        <ion-icon class="add-icon" name="add"  ></ion-icon>\n    </button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_list/documents_list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_9__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_11__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_6__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_11__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["PopoverController"],
            __WEBPACK_IMPORTED_MODULE_9__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]])
    ], DocumentsList);
    return DocumentsList;
}());

//# sourceMappingURL=documents_list.js.map

/***/ }),

/***/ 45:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgendaDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__links_contact_external_contact_external__ = __webpack_require__(475);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__links_contact_internal_contact_internal__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__links_documents_documents__ = __webpack_require__(527);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__links_infrastructure_infrastructure__ = __webpack_require__(236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__links_equipments_equipments__ = __webpack_require__(237);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var AgendaDescription = (function () {
    function AgendaDescription(navCtrl, params, TasksService, session, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.session = session;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.attendees = [];
        this.color = '#488aff';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.is_edit = false;
        this.is_requested = false;
        this.reload = false;
        this.current_user = this.session.getUser();
    }
    AgendaDescription.prototype.ionViewWillEnter = function () {
        this.getAgenda();
    };
    AgendaDescription.prototype.getAgenda = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getTask(this.params.get('id'))
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.task = data;
                _this.initDurations();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    AgendaDescription.prototype.initDurations = function () {
        if (this.task) {
            var duration = this.task.duration_value;
            var dA = duration.split(',');
            if (this.task.unit == 'days') {
                this.task.days = dA[0];
                this.task.hours = dA[1];
                this.task.minutes = dA[2];
            }
            else if (this.task.unit == 'hours') {
                this.task.days = 0;
                this.task.hours = dA[1];
                this.task.minutes = dA[2];
            }
            else if (this.task.unit == 'minutes') {
                this.task.days = 0;
                this.task.hours = 0;
                this.task.minutes = dA[2];
            }
        }
        else {
            this.Notification.presentToast('Sorry, task not found');
            this.navCtrl.pop();
        }
    };
    AgendaDescription.prototype.priorityChipColor = function () {
        var color = '';
        switch (this.task.priority) {
            case 'none':
                color = 'light';
                break;
            case 'low':
                color = 'light';
                break;
            case 'medium':
                color = 'secondary';
                break;
            case 'high':
                color = 'danger';
                break;
        }
        return color;
    };
    AgendaDescription.prototype.statusChipColor = function () {
        var color = '';
        switch (this.task.status) {
            case 'too late':
                color = 'danger';
                break;
            case 'to be done':
                color = 'secondary';
                break;
            case 'done':
                color = 'secondary';
                break;
            case 'high':
                color = 'danger';
                break;
        }
        return color;
    };
    AgendaDescription.prototype.getUrl = function (user) {
        return user ? __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
            'documents/download?fileName=' +
            user.profile_pic.name + '&token=' +
            this.session.getToken() +
            '&type=profile_pic&thumb=true&' +
            '&org_id=' + user.org_id
            : 'assets/img/dummy_user.png';
    };
    AgendaDescription.prototype.getAttendees = function () {
        var _this = this;
        this.TasksService.getAttendees()
            .then(function (data) {
            _this.attendees = data;
        });
    };
    AgendaDescription.prototype.edit = function () {
        this.color = '#1ea209';
        this.is_edit = true;
        this.backup = Object.assign({}, this.task);
    };
    AgendaDescription.prototype.update = function () {
        var _this = this;
        this.TasksService.update(this.task)
            .then(function (data) {
            _this.resetVaribles();
            _this.getAgenda();
        });
    };
    AgendaDescription.prototype.range = function (start, count) {
        return Array.apply(0, Array(count))
            .map(function (element, index) {
            return index + start;
        });
    };
    AgendaDescription.prototype.cancelEdition = function () {
        this.is_edit = false;
        this.color = '#488aff';
        this.task = this.backup;
    };
    AgendaDescription.prototype.resetVaribles = function () {
        this.is_edit = false;
        this.color = '#488aff';
    };
    AgendaDescription.prototype.link = function (type) {
        console.log(type);
        switch (type) {
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__links_contact_external_contact_external__["a" /* LinkedContactExternalWithAgenda */], { task_id: this.params.get('id') });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithAgenda */], { task_id: this.params.get('id') });
                break;
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__links_documents_documents__["a" /* LinkedDocuments */], { task_id: this.params.get('id') });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithAgenda */], { task_id: this.params.get('id') });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__links_equipments_equipments__["a" /* LinkedEquipmentWithAgenda */], { task_id: this.params.get('id') });
                break;
        }
    };
    AgendaDescription.prototype.generateDurations = function () {
        var result = '';
        if (this.task.unit == 'days') {
            result = this.task.days + (this.task.days > 1 ? ' days ' : ' day ') + this.task.hours + (this.task.hours > 1 ? ' hours ' : ' hour ') + this.task.minutes + (this.task.minutes > 1 ? ' minutes ' : ' minute ');
        }
        else if (this.task.unit == 'hours') {
            result = this.task.hours + (this.task.hours > 1 ? ' hours ' : ' hour ') + this.task.minutes + (this.task.minutes > 1 ? ' minutes ' : ' minute ');
        }
        else if (this.task.unit == 'minutes') {
            result = this.task.minutes + (this.task.minutes > 1 ? ' minutes' : ' minute');
        }
        return result;
    };
    AgendaDescription.prototype.getName = function (user) {
        return user.name.slice(0, 8);
    };
    AgendaDescription.prototype.getOrg = function (task) {
        return task.org.name.slice(0, 8);
    };
    AgendaDescription.prototype.count = function (c) {
        return c > 99 ? '99+' : c;
    };
    AgendaDescription = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/show/show.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n\n  <ion-list *ngIf="task">\n        \n    <ion-list-header [class]="item_header_class"  [style.color]="color" >\n      Name\n    </ion-list-header>\n\n    <ion-item *ngIf="!is_edit" >\n      {{task.name}}\n    </ion-item>\n\n    <ion-item *ngIf="is_edit">\n        <input [class]="input_class" type="text" [(ngModel)]="task.name" name="task_name" required placeholder="Name"/>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Description\n    </ion-list-header>\n\n    <ion-item *ngIf="!is_edit">\n      {{task.description}}\n    </ion-item>\n\n    <ion-item *ngIf="is_edit">\n        <ion-textarea placeholder="Enter a description" required name="description" [(ngModel)]="task.description"></ion-textarea>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Durations\n    </ion-list-header>\n\n    <ion-item *ngIf="!is_edit">\n       {{generateDurations()}}\n    </ion-item>\n\n    <div *ngIf="is_edit">\n       <ion-item>\n         <ion-select [(ngModel)]="task.unit" class="item-margin">\n          <ion-option value="days" > Day </ion-option>\n          <ion-option value="hours" > Hour </ion-option>\n          <ion-option value="minutes" > Minutes </ion-option>\n         </ion-select>\n      </ion-item>\n\n      <ion-card>\n        <ion-card-content>\n\n          <div *ngIf="task.unit == \'days\'" >\n          \n            <ion-item>\n               <ion-label fixed>Day</ion-label>\n               <ion-input type="number" [(ngModel)]="task.days" name="days" required ></ion-input>\n            </ion-item>\n\n            <ion-item>\n               <ion-label fixed>Hour</ion-label>\n               <ion-select [(ngModel)]="task.hours" class="item-margin">\n                <ion-option *ngFor="let h of range(0,24)" value="{{h}}" >{{h}}</ion-option>\n               </ion-select>\n            </ion-item>\n\n            <ion-item>\n               <ion-label fixed>Minutes</ion-label>\n               <ion-select [(ngModel)]="task.minutes" class="item-margin">\n                <ion-option *ngFor="let m of range(0,60)" value="{{m}}" >{{m}}</ion-option>\n               </ion-select>\n            </ion-item>\n\n          </div>\n\n          <div *ngIf="task.unit == \'hours\'" >\n\n            <ion-item>\n               <ion-label fixed>Hour</ion-label>\n               <ion-input type="number" [(ngModel)]="task.hours" name="hours" required></ion-input>\n            </ion-item>\n\n            <ion-item>\n               <ion-label fixed>Minutes</ion-label>\n               <ion-select [(ngModel)]="task.minutes" class="item-margin">\n                <ion-option *ngFor="let m of range(0,60)" value="{{m}}" >{{m}}</ion-option>\n               </ion-select>\n            </ion-item>\n\n          </div>\n\n          <div *ngIf="task.unit == \'minutes\'" >\n\n            <ion-item>\n                <ion-label fixed>Minutes</ion-label>\n                <ion-input type="number" [(ngModel)]="task.minutes" name="minutes" required ></ion-input>\n            </ion-item>\n\n          </div>\n\n        </ion-card-content>\n      </ion-card>\n    </div>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Origin\n    </ion-list-header>\n\n    <ion-item>\n      {{task.origin}}\n    </ion-item>\n   \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Expecting Date\n    </ion-list-header>\n\n    <ion-item *ngIf="!is_edit"> \n      {{task.expecting_date | date: \'medium\' }}\n    </ion-item>\n\n    <ion-item *ngIf="is_edit">\n       <ion-datetime class="item-margin" displayFormat="DD/MM/YYYY" no-padding [(ngModel)]="task.expecting_date"  pickerFormat="DD MMM YYYY" ></ion-datetime>\n    </ion-item>\n\n    <div *ngIf="current_user && !current_user.is_private" >\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n        Attendees - Users\n      </ion-list-header>\n\n      \n     <ion-item *ngIf="!is_edit">\n        <ion-item no-padding *ngFor="let user of task.users" >\n          <ion-avatar item-start>\n            <img src="{{getUrl(user)}}">\n          </ion-avatar>\n          <h2>{{user.name}}</h2>\n          <p text-capitalize>{{task.org.name}}</p>\n        </ion-item>\n     </ion-item> \n\n     <ion-item *ngIf="is_edit">\n         <ion-select multiple="true" [(ngModel)]="task.attendees" class="item-margin">\n          <ion-option *ngFor="let attendee of task.all_users" value="{{attendee.user_id}}" > {{attendee.name}} </ion-option>\n         </ion-select>\n     </ion-item>\n   </div>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      priority\n    </ion-list-header>\n\n    <ion-chip [color]="priorityChipColor()" *ngIf="!is_edit"> \n      <ion-label>{{task.priority}}</ion-label>\n    </ion-chip>\n\n     <ion-item *ngIf="is_edit">\n       <ion-select [(ngModel)]="task.priority" class="item-margin">\n        <ion-option value="none" > None </ion-option>\n        <ion-option value="low" > Low </ion-option>\n        <ion-option value="medium" > Medium </ion-option>\n        <ion-option value="high" > High </ion-option>\n       </ion-select>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      status\n    </ion-list-header>\n    \n    <ion-chip [color]="statusChipColor()" *ngIf="!is_edit">\n      <ion-label>{{task.status}}</ion-label>\n    </ion-chip>\n\n    <ion-item *ngIf="is_edit">\n       <ion-select [(ngModel)]="task.status" class="item-margin">\n        <ion-option value="too late" > Too late </ion-option>\n        <ion-option value="to be done" > To be done </ion-option>\n        <ion-option value="done" > Done </ion-option>\n        <ion-option value="high"> High </ion-option>\n       </ion-select>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      tags\n    </ion-list-header>\n   \n    <div class="tag-item" *ngIf="!is_edit">\n      <ion-chip *ngFor="let tag of task.tags_data;" color="secondary">\n        <ion-label>{{tag.tag_name}}</ion-label>\n      </ion-chip>\n    </div>\n    \n    <ion-item class="tag-item" *ngIf="is_edit">\n      <ion-select multiple="true" [(ngModel)]="task.tags" class="item-margin">\n          <ion-option *ngFor="let tag of task.all_tags" value="{{tag.id}}" > {{tag.tag_name}} </ion-option>\n      </ion-select>\n    </ion-item>\n</ion-list>\n\n\n</ion-content>\n\n<ion-footer>\n  <!-- [disabled]="!is_edit" -->\n  \n  <ion-segment color="light" *ngIf="current_user && !current_user.is_private && task">\n    <ion-segment-button (click) = "link(\'contact_internal\')"  value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_contacts_internal_count)}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_documents_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'equipment\')" value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_equipments_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="grid" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_infrastructure_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-segment color="light" *ngIf="current_user && current_user.is_private && task">\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_contacts_external_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{count(task.linked_documents_count)}}</ion-badge></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/show/show.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], AgendaDescription);
    return AgendaDescription;
}());

//# sourceMappingURL=show.js.map

/***/ }),

/***/ 46:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var AuthServiceProvider = (function () {
    function AuthServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    AuthServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    AuthServiceProvider.prototype.getTHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    AuthServiceProvider.prototype.getLastUserHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        var user = this.session.getLastUser();
        headers.append('Authorization', user.token);
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    AuthServiceProvider.prototype.login = function (credentials) {
        var _this = this;
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]();
        headers.append('Content-Type', 'application/json');
        var options = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers });
        var postParams = {
            username: credentials.username,
            password: credentials.password,
            fcm_token: this.session.getFcmToken()
        };
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/login', postParams, options)
                .timeoutWith(5000, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    AuthServiceProvider.prototype.register = function (r) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/register', r, _this.getHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    AuthServiceProvider.prototype.update = function (r) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/update_profile', r, _this.getTHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider.prototype.update_password = function (r) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/update_pass', r, _this.getTHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider.prototype.setPin = function (p1) {
        var _this = this;
        var p = { pin: p1 };
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/set_pin', p, _this.getTHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider.prototype.getOrgs = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/get_orgs', _this.getTHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider.prototype.getUserByOrg = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/get_org_users?org_id=' + id, _this.getTHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider.prototype.loginViaPin = function (p1) {
        var _this = this;
        var user = this.session.getLastUser();
        var postParams = { pin: p1,
            user_id: user !== null ? user.user_id : '',
            org_id: user !== null ? user.user_org_id : ''
        };
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/login', postParams, _this.getHeaders())
                .timeoutWith(5000, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    AuthServiceProvider.prototype.loginViaFingerprint = function () {
        var _this = this;
        var user = this.session.getLastUser();
        var postParams = {
            user_id: user.user_id,
            org_id: user.user_org_id
        };
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/fingerprint', postParams, _this.getLastUserHeaders())
                .timeoutWith(5000, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    AuthServiceProvider.prototype.saveNotificationToken = function (token) {
        var _this = this;
        var user = this.session.getLastUser();
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'documents/save_push_token', { token: token, user_id: user.id }, _this.getHeaders())
                .subscribe(function (data) {
                _this.data = JSON.parse(data['_body']);
                resolve(_this.data);
            });
        });
    };
    AuthServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */]])
    ], AuthServiceProvider);
    return AuthServiceProvider;
}());

//# sourceMappingURL=auth-service.js.map

/***/ }),

/***/ 47:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactInternalDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__ = __webpack_require__(476);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_camera_helper__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__links_documents_documents__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__links_agenda_agenda__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__links_infrastructure_infrastructure__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__links_equipments_equipments__ = __webpack_require__(228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_transfer__ = __webpack_require__(50);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ContactInternalDescription = (function () {
    function ContactInternalDescription(params, ContactService, navCtrl, session, callNumber, socialSharing, camera, platform, iab, transfer, Notifications) {
        this.params = params;
        this.ContactService = ContactService;
        this.navCtrl = navCtrl;
        this.session = session;
        this.callNumber = callNumber;
        this.socialSharing = socialSharing;
        this.camera = camera;
        this.platform = platform;
        this.iab = iab;
        this.transfer = transfer;
        this.Notifications = Notifications;
        this.profile_pic = 'assets/img/dummy_user.png';
        this.color = '#488aff';
        this.is_edit = false;
        this.reload = false;
        this.permission = false;
        this.segement = 'contact';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.fileTransfer = this.transfer.create();
        this.current_user = this.session.getUser();
        this.contact_id = this.params.get('id');
        this.getDescription();
    }
    ContactInternalDescription.prototype.getDescription = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.ContactService.getContactInternal(this.contact_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.status) {
                _this.getContactSites();
                _this.getContactDepartments(data.contact.cs_id);
                _this.description = data;
                console.log("Description :" + JSON.stringify(_this.description));
                _this.getProfilePic();
            }
            else {
                //IF PERMISSION NOT FOUND
                if (data.permission) {
                    _this.permission = data.permission;
                }
                else {
                    _this.reload = true;
                }
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    ContactInternalDescription.prototype.attrName = function (id, type) {
        var name = '';
        var attributes = this.description.attributes;
        switch (type) {
            case 'person':
                name = attributes.person[id] ? attributes.person[id]['name'] : '-';
                break;
            case 'employee':
                name = attributes.employee[id] ? attributes.employee[id]['name'] : '-';
                break;
            case 'department':
                name = attributes.department[id] ? attributes.department[id]['name'] : '-';
                break;
            case 'site':
                name = attributes.site[id] ? attributes.site[id]['name'] : '-';
                break;
        }
        return name;
    };
    ContactInternalDescription.prototype.edit = function () {
        this.color = '#1ea209';
        this.is_edit = true;
        this.backup = Object.assign({}, this.description);
    };
    ContactInternalDescription.prototype.update = function () {
        var _this = this;
        this.ContactService.updateContactInternal(this.description)
            .then(function (data) {
            if (data.status) {
                _this.getDescription();
                _this.resetVaribles();
            }
            else {
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    ContactInternalDescription.prototype.resetVaribles = function () {
        this.is_edit = false;
        this.color = '#488aff';
    };
    ContactInternalDescription.prototype.cancelEdition = function () {
        this.is_edit = false;
        this.color = '#488aff';
        this.description = this.backup;
    };
    ContactInternalDescription.prototype.link = function (type) {
        switch (type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__links_documents_documents__["a" /* LinkedDocumentsWithCI */], { row_id: this.description.contact.ce_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__links_agenda_agenda__["a" /* LinkedAgendaWithCI */], { row_id: this.description.contact.ce_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCI */], { row_id: this.description.contact.ce_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__links_equipments_equipments__["a" /* LinkedEquipmentWithCI */], { row_id: this.description.contact.ce_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
        }
    };
    ContactInternalDescription.prototype.getContactSites = function () {
        var _this = this;
        this.ContactService.getContactSites(1, '')
            .then(function (data) {
            if (data.error == undefined) {
                _this.sites = data;
            }
            else {
                _this.getContactSites();
            }
        });
    };
    ContactInternalDescription.prototype.getContactDepartments = function (id) {
        var _this = this;
        this.ContactService.getContactDepartmentsAndSiteAttrs(id)
            .then(function (data) {
            if (data.error == undefined) {
                _this.departments = data.departments;
                _this.description.contact.site_attrs_data = data.site_attributes;
                //this.description.contact.department_attrs_data = [];
            }
            else {
                _this.getContactDepartments(id);
            }
        });
    };
    ContactInternalDescription.prototype.getContactDepartmentAttrs = function (id) {
        var _this = this;
        this.ContactService.getContactDepartmentsAttrs(id)
            .then(function (data) {
            if (data.error == undefined) {
                _this.description.contact.department_attrs_data = data.department_attrs;
            }
            else {
                _this.getContactDepartmentAttrs(id);
            }
        });
    };
    ContactInternalDescription.prototype.access = function (attr_id) {
        var attribute = this.getAccessType(attr_id);
        var icon = '';
        var icons = {
            'call': 'call',
            'email': 'mail',
            'link': 'link',
            'skype': 'logo-skype'
        };
        if (attribute) {
            icon = icons[attribute.access_type];
        }
        return icon;
    };
    ContactInternalDescription.prototype.accessAction = function (attr_id, value) {
        var attribute = this.getAccessType(attr_id);
        if (attribute) {
            console.log(attribute.access_type);
            switch (attribute.access_type) {
                case 'call':
                    this.call(value);
                    break;
                case 'email':
                    this.email(value);
                    break;
                case 'link':
                    this.openlink(value);
                    break;
            }
        }
    };
    ContactInternalDescription.prototype.getAccessType = function (attr_id) {
        var attribute;
        this.description.contact.access_types.forEach(function (d) {
            if (attr_id == d.attribute_id) {
                attribute = d;
            }
        });
        return attribute;
    };
    ContactInternalDescription.prototype.call = function (number) {
        this.callNumber.callNumber(number, true)
            .then(function (res) {
            return console.log('Launched dialer!', res);
        })
            .catch(function (err) {
            return console.log('Error launching dialer', err);
        });
    };
    ContactInternalDescription.prototype.email = function (value) {
        this.socialSharing.shareViaEmail('', '', [value]).then(function () {
        }).catch(function (err) {
        });
    };
    ContactInternalDescription.prototype.openlink = function (value) {
        this.iab.create('http://' + value);
    };
    ContactInternalDescription.prototype.getProfilePic = function () {
        if (this.description.contact.profile_pic) {
            this.profile_pic = __WEBPACK_IMPORTED_MODULE_13__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                this.description.contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ci';
            if (this.platform.is('android') || this.platform.is('ios')) {
                this.profile_pic += '&timestamp=' + new Date().getTime();
            }
        }
    };
    ContactInternalDescription.prototype.openCamera = function () {
        var _this = this;
        this.camera.action(function (image) {
            _this.upload(image);
        });
    };
    ContactInternalDescription.prototype.upload = function (imageData) {
        var _this = this;
        var options = {
            fileKey: 'file',
            fileName: 'file.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'file.jpg',
                'org_user_id': this.current_user.user_id,
                'employee_id': this.description.contact.ce_id,
                'org_id': this.current_user.user_org_id
            }
        };
        this.Notifications.presentLoader();
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_13__app_config__["a" /* config */].api_url + 'uploads/profile_pic_ci', options)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.Notifications.presentToast("Profile picture updated successfully");
            _this.getDescription();
        }, function (err) {
            _this.Notifications.dismissLoader();
            _this.Notifications.presentToast("Unable to update profile picture");
        });
    };
    ContactInternalDescription = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact-external-description',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/show/show.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n	<div class="segment-pad">\n		<ion-segment [(ngModel)]="segement">\n			<ion-segment-button value="contact">\n				EMPLOYEE\n			</ion-segment-button>\n			<ion-segment-button value="site">\n				SITE\n			</ion-segment-button>\n		</ion-segment>\n	</div>\n\n\n	<ion-list *ngIf="description && description.contact" >\n	 	\n	 	<div [ngSwitch]="segement">\n\n	 		<div *ngSwitchCase="\'contact\'">\n	 			\n	 			<div class="profile-div">\n				    <div class="profile-pic" >\n				      <img [src]="profile_pic" (click)=openCamera()>\n				    </div>\n				    <ion-icon ios="ios-camera" md="md-camera"></ion-icon>\n				</div>\n\n				<ion-list-header [class]="item_header_class"  [style.color]="color" >\n					Firstname\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.first_name}} \n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n			        <input [class]="input_class" type="text" \n			        	   [(ngModel)]="description.contact.first_name" \n			        	   name="first_name" required \n			        	   placeholder="Firstname"/>\n			    </ion-item>\n\n				<ion-list-header [class]="item_header_class"  [style.color]="color" >\n			        Lastname\n			    </ion-list-header>\n\n			    <ion-item *ngIf="!is_edit">\n					{{description.contact.last_name}} \n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n					<input [class]="input_class" type="text" \n					       [(ngModel)]="description.contact.last_name" \n					       name="last_name" required \n					       placeholder="Lastname"/>\n				</ion-item>\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Email\n					<button ion-button clear item-end no-padding (click)="email(description.contact.email)" > <ion-icon name="mail"></ion-icon></button>\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.email}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n					<input [class]="input_class" type="email"   \n					       [(ngModel)]="description.contact.email" \n					       name="email" required \n					       placeholder="Email"/>\n				</ion-item>\n\n\n				<div *ngFor="let person_attr of description.contact.attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(person_attr.id,\'person\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(person_attr.id, person_attr.value)" > <ion-icon [name]="access(person_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit" >\n						{{person_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="person_attr.value" \n							   [name]="attrName(person_attr.id,\'person\')" required \n							   [placeholder]="attrName(person_attr.id,\'person\')"/>\n					</ion-item>\n\n				</div>\n\n\n				<div *ngFor="let employee_attr of description.contact.employee_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(employee_attr.id,\'employee\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(employee_attr.id, employee_attr.value)" > <ion-icon [name]="access(employee_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit" >\n						{{employee_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="employee_attr.value" \n							   [name]="attrName(employee_attr.id,\'employee\')" required \n							   [placeholder]="attrName(employee_attr.id,\'employee\')"/>\n					</ion-item>\n\n				</div>\n			</div>\n\n			<div *ngSwitchCase="\'site\'">\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Site\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.site_name}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n\n		        	<ion-select [(ngModel)]="description.contact.cs_id" class="item-margin" (ionChange)="getContactDepartments(description.contact.cs_id)" >\n			          <ion-option  *ngFor="let site of sites" value="{{site.id}}"> \n			            {{site.name}}\n			          </ion-option>\n			        </ion-select>\n\n			    </ion-item>\n\n				<div *ngFor="let site_attr of description.contact.site_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n					  {{ attrName(site_attr.id,\'site\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(site_attr.id, employee_attr.value)" > <ion-icon [name]="access(site_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit">\n						{{site_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="site_attr.value" \n							   [name]="attrName(site_attr.id,\'site\')" required \n							   [placeholder]="attrName(site_attr.id,\'site\')"/>\n					</ion-item>\n\n				</div>\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Department\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.department_name}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n			        \n			        <ion-select [(ngModel)]="description.contact.cd_id" class="item-margin" (ionChange)="getContactDepartmentAttrs(description.contact.cd_id)" >\n			          <ion-option  *ngFor="let department of departments" value="{{department.id}}"> \n			            {{department.name}}\n			          </ion-option>\n			        </ion-select>\n\n			    </ion-item>\n\n				<div *ngFor="let department_attr of description.contact.department_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(department_attr.id,\'department\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(department_attr.id, employee_attr.value)" > <ion-icon [name]="access(department_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit">\n						{{department_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="department_attr.value" \n							   [name]="attrName(department_attr.id,\'department\')" required \n							   [placeholder]="attrName(department_attr.id,\'department\')"/>\n					</ion-item>\n\n				</div>\n			</div>\n\n		</div>\n\n	</ion-list>\n\n   	<ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n   	<ion-grid class="grid-reload" *ngIf="permission"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Permission not found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n\n</ion-content>\n\n\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="description && description.contact">\n\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_agenda_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_documents_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'equipment\')" value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_equipments_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="grid" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_locations_count}}</ion-badge></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && description && description.contact">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/show/show.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__["a" /* CallNumber */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */], __WEBPACK_IMPORTED_MODULE_7__helpers_camera_helper__["a" /* CameraHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__["a" /* CallNumber */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_camera_helper__["a" /* CameraHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__["a" /* InAppBrowser */],
            __WEBPACK_IMPORTED_MODULE_14__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], ContactInternalDescription);
    return ContactInternalDescription;
}());

//# sourceMappingURL=show.js.map

/***/ }),

/***/ 474:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedAgendaForDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agenda_create_create__ = __webpack_require__(78);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedAgendaForDocuments = (function () {
    function CreateLinkedAgendaForDocuments(navCtrl, params, events, TasksService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.events = events;
        this.TasksService = TasksService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.agendas = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
        // this.events.subscribe('document:linked_task', (task_id) => {
        //   this.link.task_id = task_id;
        // });
    }
    CreateLinkedAgendaForDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.agendas = data;
                });
            }, 500);
        }
    };
    CreateLinkedAgendaForDocuments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.agendas.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.agendas.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedAgendaForDocuments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.saveLinkedAgenda(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda__["a" /* LinkedAgendaWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedAgendaForDocuments.prototype.initTask = function (task) {
        this.link.name = task.name;
        this.link.task_id = task.id;
        this.link.document_id = this.params.get('document_id');
    };
    CreateLinkedAgendaForDocuments.prototype.addTask = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__agenda_create_create__["a" /* AgendaCreate */], { page: 'document' });
    };
    CreateLinkedAgendaForDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/agenda/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search tasks\n      <button class="add-person" ion-button clear item-end  (click)="addTask()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && agendas?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let agenda of agendas">\n                 <ion-label>{{agenda.name}}</ion-label>\n                 <ion-radio (click)="initTask(agenda)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/agenda/create/create.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedAgendaForDocuments);
    return CreateLinkedAgendaForDocuments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 475:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedContactExternalWithAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_external_create_create__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var LinkedContactExternalWithAgenda = (function () {
    function LinkedContactExternalWithAgenda(navCtrl, params, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.contacts = [];
        this.backup = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    LinkedContactExternalWithAgenda.prototype.backButtonClick = function () {
        this.navCtrl.pop();
    };
    LinkedContactExternalWithAgenda.prototype.ionViewWillEnter = function () {
        this.getContacts();
    };
    LinkedContactExternalWithAgenda.prototype.getContacts = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getLinkedContactExternal(this.params.get('task_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.contacts = data;
                if (_this.contacts.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.contacts.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedContactExternalWithAgenda.prototype.view = function (contact) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__contact_external_show_show__["a" /* ContactExternalDescription */], { id: contact.row_id });
    };
    LinkedContactExternalWithAgenda.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getContacts();
            refresher.complete();
        }, 2000);
    };
    LinkedContactExternalWithAgenda.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getLinkedContactExternal(this.params.get('task_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.contacts.push(d);
                    });
                    _this.backup = _this.contacts.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedContactExternalWithAgenda.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.contacts = this.backup.filter(function (contact) {
                var condition = _this.fns.match(contact.first_name, val) ||
                    _this.fns.match(contact.last_name, val) ||
                    _this.fns.match(contact.relation_type, val) ||
                    _this.fns.match(contact.email, val);
                return (condition);
            });
        }
        else {
            this.contacts = this.backup;
        }
    };
    LinkedContactExternalWithAgenda.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedContactExternalWithAgenda.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_external_create_create__["a" /* CreateLinkedContactExternalForAgenda */], { task_id: this.params.get('task_id') });
    };
    LinkedContactExternalWithAgenda.prototype.reloadMe = function () {
        this.getContacts();
    };
    LinkedContactExternalWithAgenda.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.TasksService.deleteContactExternalLink(contact.link_id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getContacts();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedContactExternalWithAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_external/contact_external.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Contacts External\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let contact of contacts; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(contact);\'>\n           <h2 text-capitalize >{{contact.first_name}} {{contact.last_name}}</h2>\n           <p> {{contact.email}} - <span text-capitalize>{{contact.relation_type}}</span></p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(contact);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && contacts?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n  \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/contact_external/contact_external.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedContactExternalWithAgenda);
    return LinkedContactExternalWithAgenda;
}());

//# sourceMappingURL=contact_external.js.map

/***/ }),

/***/ 477:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocumentsWithCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_create_create__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





// import { ContactExternal } from '../../list/list';





var LinkedDocumentsWithCE = (function () {
    function LinkedDocumentsWithCE(navCtrl, params, TasksService, ContactService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    LinkedDocumentsWithCE.prototype.ionViewWillEnter = function () {
        this.getDocuments();
    };
    LinkedDocumentsWithCE.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedDocuments(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedDocumentsWithCE.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: t.document_id });
    };
    LinkedDocumentsWithCE.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: t.document_id });
    };
    LinkedDocumentsWithCE.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedDocumentsWithCE.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocumentsWithCE.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_create_create__["a" /* CreateLinkedDocumentForCE */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedDocumentsWithCE.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocumentsWithCE.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteDocumentLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocumentsWithCE.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        console.log(val);
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val) ||
                    _this.fns.match(document.relation_type, val) ||
                    _this.fns.match(document.cat_name, val) ||
                    _this.fns.match(document.sub_cat_name, val);
                return (condition);
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    LinkedDocumentsWithCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{document.designation}}</h2>\n           <p text-capitalize>{{document.cat_name}} - {{document.relation_type}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_9__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocumentsWithCE);
    return LinkedDocumentsWithCE;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 478:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Screen2; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__documents_create_uploading_uploading__ = __webpack_require__(196);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var Screen2 = (function () {
    function Screen2(navCtrl, DocumentService, Notifications, session, navParams) {
        this.navCtrl = navCtrl;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.session = session;
        this.navParams = navParams;
        this.category = [];
        this.subcategory = [];
        this.category_data = {};
        this.subcategory_data = {};
        this.documents = [];
        this.attributes = [];
        this.tags_data = [];
        this.category_id = '';
        this.subcategory_id = '';
        this.designation = '';
        this.model = {};
    }
    Screen2.prototype.ionViewDidLoad = function () {
        this.attributes = this.navParams.data.attributes;
        this.category_id = this.navParams.data.category_id;
        this.categories_attrs = this.navParams.data.attributes;
        //console.log("sdfsdfsf",this.navParams.data.attributes);
        this.subcategory_id = this.navParams.data.subcategory_id;
        this.sub_categories_attrs = this.attributes.sub_categories_attrs;
        this.tags_data = this.navParams.data.tagss;
    };
    Screen2.prototype.onSubmit = function () {
        alert('SUCCESS!! :-)\n\n' + JSON.stringify(this.model));
    };
    Screen2.prototype.userLang = function (data, type) {
        if (type === void 0) { type = 'json'; }
        var current_user = this.session.getUser();
        return JSON.parse(data)[current_user.user_lang_id];
    };
    Screen2.prototype.next = function () {
        // console.log("designation :"+this.designation+" && tags :"+this.tags);
        if (this.designation != '' && this.tags != '') {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__documents_create_uploading_uploading__["a" /* Uploading */], { attributes: this.attributes,
                category_id: this.category_id,
                category_name: this.navParams.data.category_name,
                subcategory_name: this.navParams.data.subcategory_name,
                subcategory_id: this.subcategory_id,
                category_data: this.category_data,
                subcategory_data: this.subcategory_data,
                designation: this.designation,
                tags: this.tags,
                row_id: this.navParams.data.row_id,
                page: this.navParams.data.page,
                request_id: this.navParams.data.request_id
            });
        }
        else {
            this.Notifications.presentToast('Please select the required values');
        }
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Screen2.prototype, "navBar", void 0);
    Screen2 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create-screen2',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen2/screen2.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Input Attributes\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n	<ion-list>\n		<div>\n			<ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n			Infos\n			</ion-list-header>\n			<div>\n				<ion-item>\n					<input class="text-input text-input-ios" type="text" [(ngModel)]="designation" name="designation" required placeholder="Designation *"/>\n				</ion-item>\n			</div>\n		</div>\n		\n		<div *ngIf="categories_attrs?.length > 0">\n			\n			<ion-list-header class="item item-ios list-header list-header-ios screen-header">\n				Category\n			</ion-list-header>\n			<div *ngFor="let ca of categories_attrs">\n				\n				<ion-item *ngIf=" ca.attr_type == \'text\' || ca.attr_type == \'number\' ">\n					<input class="text-input text-input-ios" type="{{ca.attr_type}}" [(ngModel)]="category_data[ca.id]" name="{{ca.name}}" required placeholder="{{ca.name}}"/>\n				</ion-item>\n\n				<ion-item *ngIf=" ca.attr_type == \'date\' " class="item-margin" >\n					<ion-datetime displayFormat="DD/MM/YYYY" style="padding:0;" [(ngModel)]="category_data[ca.id]"  pickerFormat="DD MMM YYYY" placeholder="{{ca.name}}" ></ion-datetime>\n				</ion-item>\n\n				<ion-item *ngIf=" ca.attr_type == \'list\' ">\n					<ion-label>{{ca.name}}</ion-label>\n					<ion-select [(ngModel)]="category_data[ca.id]" class="item-margin">\n						<ion-option *ngFor="let op of ca.options" value="{{op}}" >{{op}}</ion-option>\n					</ion-select>\n				</ion-item>\n\n			</div>\n		</div>\n		\n		<div *ngIf="sub_categories_attrs?.length > 0">\n			<ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n			Sub Category\n			</ion-list-header>\n			<div *ngFor="let sa of sub_categories_attrs">\n				<ion-item *ngIf=" sa.attr_type == \'text\' || sa.attr_type == \'number\' ">\n						<input class="text-input text-input-ios" type="text" name="username" [(ngModel)]="subcategory_data[sa.id]" required placeholder="{{sa.name}}"/>\n				</ion-item>\n				<ion-item *ngIf=" sa.attr_type == \'date\' " class="item-margin" >\n					<ion-datetime displayFormat="DD/MM/YYYY" style="padding:0" [(ngModel)]="subcategory_data[sa.id]" pickerFormat="DD MMM YYYY" placeholder="{{sa.name}}" ></ion-datetime>\n				</ion-item>\n\n				<ion-item *ngIf=" sa.attr_type == \'list\' " class="item-margin" >\n					<ion-label>{{sa.name}}</ion-label>\n					<ion-select [(ngModel)]="subcategory_data[sa.id]">\n						<ion-option *ngFor="let op of sa.options" value="{{op}}" >{{op}}</ion-option>\n					</ion-select>\n				</ion-item>\n			</div>\n		</div>\n		\n		<div>\n			<ion-list-header class="item item-ios list-header list-header-ios screen-header" >\n			Tags *\n			</ion-list-header>\n\n			<ion-item>\n			  <ion-label>Select Tags</ion-label>\n			  <ion-select [(ngModel)]="tags" multiple="true">\n			    <ion-option *ngFor="let t of tags_data" value="{{t.id}}">{{t.tag_name}}</ion-option>\n			  </ion-select>\n			</ion-item>\n		</div>\n\n	</ion-list>\n</ion-content>\n '/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen2/screen2.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], Screen2);
    return Screen2;
}());

//# sourceMappingURL=screen2.js.map

/***/ }),

/***/ 479:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Screen3; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_file__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__ = __webpack_require__(122);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var Screen3 = (function () {
    function Screen3(navCtrl, _ngZone, DocumentService, Notifications, transfer, actionSheetCtrl, filePath, file, session, navParams) {
        this.navCtrl = navCtrl;
        this._ngZone = _ngZone;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.transfer = transfer;
        this.actionSheetCtrl = actionSheetCtrl;
        this.filePath = filePath;
        this.file = file;
        this.session = session;
        this.navParams = navParams;
        this.category = [];
        this.subcategory = [];
        this.documents = [];
        this.image_data = [];
        this.files = [];
        this.tempfiles = [];
        this.category_id = '';
        this.subcategory_id = '';
        this.designation = '';
        this.lastImage = '';
        this.category_data = {};
        this.subcategory_data = {};
        this.category_files_data = {};
        this.subcategory_files_data = {};
        this.ca_f = {};
        this.select_files = {};
        this.category_data = this.navParams.data.category_data;
        this.category_id = this.navParams.data.category_id;
        this.subcategory_data = this.navParams.data.subcategory_data;
        this.subcategory_id = this.navParams.data.subcategory_id;
        this.designation = this.navParams.data.designation;
        this.categories_attrs = this.navParams.data.attributes.categories_attrs;
        this.sub_categories_attrs = this.navParams.data.attributes.sub_categories_attrs;
        this.tags = this.navParams.data.tags;
        console.log("uploading running here");
    }
    // fileTransfer: TransferObject = this.transfer.create();
    Screen3.prototype.ionViewDidLoad = function () {
        this.loadFiles();
    };
    Screen3.prototype.loadFiles = function () {
        var _this = this;
        this.files = this.session.getUrl();
        var opFiles = [];
        this.select_files = {};
        this.category_files_data = {};
        this.subcategory_files_data = {};
        if (this.files && this.files.length > 0) {
            this.files.forEach(function (f) {
                opFiles.push({
                    'path': f,
                    'is_disabled': false
                });
            });
            Object.keys(this.categories_attrs).forEach(function (d) {
                _this.select_files[_this.categories_attrs[d].id + '_' + 'c'] = opFiles;
            });
            Object.keys(this.sub_categories_attrs).forEach(function (d) {
                _this.select_files[_this.sub_categories_attrs[d].id + '_' + 's'] = opFiles;
            });
        }
    };
    Screen3.prototype.userLang = function (data, type) {
        if (type === void 0) { type = 'json'; }
        var current_user = this.session.getUser();
        return JSON.parse(data)[current_user.user_lang_id];
    };
    Screen3.prototype.save = function () {
        var _this = this;
        this.Notifications.presentLoader();
        if (this.navParams.data.doc_id) {
            this.Notifications.dismissLoader();
            this.uploadQueue(this.navParams.data.doc_id);
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: this.navParams.data.doc_id });
        }
        else {
            this.DocumentService.create({ category: this.category_data,
                category_id: this.category_id,
                designation: this.designation,
                subcategory_id: this.subcategory_id,
                subcategory: this.subcategory_data,
                subcategory_files: this.subcategory_files_data,
                tags: this.tags,
                category_files: this.category_files_data,
                row_id: this.navParams.data.row_id,
                page: this.navParams.data.page,
                request_id: this.navParams.data.request_id })
                .then(function (data) {
                _this.Notifications.dismissLoader();
                if (data.main_success) {
                    _this.uploadQueue(data.doc_id);
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__documents_list_documents_list__["a" /* DocumentsList */]);
                }
                else {
                    _this.Notifications.presentToast(data.main_message);
                }
            });
        }
    };
    Screen3.prototype.selectFile = function (id, t) {
        var _this = this;
        var nid = id + '_' + t;
        Object.keys(this.select_files).forEach(function (d) {
            if (d !== nid) {
                _this.select_files[d].forEach(function (f, i) {
                    if (t == 'c') {
                        if (_this.category_files_data[id].indexOf(i + '') !== -1) {
                            _this.select_files[d][i].is_disabled = true;
                        }
                    }
                    else {
                        if (_this.subcategory_files_data[id].indexOf(i + '') !== -1) {
                            _this.select_files[d][i].is_disabled = true;
                        }
                    }
                });
            }
        });
    };
    Screen3.prototype.count = function (r, a, c) {
        if (a === void 0) { a = ['file', 'image']; }
        if (c === void 0) { c = 0; }
        for (var v in r) {
            if (a.indexOf(r[v]['attr_type']) !== -1) {
                c++;
            }
        }
        return c;
    };
    Screen3.prototype.getName = function (f) {
        var _arr = f.split('/');
        return _arr[_arr.length - 1];
    };
    Screen3.prototype.upload = function (uri, d, doc_id, i, u, f) {
        var _this = this;
        if (u === void 0) { u = 0; }
        if (f === void 0) { f = 0; }
        var keys = Object.keys(this.ca_f);
        var is_cat = keys[i][keys[i].length - 1] == 'c' ? true : false;
        i = i + 1;
        var next = keys[i];
        var current_user = this.session.getUser();
        var fileTransfer = this.transfer.create();
        var params = { 'fileName': this.getName(uri),
            'org_user_id': current_user.user_id,
            'org_id': current_user.user_org_id,
            'doc_id': doc_id,
            'req_id': '',
            'type': ''
        };
        if (is_cat) {
            params.req_id = d;
            params.type = 'cat';
        }
        else {
            params.req_id = d;
            params.type = 'subcat';
        }
        var options = {
            fileKey: 'file',
            fileName: this.getName(uri),
            mimeType: "multipart/form-data",
            params: params
        };
        fileTransfer.onProgress(function (progressEvent) {
            if (progressEvent.lengthComputable) {
                var progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);
                _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length, progress);
                _this._ngZone.run(function () { });
            }
        });
        fileTransfer.upload(uri, __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'auth/document_downloads', options)
            .then(function (data) {
            u = u + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { });
            if (next) {
                _this.upload(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        }, function (err) {
            f = f + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { });
            if (next) {
                _this.upload(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        });
    };
    Screen3.prototype.uploadQueue = function (doc_id) {
        var _this = this;
        var i = 0;
        Object.keys(this.category_files_data).forEach(function (d) {
            _this.category_files_data[d].forEach(function (e) {
                var indx = _this.category_files_data[d].indexOf(e);
                _this.ca_f[d + '_' + indx + '_c'] = _this.files[e];
            });
        });
        Object.keys(this.subcategory_files_data).forEach(function (s) {
            _this.subcategory_files_data[s].forEach(function (si) {
                var indx = _this.subcategory_files_data[s].indexOf(si);
                _this.ca_f[s + '_' + indx + '_s'] = _this.files[si];
            });
        });
        var fst = Object.keys(this.ca_f);
        if (fst.length > 0) {
            var fst_key = fst[i];
            this.Notifications.uploadingToast('Uploading Files');
            this.upload(this.ca_f[fst_key], fst_key.split('_')[i], doc_id, i);
        }
    };
    Screen3.prototype.presentActionSheet = function () {
        var _this = this;
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: [
                {
                    text: 'Save',
                    handler: function () {
                        _this.save();
                    }
                },
                {
                    text: 'Reset',
                    handler: function () {
                        _this.loadFiles();
                    }
                }, {
                    text: 'Cancel',
                    role: 'cancel'
                }
            ]
        });
        actionSheet.present();
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Screen3.prototype, "navBar", void 0);
    Screen3 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create-screen3',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen3/screen3.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Files\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="presentActionSheet()" clear><ion-icon ios="ios-log-in" md="md-log-in" style="font-size:1.8em"></ion-icon></button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n\n	<ion-list>\n		<div *ngIf="count(categories_attrs) > 0">\n			\n			<ion-list-header class="item item-ios list-header list-header-ios" style="color:#488aff;border-top:0">\n			Category\n			</ion-list-header>\n			\n			<div *ngFor="let ca of categories_attrs">\n\n				<ion-item *ngIf=" ca.attr_type == \'image\' ">\n					<ion-label>{{ca.name}}</ion-label>\n					<ion-select multiple="true" [(ngModel)]="category_files_data[ca.id]" (ionChange)="selectFile(ca.id,\'c\')" style="margin: 11px 8px 11px 0;">\n						<ion-option *ngFor="let f of select_files[ca.id+\'_c\']; let i = index" value="{{i}}"  [disabled]="f.is_disabled" >{{getName(f.path)}}</ion-option>\n					</ion-select>\n				</ion-item>\n\n				<ion-item *ngIf=" ca.attr_type == \'file\' ">\n					<ion-label>{{ca.name}}</ion-label>\n					<ion-select multiple="true" [(ngModel)]="category_files_data[ca.id]" (ionChange)="selectFile(ca.id,\'c\')" style="margin: 11px 8px 11px 0;">\n						<ion-option *ngFor="let f of select_files[ca.id+\'_c\']; let i = index" value="{{i}}"  [disabled]="f.is_disabled" >{{getName(f.path)}}</ion-option>\n					</ion-select>\n				</ion-item>\n			</div>\n		</div>\n\n		<div *ngIf="count(sub_categories_attrs,[\'file\',\'image\']) > 0">\n			\n			<ion-list-header class="item item-ios list-header list-header-ios" style="color:#488aff;border-top:0">\n			Sub Category\n			</ion-list-header>\n			\n			<div *ngFor="let sa of sub_categories_attrs">\n				\n				<ion-item *ngIf=" sa.attr_type == \'image\' ">\n					<ion-label>{{ca.name}}</ion-label>\n					<ion-select multiple="true" [(ngModel)]="subcategory_files_data[sa.id]" (ionChange)="selectFile(sa.id,\'s\')" style="margin: 11px 8px 11px 0;">\n						<ion-option *ngFor="let f of select_files[sa.id+\'_s\']; let i = index" value="{{i}}" [disabled]="f.is_disabled" >{{getName(f.path)}}</ion-option>\n					</ion-select>\n				</ion-item>\n\n				<ion-item *ngIf=" sa.attr_type == \'file\' ">\n					<ion-label>{{sa.name}}</ion-label>\n					<ion-select multiple="true" [(ngModel)]="subcategory_files_data[sa.id]" (ionChange)="selectFile(sa.id,\'s\')" style="margin: 11px 8px 11px 0;">\n						<ion-option *ngFor="let f of select_files[sa.id+\'_s\']; let i = index" value="{{i}}" [disabled]="f.is_disabled" >{{getName(f.path)}}</ion-option>\n					</ion-select>\n				</ion-item>\n\n			</div>\n\n		</div>\n\n	</ion-list>\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen3/screen3.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_9__ionic_native_file__["a" /* File */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */], __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_9__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], Screen3);
    return Screen3;
}());

//# sourceMappingURL=screen3.js.map

/***/ }),

/***/ 480:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedAgendaForCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__agenda_create_create__ = __webpack_require__(78);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var CreateLinkedAgendaForCI = (function () {
    function CreateLinkedAgendaForCI(navCtrl, params, TasksService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.agendas = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedAgendaForCI.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.agendas = data;
                });
            }, 500);
        }
    };
    CreateLinkedAgendaForCI.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.agendas.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.agendas.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedAgendaForCI.prototype.save = function () {
        var _this = this;
        this.ContactService.saveLinkedAgendaCI(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda__["a" /* LinkedAgendaWithCI */], { row_id: _this.params.get('row_id'), contact_id: _this.params.get('contact_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedAgendaForCI.prototype.initTask = function (task) {
        this.link.name = task.name;
        this.link.task_id = task.id;
    };
    CreateLinkedAgendaForCI.prototype.addTask = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__agenda_create_create__["a" /* AgendaCreate */], { page: 'linked_contact_internal', row_id: this.params.get('row_id'), request_id: this.params.get('contact_id') });
    };
    CreateLinkedAgendaForCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/agenda/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search tasks\n      <button class="add-person" ion-button clear item-end  (click)="addTask()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && agendas?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let agenda of agendas">\n                 <ion-label>{{agenda.name}}</ion-label>\n                 <ion-radio (click)="initTask(agenda)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/agenda/create/create.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedAgendaForCI);
    return CreateLinkedAgendaForCI;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 481:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedAgendaForInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__agenda_create_create__ = __webpack_require__(78);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedAgendaForInfrastructure = (function () {
    function CreateLinkedAgendaForInfrastructure(navCtrl, params, TasksService, InfrastructureService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.agendas = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.location_id = this.params.get('location_id');
    }
    CreateLinkedAgendaForInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.agendas = data;
                });
            }, 500);
        }
    };
    CreateLinkedAgendaForInfrastructure.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.agendas.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.agendas.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedAgendaForInfrastructure.prototype.save = function () {
        var _this = this;
        this.InfrastructureService.saveLinkedAgenda(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda__["a" /* LinkedAgendaWithInfrastructure */], { location_id: _this.params.get('location_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedAgendaForInfrastructure.prototype.initTask = function (task) {
        this.link.name = task.name;
        this.link.task_id = task.id;
    };
    CreateLinkedAgendaForInfrastructure.prototype.addTask = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__agenda_create_create__["a" /* AgendaCreate */], { page: 'linked_infrastructure', request_id: this.params.get('location_id') });
    };
    CreateLinkedAgendaForInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/agenda/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search tasks\n      <button class="add-person" ion-button clear item-end  (click)="addTask()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && agendas?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let agenda of agendas">\n                 <ion-label>{{agenda.name}}</ion-label>\n                 <ion-radio (click)="initTask(agenda)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/agenda/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedAgendaForInfrastructure);
    return CreateLinkedAgendaForInfrastructure;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 482:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatePerson; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen3__ = __webpack_require__(210);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreatePerson = (function () {
    function CreatePerson(navCtrl, Notification, params, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.person = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.person.contact_org_id = this.params.get('org_id');
        this.person.contact_division_id = this.params.get('division_id');
        this.createPersonFields();
    }
    CreatePerson.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.savePerson(this.person)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(data.message);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen3__["a" /* ContactExternalCreateScreen3 */], { id: _this.params.get('org_id'), division_id: _this.params.get('division_id'), person_id: data.person_id, page: _this.params.get('page') });
        });
    };
    CreatePerson.prototype.createPersonFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreatePerson = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Person\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        First Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="person.first_name"  required placeholder="First Name"/>\n      </ion-item>\n    \n      <ion-list-header [class]="header_class">\n       Last Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="person.last_name"  required placeholder="First Name"/>\n      </ion-item>\n\n      <div *ngFor="let per of data.attributes.person">\n          \n         <ion-list-header [class]="header_class">\n          {{per.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="person.attributes[per.id]" required placeholder="{{per.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreatePerson);
    return CreatePerson;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 483:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadProfilePictureCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__list_list__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__documents_links_contact_external_create_create__ = __webpack_require__(130);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var UploadProfilePictureCE = (function () {
    function UploadProfilePictureCE(navCtrl, Notification, params, camera, transfer, session, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.camera = camera;
        this.transfer = transfer;
        this.session = session;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.person = { name: '', attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.fileTransfer = this.transfer.create();
        this.current_user = this.session.getUser();
        this.image_data = "assets/img/dummy_user.png";
        this.contact = this.params.get('contact');
        this.contact_data = this.params.get('contact_data');
    }
    UploadProfilePictureCE.prototype.skip = function () {
        this.goTo();
    };
    UploadProfilePictureCE.prototype.openCamera = function () {
        var _this = this;
        this.camera.action(function (image) {
            _this.upload(image);
        });
    };
    UploadProfilePictureCE.prototype.getPersonName = function () {
        var _this = this;
        var name = '';
        this.contact_data.persons.forEach(function (per) {
            if (per.id == _this.contact.person) {
                name = per.first_name + ' ' + per.last_name;
            }
        });
        return name;
    };
    UploadProfilePictureCE.prototype.upload = function (imageData) {
        var _this = this;
        var options = {
            fileKey: 'file',
            fileName: 'file.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'file.jpg',
                'org_user_id': this.current_user.user_id,
                'employee_id': this.contact.id,
                'org_id': this.current_user.user_org_id
            }
        };
        this.Notification.presentLoader();
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'uploads/profile_pic_ce', options)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast("Profile picture updated successfully");
            _this.goTo();
        }, function (err) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast("Unable to update profile picture");
        });
    };
    UploadProfilePictureCE.prototype.goTo = function () {
        switch (this.params.get('page')) {
            case 'linked_documents':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__documents_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForDocuments */]);
                break;
            default:
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__list_list__["a" /* ContactExternal */]);
                break;
        }
    };
    UploadProfilePictureCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/upload/upload.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Upload Profile Picture\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="skip()" clear>skip</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  \n  <div class="profile-div">\n     <div class="profile-pic" >\n      <img [src]="this.image_data" (click)=openCamera()>\n    </div>\n    <ion-icon ios="ios-camera" md="md-camera"></ion-icon>\n  </div>\n\n\n  <ion-list-header [class]="header_class">\n    Person\n  </ion-list-header>\n\n  <ion-item>\n    {{getPersonName()}}\n  </ion-item>\n\n\n  <ion-list-header [class]="header_class">\n    Email\n  </ion-list-header>\n\n  <ion-item>\n    {{contact.email}}\n  </ion-item>\n\n  <div *ngFor="let emp of contact_data.attributes.contact">\n      \n    <ion-list-header [class]="header_class">\n      {{emp.name}}\n    </ion-list-header>\n\n    <ion-item>\n      {{contact.attributes[emp.id]}}\n    </ion-item>\n\n  </div>\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen3/upload/upload.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__["a" /* CameraHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__["a" /* CameraHelper */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], UploadProfilePictureCE);
    return UploadProfilePictureCE;
}());

//# sourceMappingURL=upload.js.map

/***/ }),

/***/ 484:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateDivision; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen2__ = __webpack_require__(209);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateDivision = (function () {
    function CreateDivision(navCtrl, Notification, params, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.division = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.division.contact_org_id = this.params.get('org_id');
        this.createDivFields();
    }
    CreateDivision.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveDiv(this.division)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(data.message);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen2__["a" /* ContactExternalCreateScreen2 */], { id: _this.params.get('org_id') });
        });
    };
    CreateDivision.prototype.createDivFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreateDivision = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen2/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Division\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="division.name"  required placeholder="Name"/>\n      </ion-item>\n\n      <div *ngFor="let div of data.attributes.division">\n          \n         <ion-list-header [class]="header_class">\n          {{div.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="division.attributes[div.id]" required placeholder="{{div.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen2/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreateDivision);
    return CreateDivision;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 485:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateOrganisation; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen1__ = __webpack_require__(80);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateOrganisation = (function () {
    function CreateOrganisation(navCtrl, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.organisation = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.createOrgFields();
    }
    CreateOrganisation.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveOrg(this.organisation)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(data.message);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen1__["a" /* ContactExternalCreateScreen1 */]);
        });
    };
    CreateOrganisation.prototype.createOrgFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreateOrganisation = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen1/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Organisation\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="organisation.name"  required placeholder="Name"/>\n      </ion-item>\n\n      <div *ngFor="let org of data.attributes.organization">\n          \n         <ion-list-header [class]="header_class">\n          {{org.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="organisation.attributes[org.id]" required placeholder="{{org.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen1/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreateOrganisation);
    return CreateOrganisation;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 486:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreatePersonCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen3__ = __webpack_require__(217);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreatePersonCI = (function () {
    function CreatePersonCI(navCtrl, Notification, params, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.person = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.person.contact_site_id = this.params.get('site_id');
        this.person.contact_department_id = this.params.get('department_id');
        this.createPersonFields();
    }
    CreatePersonCI.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.savePersonCI(this.person)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.permission) {
                _this.Notification.presentToast(data.message);
            }
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen3__["a" /* ContactInternalCreateScreen3 */], { site_id: _this.person.contact_site_id, department_id: _this.person.contact_department_id, person_id: data.person_id });
        });
    };
    CreatePersonCI.prototype.createPersonFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreatePersonCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Person\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        First Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="person.first_name"  required placeholder="First Name"/>\n      </ion-item>\n    \n      <ion-list-header [class]="header_class">\n       Last Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="person.last_name"  required placeholder="First Name"/>\n      </ion-item>\n\n      <div *ngFor="let per of data.attributes.person">\n          \n         <ion-list-header [class]="header_class">\n          {{per.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="person.attributes[per.id]" required placeholder="{{per.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreatePersonCI);
    return CreatePersonCI;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 487:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UploadProfilePictureCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__list_list__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__documents_links_contact_internal_create_create__ = __webpack_require__(133);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var UploadProfilePictureCI = (function () {
    function UploadProfilePictureCI(navCtrl, Notification, params, camera, transfer, session, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.camera = camera;
        this.transfer = transfer;
        this.session = session;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.person = { name: '', attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.fileTransfer = this.transfer.create();
        this.current_user = this.session.getUser();
        this.image_data = "assets/img/dummy_user.png";
        this.employee = this.params.get('employee');
        console.log(this.employee);
        this.employee_data = this.params.get('employee_data');
        console.log(this.params);
    }
    UploadProfilePictureCI.prototype.skip = function () {
        this.goTo();
    };
    UploadProfilePictureCI.prototype.openCamera = function () {
        var _this = this;
        this.camera.action(function (image) {
            _this.upload(image);
        });
    };
    UploadProfilePictureCI.prototype.getPersonName = function () {
        var _this = this;
        var name = '';
        this.employee_data.persons.forEach(function (per) {
            if (per.id == _this.employee.person) {
                name = per.first_name + ' ' + per.last_name;
            }
        });
        return name;
    };
    UploadProfilePictureCI.prototype.upload = function (imageData) {
        var _this = this;
        var options = {
            fileKey: 'file',
            fileName: 'file.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'file.jpg',
                'org_user_id': this.current_user.user_id,
                'employee_id': this.employee.id,
                'org_id': this.current_user.user_org_id
            }
        };
        this.Notification.presentLoader();
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].api_url + 'uploads/profile_pic_ci', options)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast("Profile picture updated successfully");
            _this.goTo();
        }, function (err) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast("Unable to update profile picture");
        });
    };
    UploadProfilePictureCI.prototype.goTo = function () {
        switch (this.params.get('page')) {
            case 'linked_documents':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__documents_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForDocuments */], { document_id: this.params.get('document_id') });
                break;
            default:
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__list_list__["a" /* ContactInternal */]);
                break;
        }
    };
    UploadProfilePictureCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/upload/upload.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Upload Profile Picture\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="skip()" clear>skip</button>\n    </ion-buttons>\n    \n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n  \n  <div class="profile-div">\n     <div class="profile-pic" >\n      <img [src]="this.image_data" (click)=openCamera()>\n    </div>\n    <ion-icon ios="ios-camera" md="md-camera"></ion-icon>\n  </div>\n\n\n  <ion-list-header [class]="header_class">\n    Person\n  </ion-list-header>\n\n  <ion-item>\n    {{getPersonName()}}\n  </ion-item>\n\n\n  <ion-list-header [class]="header_class">\n    Email\n  </ion-list-header>\n\n  <ion-item>\n    {{employee.email}}\n  </ion-item>\n\n  <div *ngFor="let emp of employee_data.attributes.employee">\n      \n    <ion-list-header [class]="header_class">\n      {{emp.name}}\n    </ion-list-header>\n\n    <ion-item>\n      {{employee.attributes[emp.id]}}\n    </ion-item>\n\n  </div>\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen3/upload/upload.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__["a" /* CameraHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_camera_helper__["a" /* CameraHelper */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], UploadProfilePictureCI);
    return UploadProfilePictureCI;
}());

//# sourceMappingURL=upload.js.map

/***/ }),

/***/ 488:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateDepartment; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen2__ = __webpack_require__(216);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateDepartment = (function () {
    function CreateDepartment(navCtrl, Notification, params, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.department = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.department.site_id = this.params.get('site_id');
        this.createDeptFields();
    }
    CreateDepartment.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveDepartment(this.department)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(data.message);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen2__["a" /* ContactInternalCreateScreen2 */], { id: _this.params.get('site_id') });
        });
    };
    CreateDepartment.prototype.createDeptFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactInternalFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreateDepartment = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen2/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Department\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="department.name"  required placeholder="Name"/>\n      </ion-item>\n\n      <div *ngFor="let dept of data.attributes.department">\n          \n         <ion-list-header [class]="header_class">\n          {{dept.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="department.attributes[dept.id]" required placeholder="{{dept.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen2/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreateDepartment);
    return CreateDepartment;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 489:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateSite; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__screen1__ = __webpack_require__(81);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateSite = (function () {
    function CreateSite(navCtrl, Notification, params, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.Notification = Notification;
        this.params = params;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.site = { name: '', attributes: {} };
        this.reload = false;
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.createOrgFields();
    }
    CreateSite.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveSite(this.site)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast(data.message);
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__screen1__["a" /* ContactInternalCreateScreen1 */]);
        });
    };
    CreateSite.prototype.createOrgFields = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactInternalFields()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.data = data;
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    CreateSite = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen1/create/create.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Site\n    </ion-title>\n\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n  <ion-list *ngIf="data">\n    \n      <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="site.name"  required placeholder="Name"/>\n      </ion-item>\n\n      <div *ngFor="let s of data.attributes.site">\n          \n         <ion-list-header [class]="header_class">\n          {{s.name}}\n        </ion-list-header>\n\n        <ion-item>\n          <input [class]="input_class" type="text" [(ngModel)]="site.attributes[s.id]" required placeholder="{{s.name}}"/>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n</ion-content>\n\n<ion-footer>\n \n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen1/create/create.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], CreateSite);
    return CreateSite;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 490:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForInfrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__equipments__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_articles_articles__ = __webpack_require__(100);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedEquipmentForInfrastructure = (function () {
    function CreateLinkedEquipmentForInfrastructure(navCtrl, params, fns, EquipmentService, InfrastructureService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.EquipmentService = EquipmentService;
        this.InfrastructureService = InfrastructureService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.articles = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.location_id = this.params.get('location_id');
        this.levels_data_id = this.params.get('levels_data_id');
        this.model_data_id = this.params.get('model_data_id');
    }
    CreateLinkedEquipmentForInfrastructure.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.getArticles(1, _this.search.toLowerCase(), 0, 0)
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.articles = data.articles_data;
                    _this.attributes = data.article_attrs;
                    if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = true;
                    }
                });
            }, 500);
        }
    };
    CreateLinkedEquipmentForInfrastructure.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    CreateLinkedEquipmentForInfrastructure.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.InfrastructureService.saveLinkedEquipment(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__equipments__["a" /* LinkedEquipmentWithInfrastructure */], { location_id: _this.params.get('location_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedEquipmentForInfrastructure.prototype.initLocation = function (article) {
        this.link.name = this.getFirst(article);
        this.link.equipment_id = article.id;
    };
    CreateLinkedEquipmentForInfrastructure.prototype.addEquipment = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Equipment (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__["a" /* CreateEquipmentLevel */], { parent_id: 0 });
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_articles_articles__["a" /* CreateArticleModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedEquipmentForInfrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/equipments/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Equipment\n      <button class="add-person" ion-button clear item-end  (click)="addEquipment()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && articles?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let article of articles">\n                 <ion-label>{{getFirst(article)}}</ion-label>\n                 <ion-radio (click)="initLocation(article)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/links/equipments/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedEquipmentForInfrastructure);
    return CreateLinkedEquipmentForInfrastructure;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 491:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedAgendaForEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__agenda_create_create__ = __webpack_require__(78);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedAgendaForEquipments = (function () {
    function CreateLinkedAgendaForEquipments(navCtrl, params, TasksService, EquipmentService, InfrastructureService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.EquipmentService = EquipmentService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.agendas = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.equipment_id = this.params.get('equipment_id');
    }
    CreateLinkedAgendaForEquipments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.agendas = data;
                });
            }, 500);
        }
    };
    CreateLinkedAgendaForEquipments.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.agendas.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.agendas.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedAgendaForEquipments.prototype.save = function () {
        var _this = this;
        this.EquipmentService.saveLinkedAgenda(this.link)
            .then(function (data) {
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda__["a" /* LinkedAgendaWithEquipments */], { equipment_id: _this.params.get('equipment_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedAgendaForEquipments.prototype.initTask = function (task) {
        this.link.name = task.name;
        this.link.task_id = task.id;
    };
    CreateLinkedAgendaForEquipments.prototype.addTask = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__agenda_create_create__["a" /* AgendaCreate */], { request_id: this.params.get('equipment_id') });
    };
    CreateLinkedAgendaForEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/agenda/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search tasks\n      <button class="add-person" ion-button clear item-end  (click)="addTask()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && agendas?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let agenda of agendas">\n                 <ion-label>{{agenda.name}}</ion-label>\n                 <ion-radio (click)="initTask(agenda)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/agenda/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedAgendaForEquipments);
    return CreateLinkedAgendaForEquipments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 492:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedInfrastructureForEquipments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__infrastructure__ = __webpack_require__(226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__infrastructure_create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__common_infrastructure_infrastructure__ = __webpack_require__(86);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateLinkedInfrastructureForEquipments = (function () {
    function CreateLinkedInfrastructureForEquipments(navCtrl, params, EquipmentService, InfrastructureService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.EquipmentService = EquipmentService;
        this.InfrastructureService = InfrastructureService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.infrastructure = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.equipment_id = this.params.get('equipment_id');
    }
    CreateLinkedInfrastructureForEquipments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.InfrastructureService.searchInfrastructure(_this.search.toLowerCase()).then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.infrastructure = data;
                });
            }, 500);
        }
    };
    CreateLinkedInfrastructureForEquipments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.EquipmentService.saveLinkedInfrastructure(this.link).then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__infrastructure__["a" /* LinkedInfrastructureWithEquipments */], { equipment_id: _this.params.get('equipment_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedInfrastructureForEquipments.prototype.initLocation = function (location) {
        this.link.name = location.name;
        this.link.location_id = location.id;
    };
    CreateLinkedInfrastructureForEquipments.prototype.addLocation = function () {
        var _this = this;
        var options = [];
        options = options.concat([
            {
                text: 'Create Infrastructure (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__infrastructure_create_create__["a" /* InfrastructureCreate */]);
                }
            },
            {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */]);
                }
            },
            {
                text: 'Cancel',
                role: 'cancel'
            }
        ]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedInfrastructureForEquipments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Locations\n      <button class="add-person" ion-button clear item-end  (click)="addLocation()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && infrastructure?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let location of infrastructure">\n                 <ion-label>{{location.name}}</ion-label>\n                 <ion-radio (click)="initLocation(location)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/links/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"], __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedInfrastructureForEquipments);
    return CreateLinkedInfrastructureForEquipments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 493:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LocationListModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__infrastructurelocationmodal__ = __webpack_require__(227);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LocationListModal = (function () {
    function LocationListModal(platform, params, modalCtrl, viewCtrl, InfrastructureService, Notifications) {
        this.platform = platform;
        this.params = params;
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.InfrastructureService = InfrastructureService;
        this.Notifications = Notifications;
        this.levels = [];
        this.level = {};
        this.levelDetails = {};
        this.levels = this.params.get('levels');
        this.level = this.params.get('level');
        this.levelDetails["parentId"] = this.params.get('parentId');
        this.levelDetails["locationId"] = this.params.get('locationId');
    }
    LocationListModal.prototype.getInfrastructureList = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.InfrastructureService.getInfrastructureList(1, '').then(function (data) {
            _this.Notifications.dismissLoader();
            _this.levels = data.locations;
        });
    };
    LocationListModal.prototype.getSubInfrastructureList = function () {
        var _this = this;
        this.Notifications.presentLoader();
        var where = 'parent_id=' + this.levelDetails["parentId"] + '&location_id=' + this.levelDetails["locationId"];
        this.InfrastructureService.getInfrastructureList(1, '', where).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.levels = data.locations;
        });
    };
    LocationListModal.prototype.showModal = function () {
        var _this = this;
        this.Notifications.presentLoader();
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_4__infrastructurelocationmodal__["a" /* InfrastructureLocationModal */], {
            location_id: (this.level ? this.level['location']['id'] : ''),
            parent_id: (this.level && this.level['parent_location'] ? this.level['parent_location']['id'] : 0)
        });
        modal.onDidDismiss(function (data) {
            if (typeof _this.levelDetails["parentId"] == "undefined" && Object.keys(data).length > 0) {
                _this.getInfrastructureList();
            }
            else if (Object.keys(data).length > 0) {
                _this.getSubInfrastructureList();
            }
        });
        modal.present();
        this.Notifications.dismissLoader();
    };
    LocationListModal.prototype.setLocation = function (level) {
        this.dismiss(level);
    };
    LocationListModal.prototype.dismiss = function (level) {
        this.viewCtrl.dismiss(level);
    };
    LocationListModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/locationlistmodal.html"*/'<ion-header>\n	<ion-toolbar>\n		<ion-title>\n			Choose location\n		</ion-title>\n		<ion-buttons start>\n		    <button ion-button (click)="dismiss()">\n		        <span ion-text color="primary" showWhen="ios,android">Cancel</span>\n		    </button>\n	    </ion-buttons>\n	    <ion-buttons right >\n	    	<button ion-button (click)="create()" clear>Save</button>\n	    </ion-buttons>\n	 </ion-toolbar>\n</ion-header>\n\n<ion-content>\n	<ion-list radio-group>\n\n		<ion-item *ngFor = "let level of levels;" >\n	    	<ion-label>{{level.name}}</ion-label>\n	    	<ion-radio [value]="level.id" (ionSelect)="setLocation(level)"></ion-radio>\n	  	</ion-item>\n\n	  	<ion-item>\n	    	<ion-label class=\'add-new-location\' (click) = "showModal()" >\n    			<ion-icon color=\'primary\' name="add-circle" ></ion-icon> \n    			<span>Add new</span> \n    		</ion-label>\n	  	</ion-item>\n	</ion-list>\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/locationlistmodal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], LocationListModal);
    return LocationListModal;
}());

//# sourceMappingURL=locationlistmodal.js.map

/***/ }),

/***/ 494:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsArticleCreate; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__articles_articles__ = __webpack_require__(99);
// AUTHOR : HS
// CREATED : 17-04-2018
// DESCRIPTION : Used to create the model.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EquipmentsArticleCreate = (function () {
    function EquipmentsArticleCreate(navCtrl, params, Notifications, actionSheetCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.EquipmentService = EquipmentService;
        this.article = { attrs_data: {} };
        this.color = '#488aff';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.levels_data_id = this.params.get('levels_data_id');
        this.model_data_id = this.params.get('model_data_id');
        this.getArticleAttrs();
    }
    EquipmentsArticleCreate.prototype.getArticleAttrs = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.article.levels_data_id = this.levels_data_id;
        this.article.model_data_id = this.model_data_id;
        this.EquipmentService.getArticleAttrs(this.levels_data_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.attributes = data.attributes;
        });
    };
    EquipmentsArticleCreate.prototype.create = function () {
        var _this = this;
        if (Object.keys(this.article.attrs_data).length > 0) {
            this.EquipmentService.createArticle(this.article)
                .then(function (data) {
                if (data.status) {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__articles_articles__["a" /* EquipmentsArticles */], { levels_data_id: _this.levels_data_id, model_data_id: _this.model_data_id });
                }
            });
        }
        else {
            this.Notifications.presentToast("Please fill all fields to create article.");
        }
    };
    EquipmentsArticleCreate = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-article-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Article\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="attributes" >\n\n      <div *ngFor="let attr of attributes" >\n\n          <ion-list-header [class]="item_header_class" [style.color]="color" >\n            {{ attr.name }}\n          </ion-list-header>\n\n          <ion-item >\n             \n             <input [class]="input_class" \n                    type="text"\n                    [(ngModel)]="article.attrs_data[attr.id]"\n                    required \n                    [placeholder]="attr.name" \n                    *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                     />\n    \n              <ion-datetime [class]="input_class" \n                            displayFormat="DD/MM/YYYY" \n                            [style.padding]="0"  \n                            pickerFormat="DD MMM YYYY" \n                            [(ngModel)]="article.attrs_data[attr.id]"\n                            [disabled]="attr.disabled" \n                            *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n              \n              <ion-select class="item-margin" \n                          [(ngModel)]="article.attrs_data[attr.id]"\n                          *ngIf=" attr.attr_type == \'list\' " \n                          [disabled]="attr.disabled" >\n                <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n              </ion-select>\n\n          </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsArticleCreate);
    return EquipmentsArticleCreate;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 495:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsModelDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
// AUTHOR : HS
// CREATED : 13-04-2018
// DESCRIPTION : Used to show the model description.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var EquipmentsModelDescription = (function () {
    var EquipmentsModelDescription = EquipmentsModelDescription_1 = function EquipmentsModelDescription(navCtrl, params, Notifications, actionSheetCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.EquipmentService = EquipmentService;
        this.color = "#488aff";
        this.level_names = "";
        this.is_edit = false;
        this.getModel();
    };
    EquipmentsModelDescription.prototype.getModel = function () {
        var _this = this;
        this.model_id = this.params.get("id");
        this.Notifications.presentLoader();
        this.EquipmentService.getModel(this.model_id).then(function (data) {
            //console.log("data", data);
            _this.Notifications.dismissLoader();
            _this.model = data.output.model;
            //console.log(this.model);
            _this.level_names = data.output.level_names;
            _this.attributes = data.output.attributes;
        });
    };
    EquipmentsModelDescription.prototype.view = function (t) {
        this.navCtrl.push(EquipmentsModelDescription_1, { id: t.id });
    };
    EquipmentsModelDescription.prototype.edit = function () {
        this.color = "#1ea209";
        this.is_edit = true;
        this.backup = Object.assign({}, this.model);
    };
    EquipmentsModelDescription.prototype.cancelEdition = function () {
        this.resetVaribles();
        this.model = this.backup;
    };
    EquipmentsModelDescription.prototype.update = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.updateModel(this.model).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.resetVaribles();
            _this.getModel();
        });
    };
    EquipmentsModelDescription.prototype.resetVaribles = function () {
        this.is_edit = false;
        this.color = "#488aff";
    };
    EquipmentsModelDescription = EquipmentsModelDescription_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "page-description",template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/description/description.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Model Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n\n  <ion-segment color="primary" >\n    <ion-segment-button>\n      {{ level_names }}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="model" >\n      <div *ngFor="let attr of attributes" >\n\n          <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="color" >\n            {{ attr.name }}\n          </ion-list-header>\n\n          <ion-item *ngIf="!is_edit" >\n            {{ attr.attr_type == \'list\' ? \n               attr.options[model.attrs_data[attr.id]]\n             : model.attrs_data[attr.id]}}\n        \n          </ion-item>\n\n          <ion-item *ngIf="is_edit" >\n             \n             <input [class]="input_class" \n                    type="text"\n                    [(ngModel)]="model.attrs_data[attr.id]"\n                    required \n                    *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                     />\n    \n              <ion-datetime [class]="input_class" \n                            displayFormat="DD/MM/YYYY" \n                            [style.padding]="0"  \n                            pickerFormat="DD MMM YYYY" \n                            [(ngModel)]="model.attrs_data[attr.id]"\n                            [disabled]="attr.disabled" \n                            *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n              \n              <ion-select class="item-margin" \n                          [(ngModel)]="model.attrs_data[attr.id]"\n                          *ngIf=" attr.attr_type == \'list\' " \n                          [disabled]="attr.disabled" >\n                <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n              </ion-select>\n\n          </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="model">\n    <ion-segment-button (click) = "link(\'contact_internal\')"  value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="cube" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && model">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/description/description.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsModelDescription);
    return EquipmentsModelDescription;
    var EquipmentsModelDescription_1;
}());

//# sourceMappingURL=description.js.map

/***/ }),

/***/ 496:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsModelCreate; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_models__ = __webpack_require__(71);
// AUTHOR : HS
// CREATED : 17-04-2018
// DESCRIPTION : Used to create the model.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EquipmentsModelCreate = (function () {
    function EquipmentsModelCreate(navCtrl, params, Notifications, actionSheetCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.EquipmentService = EquipmentService;
        this.model = { attrs_data: {} };
        this.color = '#488aff';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.levels_data_id = this.params.get('levels_data_id');
        this.model.levels_data_id = this.levels_data_id;
        this.getModelAttrs();
    }
    EquipmentsModelCreate.prototype.getModelAttrs = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.getModelAttrs(this.levels_data_id).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.attributes = data.attributes;
        });
    };
    EquipmentsModelCreate.prototype.create = function () {
        var _this = this;
        if (Object.keys(this.model.attrs_data).length > 0) {
            this.EquipmentService.createModel(this.model).then(function (data) {
                if (data.status) {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__models_models__["a" /* EquipmentsModels */], { levels_data_id: _this.levels_data_id });
                }
            });
        }
        else {
            this.Notifications.presentToast('Please fill all fields to create model.');
        }
    };
    EquipmentsModelCreate = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Model\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="attributes" >\n\n      <div *ngFor="let attr of attributes" >\n\n          <ion-list-header [class]="item_header_class" [style.color]="color" >\n            {{ attr.name }}\n          </ion-list-header>\n\n          <ion-item >\n             \n             <input [class]="input_class" \n                    type="text"\n                    [(ngModel)]="model.attrs_data[attr.id]"\n                    required \n                    [placeholder]="attr.name" \n                    *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                     />\n    \n              <ion-datetime [class]="input_class" \n                            displayFormat="DD/MM/YYYY" \n                            [style.padding]="0"  \n                            pickerFormat="DD MMM YYYY" \n                            [(ngModel)]="model.attrs_data[attr.id]"\n                            [disabled]="attr.disabled" \n                            *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n              \n              <ion-select class="item-margin" \n                          [(ngModel)]="model.attrs_data[attr.id]"\n                          *ngIf=" attr.attr_type == \'list\' " \n                          [disabled]="attr.disabled" >\n                <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n              </ion-select>\n\n          </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsModelCreate);
    return EquipmentsModelCreate;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 497:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsLevelDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
// AUTHOR : HS
// CREATED : 13-04-2018
// DESCRIPTION : Used to show the model description.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var EquipmentsLevelDescription = (function () {
    function EquipmentsLevelDescription(navCtrl, params, Notifications, actionSheetCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.EquipmentService = EquipmentService;
        this.color = '#488aff';
        this.level_names = '';
        this.is_edit = false;
        this.getModel();
    }
    EquipmentsLevelDescription.prototype.getModel = function () {
        var _this = this;
        this.level_id = this.params.get('id');
        this.Notifications.presentLoader();
        this.EquipmentService.getModel(this.level_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.level = data.output.level;
            console.log("sdfsdfsdf", _this.level, _this.level_id);
            // this.level_names = data.output.level_names;
            // this.attributes = data.output.attributes;
        });
    };
    EquipmentsLevelDescription = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-description',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/levels/description/description.html"*/'<!-- <ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Model Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n\n  <ion-segment color="primary" >\n    <ion-segment-button>\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="model" >\n      <div *ngFor="let attr of attributes" >\n\n          <ion-list-header class="item item-ios list-header list-header-ios" [style.color]="color" >\n            {{ attr.name }}\n          </ion-list-header>\n\n          <ion-item *ngIf="!is_edit" >\n            {{ attr.attr_type == \'list\' ? \n               attr.options[model.attrs_data[attr.id]]\n             : model.attrs_data[attr.id]}}\n        \n          </ion-item>\n\n          <ion-item *ngIf="is_edit" >\n             \n             <input [class]="input_class" \n                    type="text"\n                    [(ngModel)]="model.attrs_data[attr.id]"\n                    required \n                    *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                     />\n    \n              <ion-datetime [class]="input_class" \n                            displayFormat="DD/MM/YYYY" \n                            [style.padding]="0"  \n                            pickerFormat="DD MMM YYYY" \n                            [(ngModel)]="model.attrs_data[attr.id]"\n                            [disabled]="attr.disabled" \n                            *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n              \n              <ion-select class="item-margin" \n                          [(ngModel)]="model.attrs_data[attr.id]"\n                          *ngIf=" attr.attr_type == \'list\' " \n                          [disabled]="attr.disabled" >\n                <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n              </ion-select>\n\n          </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="model">\n    <ion-segment-button (click) = "link(\'contact_internal\')"  value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="cube" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">0</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && model">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer> -->'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/levels/description/description.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsLevelDescription);
    return EquipmentsLevelDescription;
}());

//# sourceMappingURL=description.js.map

/***/ }),

/***/ 498:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedInfrastructureForCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__infrastructure__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure_create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__ = __webpack_require__(86);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedInfrastructureForCI = (function () {
    function CreateLinkedInfrastructureForCI(navCtrl, params, InfrastructureService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.infrastructure = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedInfrastructureForCI.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.InfrastructureService.searchInfrastructure(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.infrastructure = data;
                });
            }, 500);
        }
    };
    CreateLinkedInfrastructureForCI.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveLinkedInfrastructureCI(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__infrastructure__["a" /* LinkedInfrastructureWithCI */], { row_id: _this.params.get('row_id'), contact_id: _this.params.get('contact_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedInfrastructureForCI.prototype.initLocation = function (location) {
        this.link.name = location.name;
        this.link.location_id = location.id;
    };
    CreateLinkedInfrastructureForCI.prototype.addLocation = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Infrastructure (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure_create_create__["a" /* InfrastructureCreate */]);
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedInfrastructureForCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Locations\n      <button class="add-person" ion-button clear item-end  (click)="addLocation()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && infrastructure?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let location of infrastructure">\n                 <ion-label>{{location.name}}</ion-label>\n                 <ion-radio (click)="initLocation(location)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedInfrastructureForCI);
    return CreateLinkedInfrastructureForCI;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 499:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForCI; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__equipments__ = __webpack_require__(228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_articles_articles__ = __webpack_require__(100);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedEquipmentForCI = (function () {
    function CreateLinkedEquipmentForCI(navCtrl, params, fns, ContactService, EquipmentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.ContactService = ContactService;
        this.EquipmentService = EquipmentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.articles = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedEquipmentForCI.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.getArticles(1, _this.search.toLowerCase(), 0, 0)
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.articles = data.articles_data;
                    _this.attributes = data.article_attrs;
                    if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = true;
                    }
                });
            }, 500);
        }
    };
    CreateLinkedEquipmentForCI.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    CreateLinkedEquipmentForCI.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveLinkedEquipmentCI(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__equipments__["a" /* LinkedEquipmentWithCI */], { row_id: _this.link.row_id,
                    contact_id: _this.link.contact_id
                });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedEquipmentForCI.prototype.initLocation = function (article) {
        this.link.name = this.getFirst(article);
        this.link.equipment_id = article.id;
    };
    CreateLinkedEquipmentForCI.prototype.addEquipment = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Equipment (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__["a" /* CreateEquipmentLevel */], { parent_id: 0 });
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_articles_articles__["a" /* CreateArticleModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedEquipmentForCI = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/equipments/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Equipment\n      <button class="add-person" ion-button clear item-end  (click)="addEquipment()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && articles?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let article of articles">\n                 <ion-label>{{getFirst(article)}}</ion-label>\n                 <ion-radio (click)="initLocation(article)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/links/equipments/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedEquipmentForCI);
    return CreateLinkedEquipmentForCI;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 5:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return config; });
var config = {
    api_url: 'http://ns369332.ip-5-196-82.eu/VelvetFM2/VelvetFM_1_3/user/api/',
    base_url: 'http://ns369332.ip-5-196-82.eu/VelvetFM2/VelvetFM_1_3/',
    google_view: 'http://docs.google.com/gview?',
    microsoft_view: 'https://view.officeapps.live.com/op/view.aspx?',
    per_page: 20,
    conditions_limit: 6,
    shared_documents_count: 6,
    levels_count: 9,
    timeout: 20000
};
//# sourceMappingURL=app.config.js.map

/***/ }),

/***/ 523:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedAgendaWithCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__agenda_create_create__ = __webpack_require__(524);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









// import { ContactExternal } from '../../list/list';
var LinkedAgendaWithCE = (function () {
    function LinkedAgendaWithCE(navCtrl, params, fns, TasksService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    LinkedAgendaWithCE.prototype.ionViewWillEnter = function () {
        this.getAgendas();
    };
    LinkedAgendaWithCE.prototype.getAgendas = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getLinkedAgendas(this.params.get('row_id'), this.params.get('contact_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.agendas = data;
                if (_this.agendas.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.agendas.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedAgendaWithCE.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getAgendas();
            refresher.complete();
        }, 2000);
    };
    LinkedAgendaWithCE.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.ContactService.getLinkedAgendas(this.params.get('row_id'), this.params.get('contact_id'), ++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    _this.backup = _this.agendas.slice();
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    LinkedAgendaWithCE.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.task_id);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedAgendaWithCE.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_show_show__["a" /* AgendaDescription */], { id: id });
    };
    LinkedAgendaWithCE.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__agenda_create_create__["a" /* CreateLinkedAgendaForCE */], { row_id: this.params.get('row_id'), contact_id: this.params.get('contact_id') });
    };
    LinkedAgendaWithCE.prototype.delete = function (agenda) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this agenda?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.ContactService.deleteAgendaLink(agenda.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getAgendas();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedAgendaWithCE.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.agendas = this.backup.filter(function (agenda) {
                var condition = _this.fns.match(agenda.name, val) ||
                    _this.fns.match(agenda.description, val) ||
                    _this.fns.match(agenda.relation_type, val) ||
                    _this.fns.match(agenda.status, val);
                return (condition);
            });
        }
        else {
            this.agendas = this.backup;
        }
    };
    LinkedAgendaWithCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/agenda/agenda.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Agenda\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let agenda of agendas; let i = index " >\n        <div (click)=\'view(agenda.task_id);\' >\n          <h2>{{agenda.name}}</h2>\n          <p text-capitalize>{{agenda.description}} - {{agenda.relation_type}}</p>\n        </div>\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(agenda);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && agendas?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/agenda/agenda.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedAgendaWithCE);
    return LinkedAgendaWithCE;
}());

//# sourceMappingURL=agenda.js.map

/***/ }),

/***/ 524:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedAgendaForCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__agenda_create_create__ = __webpack_require__(78);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CreateLinkedAgendaForCE = (function () {
    function CreateLinkedAgendaForCE(navCtrl, params, TasksService, ContactService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.ContactService = ContactService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.agendas = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedAgendaForCE.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.TasksService.searchTasks(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.agendas = data;
                });
            }, 500);
        }
    };
    CreateLinkedAgendaForCE.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        console.log('1');
        if (!this.is_request) {
            this.is_request = true;
            this.TasksService.getTasks(++this.current_page, this.search)
                .then(function (res) {
                console.log(res);
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.agendas.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.agendas.forEach(function (d) {
                        _this.agendas.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    console.log('asdasd');
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedAgendaForCE.prototype.save = function () {
        var _this = this;
        this.ContactService.saveLinkedAgenda(this.link)
            .then(function (data) {
            if (data.status) {
                // this.navCtrl.push(LinkedAgendaWithCE , { row_id : this.params.get('row_id'), contact_id : this.params.get('contact_id') } )
                _this.navCtrl.pop();
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedAgendaForCE.prototype.initTask = function (task) {
        this.link.name = task.name;
        this.link.task_id = task.id;
    };
    CreateLinkedAgendaForCE.prototype.addTask = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__agenda_create_create__["a" /* AgendaCreate */], { page: 'linked_contact_external', row_id: this.params.get('row_id'), request_id: this.params.get('contact_id') });
    };
    CreateLinkedAgendaForCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/agenda/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search tasks\n      <button class="add-person" ion-button clear item-end  (click)="addTask()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && agendas?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let agenda of agendas">\n                 <ion-label>{{agenda.name}}</ion-label>\n                 <ion-radio (click)="initTask(agenda)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/agenda/create/create.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedAgendaForCE);
    return CreateLinkedAgendaForCE;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 525:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedInfrastructureForCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__infrastructure__ = __webpack_require__(234);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure_create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__ = __webpack_require__(86);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedInfrastructureForCE = (function () {
    function CreateLinkedInfrastructureForCE(navCtrl, params, InfrastructureService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.infrastructure = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedInfrastructureForCE.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.InfrastructureService.searchInfrastructure(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.infrastructure = data;
                });
            }, 500);
        }
    };
    CreateLinkedInfrastructureForCE.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveLinkedInfrastructureCE(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__infrastructure__["a" /* LinkedInfrastructureWithCE */], { row_id: _this.params.get('row_id'), contact_id: _this.params.get('contact_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedInfrastructureForCE.prototype.initLocation = function (location) {
        this.link.name = location.name;
        this.link.location_id = location.id;
    };
    CreateLinkedInfrastructureForCE.prototype.addLocation = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Infrastructure (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure_create_create__["a" /* InfrastructureCreate */]);
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedInfrastructureForCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Locations\n      <button class="add-person" ion-button clear item-end  (click)="addLocation()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && infrastructure?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let location of infrastructure">\n                 <ion-label>{{location.name}}</ion-label>\n                 <ion-radio (click)="initLocation(location)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedInfrastructureForCE);
    return CreateLinkedInfrastructureForCE;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 526:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForCE; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__equipments__ = __webpack_require__(235);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_articles_articles__ = __webpack_require__(100);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedEquipmentForCE = (function () {
    function CreateLinkedEquipmentForCE(navCtrl, params, fns, ContactService, EquipmentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.fns = fns;
        this.ContactService = ContactService;
        this.EquipmentService = EquipmentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.articles = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.row_id = this.params.get('row_id');
        this.link.contact_id = this.params.get('contact_id');
    }
    CreateLinkedEquipmentForCE.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.getArticles(1, _this.search.toLowerCase(), 0, 0)
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.articles = data.articles_data;
                    _this.attributes = data.article_attrs;
                    if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = true;
                    }
                });
            }, 500);
        }
    };
    CreateLinkedEquipmentForCE.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    CreateLinkedEquipmentForCE.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.saveLinkedEquipmentCI(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__equipments__["a" /* LinkedEquipmentWithCE */], { row_id: _this.link.row_id,
                    contact_id: _this.link.contact_id
                });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedEquipmentForCE.prototype.initLocation = function (article) {
        this.link.name = this.getFirst(article);
        this.link.equipment_id = article.id;
    };
    CreateLinkedEquipmentForCE.prototype.addEquipment = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Equipment (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__["a" /* CreateEquipmentLevel */], { parent_id: 0 });
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_articles_articles__["a" /* CreateArticleModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedEquipmentForCE = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/equipments/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Equipment\n      <button class="add-person" ion-button clear item-end  (click)="addEquipment()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && articles?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let article of articles">\n                 <ion-label>{{getFirst(article)}}</ion-label>\n                 <ion-radio (click)="initLocation(article)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/links/equipments/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedEquipmentForCE);
    return CreateLinkedEquipmentForCE;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 527:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LinkedDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_create_create__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var LinkedDocuments = (function () {
    function LinkedDocuments(navCtrl, params, TasksService, fns, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.fns = fns;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
    }
    LinkedDocuments.prototype.backButtonClick = function () {
        this.navCtrl.pop();
    };
    LinkedDocuments.prototype.ionViewWillEnter = function () {
        this.getDocuments();
    };
    LinkedDocuments.prototype.getDocuments = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getLinkedDocuments(this.params.get('task_id'), 1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.documents = data;
                if (_this.documents.length == __WEBPACK_IMPORTED_MODULE_4__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
                _this.backup = _this.documents.slice();
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    LinkedDocuments.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], { id: t.document_id });
    };
    LinkedDocuments.prototype.info = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], { id: t.document_id });
    };
    LinkedDocuments.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getDocuments();
            refresher.complete();
        }, 2000);
    };
    LinkedDocuments.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.info(t);
                }
            }, {
                text: 'Unlink',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    LinkedDocuments.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__documents_create_create__["a" /* CreateLinkedDocument */], { task_id: this.params.get('task_id') });
    };
    LinkedDocuments.prototype.reloadMe = function () {
        this.getDocuments();
    };
    LinkedDocuments.prototype.delete = function (contact) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to unlink this document?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.TasksService.deleteDocumentLink(contact.id)
                            .then(function (data) {
                            _this.Notification.presentToast('Unlinked Successfully');
                            _this.getDocuments();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    LinkedDocuments.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.documents = this.backup.filter(function (document) {
                var condition = _this.fns.match(document.designation, val) ||
                    _this.fns.match(document.relation_type, val) ||
                    _this.fns.match(document.cat_name, val) ||
                    _this.fns.match(document.sub_cat_name, val);
                return (condition);
            });
        }
        else {
            this.documents = this.backup;
        }
    };
    LinkedDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/documents/documents.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Linked Documents\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n</ion-header>\n\n<ion-content >\n <ion-list *ngIf="!is_searched">\n    \n    <ion-item  *ngFor="let document of documents; let i = index " >\n\n        <ion-avatar item-start>\n          <img src="assets/img/dummy_user.png">\n        </ion-avatar>\n\n        <ion-label (click)=\'view(document);\'>\n           <h2 text-capitalize >{{document.designation}}</h2>\n           <p text-capitalize>{{document.cat_name}} - {{document.relation_type}}</p>\n        </ion-label>\n\n        <button class="more-btn" ion-button (click)=\'presentActionSheet(document);\' item-end clear > \n          <ion-icon name="md-more" ></ion-icon>\n        </button>\n\n    </ion-item>\n    \n  </ion-list>\n \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && documents?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom >\n     <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/documents/documents.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], LinkedDocuments);
    return LinkedDocuments;
}());

//# sourceMappingURL=documents.js.map

/***/ }),

/***/ 528:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedInfrastructureForAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure__ = __webpack_require__(236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__infrastructure_create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__common_infrastructure_infrastructure__ = __webpack_require__(86);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};











var CreateLinkedInfrastructureForAgenda = (function () {
    function CreateLinkedInfrastructureForAgenda(navCtrl, params, TasksService, InfrastructureService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.infrastructure = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
        //this.getDocuments();
    }
    CreateLinkedInfrastructureForAgenda.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.InfrastructureService.searchInfrastructure(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.infrastructure = data;
                });
            }, 500);
        }
    };
    CreateLinkedInfrastructureForAgenda.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.saveLinkedInfrastructure(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure__["a" /* LinkedInfrastructureWithAgenda */], { task_id: _this.params.get('task_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedInfrastructureForAgenda.prototype.initLocation = function (location) {
        this.link.name = location.name;
        this.link.location_id = location.id;
    };
    CreateLinkedInfrastructureForAgenda.prototype.addLocation = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Infrastructure (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__infrastructure_create_create__["a" /* InfrastructureCreate */]);
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedInfrastructureForAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Locations\n      <button class="add-person" ion-button clear item-end  (click)="addLocation()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && infrastructure?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let location of infrastructure">\n                 <ion-label>{{location.name}}</ion-label>\n                 <ion-radio (click)="initLocation(location)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedInfrastructureForAgenda);
    return CreateLinkedInfrastructureForAgenda;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 529:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForAgenda; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__equipments__ = __webpack_require__(237);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_articles_articles__ = __webpack_require__(100);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedEquipmentForAgenda = (function () {
    function CreateLinkedEquipmentForAgenda(navCtrl, params, TasksService, fns, EquipmentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.fns = fns;
        this.EquipmentService = EquipmentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.articles = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.task_id = this.params.get('task_id');
        this.levels_data_id = this.params.get('levels_data_id');
        this.model_data_id = this.params.get('model_data_id');
    }
    CreateLinkedEquipmentForAgenda.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.getArticles(1, _this.search.toLowerCase(), 0, 0)
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.articles = data.articles_data;
                    _this.attributes = data.article_attrs;
                    if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = true;
                    }
                });
            }, 500);
        }
    };
    CreateLinkedEquipmentForAgenda.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    CreateLinkedEquipmentForAgenda.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.saveLinkedEquipment(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__equipments__["a" /* LinkedEquipmentWithAgenda */], { task_id: _this.params.get('task_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedEquipmentForAgenda.prototype.initLocation = function (article) {
        this.link.name = this.getFirst(article);
        this.link.equipment_id = article.id;
    };
    CreateLinkedEquipmentForAgenda.prototype.addEquipment = function () {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Create Equipment (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__equipments_list_create_create__["a" /* CreateEquipmentLevel */], { parent_id: 0 });
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_articles_articles__["a" /* CreateArticleModal */]);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedEquipmentForAgenda = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/equipments/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Equipment\n      <button class="add-person" ion-button clear item-end  (click)="addEquipment()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && articles?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let article of articles">\n                 <ion-label>{{getFirst(article)}}</ion-label>\n                 <ion-radio (click)="initLocation(article)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/links/equipments/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedEquipmentForAgenda);
    return CreateLinkedEquipmentForAgenda;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 530:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedInfrastructureForDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__infrastructure__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__ = __webpack_require__(86);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var CreateLinkedInfrastructureForDocuments = (function () {
    function CreateLinkedInfrastructureForDocuments(navCtrl, params, TasksService, InfrastructureService, ContactService, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.InfrastructureService = InfrastructureService;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.infrastructure = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.document_id = this.params.get('document_id');
        //this.getDocuments();
    }
    CreateLinkedInfrastructureForDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.InfrastructureService.searchInfrastructure(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.infrastructure = data;
                });
            }, 500);
        }
    };
    CreateLinkedInfrastructureForDocuments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.saveLinkedInfrastructure(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__infrastructure__["a" /* LinkedInfrastructureWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedInfrastructureForDocuments.prototype.initLocation = function (location) {
        this.link.name = location.name;
        this.link.location_id = location.id;
    };
    CreateLinkedInfrastructureForDocuments.prototype.addLocation = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */]);
    };
    CreateLinkedInfrastructureForDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Locations\n      <button class="add-person" ion-button clear item-end  (click)="addLocation()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && infrastructure?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let location of infrastructure">\n                 <ion-label>{{location.name}}</ion-label>\n                 <ion-radio (click)="initLocation(location)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedInfrastructureForDocuments);
    return CreateLinkedInfrastructureForDocuments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 531:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForDocuments; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__equipments__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__modal__ = __webpack_require__(532);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var CreateLinkedEquipmentForDocuments = (function () {
    function CreateLinkedEquipmentForDocuments(navCtrl, params, modelCtrl, TasksService, fns, ContactService, DocumentService, EquipmentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.modelCtrl = modelCtrl;
        this.TasksService = TasksService;
        this.fns = fns;
        this.ContactService = ContactService;
        this.DocumentService = DocumentService;
        this.EquipmentService = EquipmentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.articles = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.document_id = this.params.get('document_id');
        this.levels_data_id = this.params.get('levels_data_id');
        this.model_data_id = this.params.get('model_data_id');
    }
    CreateLinkedEquipmentForDocuments.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.getArticles(1, _this.search.toLowerCase(), 0, 0)
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.articles = data.articles_data;
                    _this.attributes = data.article_attrs;
                    if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                        _this.have_more = true;
                    }
                });
            }, 500);
        }
    };
    CreateLinkedEquipmentForDocuments.prototype.getFirst = function (article) {
        var $first = '--';
        if (this.fns.ObjLength(article.attrs_data) > 0) {
            var $key = Object.keys(article.attrs_data)[0];
            $first = article.attrs_data[$key];
        }
        return $first;
    };
    CreateLinkedEquipmentForDocuments.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.DocumentService.saveLinkedEquipment(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__equipments__["a" /* LinkedEquipmentWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedEquipmentForDocuments.prototype.initLocation = function (article) {
        this.link.name = this.getFirst(article);
        this.link.equipment_id = article.id;
    };
    CreateLinkedEquipmentForDocuments.prototype.presentPopover = function (myEvent) {
        var modal = this.modelCtrl.create(__WEBPACK_IMPORTED_MODULE_11__modal__["a" /* CreateLinkedEquipmentForDocumentsModal */]);
        modal.present({
            ev: myEvent
        });
    };
    CreateLinkedEquipmentForDocuments.prototype.addEquipment = function (myEvent) {
        var _this = this;
        var options = [];
        console.log(myEvent);
        options = options.concat([{
                text: 'Create Equipment (Level 1)',
                handler: function () {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__equipments_list_create_create__["a" /* CreateEquipmentLevel */], { parent_id: 0 });
                }
            }, {
                text: 'Select Level',
                handler: function () {
                    _this.presentPopover(myEvent);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    CreateLinkedEquipmentForDocuments = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-equipment-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search Equipment\n      <button class="add-person" ion-button clear item-end  (click)="addEquipment()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && articles?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let article of articles">\n                 <ion-label>{{getFirst(article)}}</ion-label>\n                 <ion-radio (click)="initLocation(article)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Location\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_11__modal__["a" /* CreateLinkedEquipmentForDocumentsModal */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedEquipmentForDocuments);
    return CreateLinkedEquipmentForDocuments;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 532:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedEquipmentForDocumentsModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__ = __webpack_require__(20);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var CreateLinkedEquipmentForDocumentsModal = (function () {
    function CreateLinkedEquipmentForDocumentsModal(viewCtrl, Notifications, EquipmentService, app) {
        this.viewCtrl = viewCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.app = app;
        this.models = [];
        this.article = { attrs_data: {} };
        this.levels = { one: [], two: [], three: [], model: [] };
        this.level = { one: '', two: '', three: '', model: '' };
        this.attributes = [];
        this.article_attributes = [];
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.reload = false;
        this.getLevels(1);
    }
    CreateLinkedEquipmentForDocumentsModal.prototype.getLevels = function (level) {
        var _this = this;
        switch (level) {
            case 1:
                this.Notifications.presentLoader();
                this.EquipmentService.getLevels(1, '')
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    if (data.error == undefined) {
                        _this.levels.one = data.levels_data;
                        _this.reload = false;
                    }
                    else {
                        _this.Notifications.presentToast('Please Request Again.');
                        _this.reload = true;
                    }
                });
                break;
        }
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.changeLevel = function (level, id) {
        var _this = this;
        this.resetLevel(level);
        this.Notifications.presentLoader();
        var where = '&parent_id=' + id;
        this.EquipmentService.getLevels(1, '', where)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            switch (level) {
                case 1:
                    _this.levels.two = data.levels_data;
                    break;
                case 2:
                    _this.levels.three = data.levels_data;
                    _this.levels_data_id = data.parent.parent_id;
                    break;
            }
        });
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.resetLevel = function (level) {
        if (level == 1) {
            this.levels.two = [];
            this.levels.three = [];
            this.models = [];
            this.article_attributes = [];
        }
        else if (level == 2) {
            this.levels.three = [];
            this.models = [];
            this.article_attributes = [];
        }
        else if (level == 3) {
            this.models = [];
            this.article_attributes = [];
        }
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.changeModal = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.getModels(1, '', this.level.three)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.models = data.models_data;
            _this.attributes = data.models_attrs;
        });
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.getArticles = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.getArticleAttrs(this.level.three)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.article_attributes = data.attributes;
        });
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    CreateLinkedEquipmentForDocumentsModal.prototype.create = function () {
        var _this = this;
        if (Object.keys(this.article.attrs_data).length > 0) {
            this.article.levels_data_id = this.level.three;
            this.article.model_data_id = this.levels.model;
            this.EquipmentService.createArticle(this.article)
                .then(function (data) {
                if (data.status) {
                    _this.dismiss();
                }
            });
        }
        else {
            this.dismiss();
        }
    };
    CreateLinkedEquipmentForDocumentsModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/create/modal.html"*/'<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Create Article\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span ion-text color="primary" showWhen="ios">Cancel</span>\n        <!-- <ion-icon name="md-close" showWhen="android, windows"></ion-icon> -->\n      </button>\n    </ion-buttons>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>Save</button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n<ion-content>\n\n<ion-list>\n  \n\n  <ion-list-header class="item_header_class" >\n      Level 1 \n  </ion-list-header>\n\n  <ion-item>\n    <ion-label>Level 1</ion-label>\n    <ion-select [(ngModel)]="level.one" (ionChange)="changeLevel(1,level.one)">\n      <ion-option *ngFor="let level of levels.one" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-list-header class="item_header_class" *ngIf = "levels.two.length" >\n      Level 2\n  </ion-list-header>\n  \n  <ion-item *ngIf = "levels.two.length" >\n    <ion-label>Level 2</ion-label>\n    <ion-select [(ngModel)]="level.two" (ionChange)="changeLevel(2,level.two)">\n        <ion-option *ngFor="let level of levels.two" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n  \n\n  <ion-list-header class="item_header_class" *ngIf = "levels.three.length" >\n      Level 3\n  </ion-list-header>\n\n  <ion-item *ngIf = "levels.three.length" >\n    <ion-label>Level 3</ion-label>\n    <ion-select [(ngModel)]="level.three" (ionChange)="changeModal()">\n      <ion-option *ngFor="let level of levels.three" [value]="level.id">{{level.name}}</ion-option>\n    </ion-select>\n  </ion-item>\n\n  <ion-list-header class="item_header_class" *ngIf = "models.length" >\n      Modal\n  </ion-list-header>\n    \n  <ion-item *ngIf = "models.length" >\n    <ion-label>Model</ion-label>\n    <ion-select [(ngModel)]="levels.model" (ionChange)="getArticles()">\n      <ion-option *ngFor="let model of models" [value]="model.id">{{model.attrs_data[attributes[0][\'id\']]}}</ion-option>\n    </ion-select>\n  </ion-item> \n\n  <div *ngFor="let attr of article_attributes" >\n\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n        {{ attr.name }}\n      </ion-list-header>\n\n      <ion-item >\n         \n         <input [class]="input_class" \n                type="text"\n                [(ngModel)]="article.attrs_data[attr.id]"\n                required \n                [placeholder]="attr.name" \n                *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                 />\n\n          <ion-datetime [class]="input_class" \n                        displayFormat="DD/MM/YYYY" \n                        [style.padding]="0"  \n                        pickerFormat="DD MMM YYYY" \n                        [(ngModel)]="article.attrs_data[attr.id]"\n                        [disabled]="attr.disabled" \n                        *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n          \n          <ion-select class="item-margin" \n                      [(ngModel)]="article.attrs_data[attr.id]"\n                      *ngIf=" attr.attr_type == \'list\' " \n                      [disabled]="attr.disabled" >\n            <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n          </ion-select>\n\n      </ion-item>\n\n  </div>\n\n</ion-list>\n\n\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/equipments/create/modal.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"]])
    ], CreateLinkedEquipmentForDocumentsModal);
    return CreateLinkedEquipmentForDocumentsModal;
}());

//# sourceMappingURL=modal.js.map

/***/ }),

/***/ 533:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateLinkedDocumentForDocument; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_document_document__ = __webpack_require__(534);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents__ = __webpack_require__(142);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var CreateLinkedDocumentForDocument = (function () {
    function CreateLinkedDocumentForDocument(navCtrl, params, DocumentService, alertCtrl, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.DocumentService = DocumentService;
        this.alertCtrl = alertCtrl;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.link = { relation_type: '' };
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.documents = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.link.document_parent_id = this.params.get('document_id');
    }
    CreateLinkedDocumentForDocument.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.DocumentService.searchDocuments(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data;
                });
            }, 500);
        }
    };
    CreateLinkedDocumentForDocument.prototype.addDocument = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__common_document_document__["a" /* CreateDocument */]);
    };
    CreateLinkedDocumentForDocument.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            var doc_ids_1 = [];
            this.documents.forEach(function (d) {
                doc_ids_1.push(d.id);
            });
            this.DocumentService.getDocuments(++this.current_page, this.search, doc_ids_1.join(','))
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.documents.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.documents.forEach(function (d) {
                        _this.documents.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    CreateLinkedDocumentForDocument.prototype.save = function () {
        var _this = this;
        this.DocumentService.saveDocumentDocument(this.link)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.status) {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__documents__["a" /* LinkedDocumentWithDocuments */], { document_id: _this.params.get('document_id') });
            }
            _this.Notification.presentToast(data.message);
        });
    };
    CreateLinkedDocumentForDocument.prototype.initDocument = function (document) {
        this.link.name = document.designation;
        this.link.document_child_id = document.id;
    };
    CreateLinkedDocumentForDocument = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/documents/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Link\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Search documents\n      <button class="add-person" ion-button clear item-end (click)="addDocument()" > \n        <ion-icon name="add-circle" class="add_new"></ion-icon> \n      </button>\n    </ion-list-header>\n\n    <ion-searchbar class="pd-16" [(ngModel)]="search" (ionInput)="getItems($event)">\n    </ion-searchbar>\n\n    <div class="pd-7">\n      <ion-card>\n\n        <ion-card-content no-padding>\n          <ion-list class="list-users" no-padding radio-group>\n\n            <ion-item *ngIf="!is_searched && documents?.length <= 0" color="light" text-center >\n               No Record Found\n            </ion-item>\n            \n            <div *ngIf="!is_searched">\n              <ion-item *ngFor="let document of documents">\n                 <ion-label>{{document.designation}}</ion-label>\n                 <ion-radio (click)="initDocument(document)" item-end></ion-radio>\n              </ion-item>\n            </div>\n\n            <ion-item *ngIf="is_searched" text-center>\n              <ion-spinner ></ion-spinner>\n            </ion-item>\n          </ion-list>\n           \n        </ion-card-content>\n\n      </ion-card>\n  </div>\n    \n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Document\n    </ion-list-header>\n\n    <ion-item>\n       {{link.name}}\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Relation Type\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="link.relation_type" class="item-margin">\n        <ion-option value="sender" > Sender </ion-option>\n        <ion-option value="recipient" > Recipient </ion-option>\n        <ion-option value="copy" > Copy </ion-option>\n        <ion-option value="concerned" > Concerned </ion-option>\n       </ion-select>\n    </ion-item>\n\n  </ion-list>\n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/links/documents/create/create.html"*/,
            providers: []
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateLinkedDocumentForDocument);
    return CreateLinkedDocumentForDocument;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 534:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateDocument; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_chooser__ = __webpack_require__(500);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_path__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ionic_native_transfer__ = __webpack_require__(50);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














// import { VideoCapturePlus, VideoCapturePlusOptions } from '@ionic-native/video-capture-plus';

var CreateDocument = (function () {
    function CreateDocument(navCtrl, Notifications, DocumentService, actionSheetCtrl, _ngZone, platform, camera, session, fileChooser, filePath, DomSanitizer, 
        // public videoCapturePlus: VideoCapturePlus,
        viewCtrl, alertCtrl, transfer) {
        this.navCtrl = navCtrl;
        this.Notifications = Notifications;
        this.DocumentService = DocumentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this._ngZone = _ngZone;
        this.platform = platform;
        this.camera = camera;
        this.session = session;
        this.fileChooser = fileChooser;
        this.filePath = filePath;
        this.DomSanitizer = DomSanitizer;
        this.viewCtrl = viewCtrl;
        this.alertCtrl = alertCtrl;
        this.transfer = transfer;
        this.attributes = [];
        this.document = { category: "", subcategory: "" };
        this.category_data = {};
        this.subcategory_data = {};
        this.files = [];
        this.designation = '';
        this.category_files_data = {};
        this.subcategory_files_data = {};
        this.ca_f = {};
        this.getCategories();
    }
    CreateDocument.prototype.getCategories = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getCategories().then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.categories = data.categories;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
            }
        });
    };
    CreateDocument.prototype.userLang = function (data, type) {
        if (type === void 0) { type = 'json'; }
        var current_user = this.session.getUser();
        return JSON.parse(data)[current_user.user_lang_id];
    };
    CreateDocument.prototype.catChange = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getSubCategories(this.document.category + '').then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.subcategories = data.subcategories;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
            }
        });
    };
    CreateDocument.prototype.subCatChange = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getAttributes(this.document.category, this.document.subcategory).then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.attributes = data;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
            }
        });
    };
    CreateDocument.prototype.presentActionSheet = function () {
        var _this = this;
        if (this.platform.is('ios')) {
            var iosActionSheet = this.actionSheetCtrl.create({
                title: 'Choose one option',
                buttons: [
                    {
                        text: 'Camera',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                        }
                    },
                    {
                        text: 'Video',
                        handler: function () {
                            // this.captureVideo( this.videoOptions() )
                            _this.captureVideo();
                        }
                    },
                    {
                        text: 'Gallery',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.PHOTOLIBRARY));
                        }
                    },
                    {
                        text: 'Upload a document',
                        handler: function () {
                            _this.upload();
                        }
                    },
                    {
                        text: 'Cancel',
                        role: 'cancel'
                    }
                ]
            });
            iosActionSheet.present();
        }
        else if (this.platform.is('android')) {
            var androidActionSheet = this.actionSheetCtrl.create({
                title: 'Choose one option',
                buttons: [
                    {
                        text: 'Camera',
                        handler: function () {
                            _this.captureImage(_this.options(_this.camera.PictureSourceType.CAMERA));
                        }
                    },
                    {
                        text: 'Video',
                        handler: function () {
                            _this.captureImage(_this.vOptions());
                        }
                    },
                    {
                        text: 'Upload a document',
                        handler: function () {
                            _this.upload();
                        }
                    }, {
                        text: 'Cancel',
                        role: 'cancel'
                    }
                ]
            });
            androidActionSheet.present();
        }
    };
    CreateDocument.prototype.captureImage = function (camera_options) {
        var _this = this;
        this.camera.getPicture(camera_options).then(function (imageData) {
            _this.files.push({ 'path': imageData,
                'is_selected': true,
                'is_captured': true,
                'user_defined_name': _this.getName(imageData)
            });
        }, function (err) {
            alert(JSON.stringify(err));
        });
    };
    CreateDocument.prototype.captureVideo = function () {
        // this.videoCapturePlus.captureVideo(video_options).then((mediafile) => {
        //     this.files.push({'path' : mediafile[0]["fullPath"] ,
        //                'is_selected' : true,
        //                'is_captured' : false, 
        //                 attribute_id : 0, 
        //                'user_defined_name' : this.getName(mediafile[0]["fullPath"])
        //            });
        //     },(err) => { 
        // });
    };
    CreateDocument.prototype.getName = function (f) {
        var _arr = f.split('/');
        if (_arr.length > 0) {
            var _name = _arr[_arr.length - 1];
            //GOOGLE DRIVE DOCUMENT
            if (_name.substr(0, 3) == 'enc') {
                _name = 'Google Document';
            }
            return _name;
        }
        else {
            return f;
        }
    };
    CreateDocument.prototype.getExt = function (f) {
        var ext = '';
        if (f != undefined) {
            ext = f.split('.')[1];
        }
        return ext;
    };
    CreateDocument.prototype.getImage = function (f) {
        var image;
        if (f != undefined) {
            var file_arr = f.split('.');
            var ext = file_arr.length > 0 ? file_arr[file_arr.length - 1] : '';
            switch (ext) {
                case 'pdf':
                    image = 'assets/img/new_pdf.png';
                    break;
                case 'ppt':
                case 'pptx':
                    image = 'assets/img/new_ppt.png';
                    break;
                case 'doc':
                case 'docx':
                    image = 'assets/img/new_word.png';
                    break;
                case 'xls':
                case 'xlsx':
                    image = 'assets/img/new_xls.png';
                    break;
                case 'mp3':
                    image = 'assets/img/new_mp3.png';
                    break;
                case 'zip':
                    image = 'assets/img/new_zip.png';
                    break;
                case 'mp4':
                case '3gp':
                case 'flv':
                case 'avi':
                case 'mov':
                case 'wmv':
                    image = 'assets/img/new_video.png';
                    break;
                case 'jpg':
                case 'png':
                case 'jpeg':
                case 'gif':
                case 'bmp':
                case 'jpg':
                    image = Object(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["normalizeURL"])(f);
                    break;
                case 'google':
                    image = 'assets/img/google.png';
                    break;
                default:
                    image = 'assets/img/new_default.png';
                    break;
            }
        }
        return image;
    };
    CreateDocument.prototype.options = function (source_type) {
        var camera_options = {
            quality: 80,
            destinationType: this.camera.DestinationType.FILE_URI,
            sourceType: source_type,
            encodingType: this.camera.EncodingType.JPEG,
            mediaType: this.camera.MediaType.ALLMEDIA,
            correctOrientation: true
        };
        return camera_options;
    };
    CreateDocument.prototype.videoOptions = function () {
        // let video_options: VideoCapturePlusOptions = {
        //    limit: 1,
        //    highquality: true,
        //    portraitOverlay: 'assets/img/camera/overlay/portrait.png',
        //    landscapeOverlay: 'assets/img/camera/overlay/landscape.png'
        // }
        // return video_options;
    };
    CreateDocument.prototype.vOptions = function () {
        var video_options = {
            destinationType: this.camera.DestinationType.FILE_URI,
            mediaType: this.camera.MediaType.VIDEO
        };
        return video_options;
    };
    CreateDocument.prototype.upload = function () {
        var _this = this;
        if (this.platform.is('ios')) {
            FilePicker.pickFile(function (file) {
                _this.files.push({ 'path': file,
                    'is_selected': true,
                    'is_captured': false,
                    'attribute_id': 0,
                    'user_defined_name': _this.getName(file)
                });
                _this._ngZone.run(function () { });
            }, function (err) {
                alert(JSON.stringify(err));
            });
        }
        else if (this.platform.is('android')) {
            this.fileChooser.open().then(function (uri) {
                var uriArr = uri.split(',');
                uriArr.forEach(function (u, i) {
                    _this.filePath.resolveNativePath(u).then(function (filePath) {
                        _this.files.push({ 'path': filePath,
                            'is_selected': true,
                            'is_captured': false,
                            'attribute_id': 0,
                            'user_defined_name': _this.getName(filePath)
                        });
                    }, function (err) {
                        _this.files.push({ 'path': u,
                            'is_selected': true,
                            'is_captured': false,
                            'attribute_id': 0,
                            'user_defined_name': _this.getName(u)
                        });
                    });
                });
            }).catch(function (e) { return alert(JSON.stringify(e)); });
        }
    };
    CreateDocument.prototype.assignAttributes = function (indx) {
        var _this = this;
        var alert = this.alertCtrl.create();
        alert.setTitle('Select Attribute');
        // alert.setMessage( this.capitalize(this.category_data.category_name) + '-' + this.capitalize(this.subcategory_data.subcategory_name) );
        var selected_cat_attributes = [];
        var selected_subcat_attributes = [];
        this.files.forEach(function (d, fi) {
            if (fi !== indx) {
                if (d.attribute_id && d.attribute_type == 'cat') {
                    selected_cat_attributes.push(d.attribute_id);
                }
                else if (d.attribute_id && d.attribute_type == 'subcat') {
                    selected_subcat_attributes.push(d.attribute_id);
                }
            }
        });
        this.attributes.categories_attrs.forEach(function (d, i) {
            if (d.attr_type == 'file' || d.attr_type == 'image') {
                alert.addInput({
                    type: 'radio',
                    label: d.name,
                    value: i + '_cat',
                    checked: false,
                    disabled: false
                });
            }
        });
        this.attributes.sub_categories_attrs.forEach(function (d, i) {
            if (d.attr_type == 'file' || d.attr_type == 'image') {
                alert.addInput({
                    type: 'radio',
                    label: d.name,
                    value: i + '_subcat',
                    checked: false,
                    disabled: false
                });
            }
        });
        alert.addButton('Cancel');
        alert.addButton({
            text: 'Ok',
            handler: function (data) {
                var d = data.split('_');
                if (d[1] == 'cat') {
                    _this.files[indx].attribute_id = _this.attributes.categories_attrs[d[0]].id;
                    _this.files[indx].attribute_name = _this.attributes.categories_attrs[d[0]].name;
                    _this.files[indx].attribute_type = 'cat';
                    // this.files[indx].category_attribute_name = this.capitalize(this.category_data.category_name) + ' - ' +  this.files[indx].attribute_name;
                    if (_this.category_files_data[_this.files[indx].attribute_id] == undefined) {
                        _this.category_files_data[_this.files[indx].attribute_id] = [];
                    }
                    _this.category_files_data[_this.files[indx].attribute_id].push(_this.files[indx]);
                }
                else if (d[1] == 'subcat') {
                    _this.files[indx].attribute_id = _this.attributes.sub_categories_attrs[d[0]].id;
                    _this.files[indx].attribute_name = _this.attributes.sub_categories_attrs[d[0]].name;
                    _this.files[indx].attribute_type = 'subcat';
                    // this.files[indx].category_attribute_name = this.category_data.category_name + ' - ' +  this.files[indx].attribute_name;
                    if (_this.subcategory_files_data[_this.files[indx].attribute_id] == undefined) {
                        _this.subcategory_files_data[_this.files[indx].attribute_id] = [];
                    }
                    _this.subcategory_files_data[_this.files[indx].attribute_id].push(_this.files[indx]);
                }
                console.log(_this.files.length);
            }
        });
        alert.present();
    };
    CreateDocument.prototype.capitalize = function (str) {
        if (str.length > 0) {
            return str.charAt(0).toUpperCase() + str.slice(1);
        }
    };
    CreateDocument.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    CreateDocument.prototype.RemoveAttributes = function (indx) {
        if (this.files[indx].attribute_type == 'cat') {
            delete this.category_files_data[this.files[indx].attribute_id];
        }
        else if (this.files[indx].attribute_type == 'subcat') {
            delete this.subcategory_files_data[this.files[indx].attribute_id];
        }
        this.files[indx].attribute_id = 0;
    };
    CreateDocument.prototype.save = function () {
        var _this = this;
        this.Notifications.presentLoader();
        // if(this.navParams.data.doc_id){
        // this.Notifications.dismissLoader();
        // this.uploadQueue(this.navParams.data.doc_id);
        // this.navCtrl.push(DocumentsListView,{ id : this.navParams.data.doc_id});
        // } else {
        this.DocumentService.create({ category: this.category_data,
            category_id: this.document.category,
            designation: this.designation,
            subcategory_id: this.document.subcategory,
            subcategory: this.subcategory_data,
            subcategory_files: this.subcategory_files_data,
            tags: this.tags,
            category_files: this.category_files_data,
            page: "",
            request_id: ""
        })
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.main_success) {
                _this.uploadQueue(data.doc_id);
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */]);
            }
            else {
                _this.Notifications.presentToast(data.main_message);
            }
        });
        // }
    };
    CreateDocument.prototype.uploadQueue = function (doc_id) {
        var _this = this;
        var i = 0;
        Object.keys(this.category_files_data).forEach(function (d) {
            _this.category_files_data[d].forEach(function (ci, indx) {
                _this.ca_f[d + '_' + indx + '_c'] = ci;
            });
        });
        Object.keys(this.subcategory_files_data).forEach(function (s) {
            _this.subcategory_files_data[s].forEach(function (si, indx) {
                _this.ca_f[s + '_' + indx + '_s'] = si;
            });
        });
        var fst = Object.keys(this.ca_f);
        if (fst.length > 0) {
            var fst_key = fst[i];
            this.Notifications.uploadingToast('Uploading Files');
            this.uploadMe(this.ca_f[fst_key], fst_key.split('_')[i], doc_id, i);
        }
    };
    CreateDocument.prototype.uploadMe = function (uri, d, doc_id, i, u, f) {
        var _this = this;
        if (u === void 0) { u = 0; }
        if (f === void 0) { f = 0; }
        var keys = Object.keys(this.ca_f);
        var is_cat = keys[i][keys[i].length - 1] == 'c' ? true : false;
        i = i + 1;
        var next = keys[i];
        var current_user = this.session.getUser();
        var fileTransfer = this.transfer.create();
        var params = {
            'fileName': this.getName(uri.path),
            'org_user_id': current_user.user_id,
            'org_id': current_user.user_org_id,
            'user_defined_name': uri.user_defined_name,
            'doc_id': doc_id,
            'req_id': '',
            'type': ''
        };
        if (is_cat) {
            params.req_id = d;
            params.type = 'cat';
        }
        else {
            params.req_id = d;
            params.type = 'subcat';
        }
        var options = {
            fileKey: 'file',
            fileName: this.getName(uri.path),
            mimeType: "multipart/form-data",
            params: params
        };
        fileTransfer.onProgress(function (progressEvent) {
            if (progressEvent.lengthComputable) {
                var progress = Math.round((progressEvent.loaded / progressEvent.total) * 100);
                _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length, progress);
                _this._ngZone.run(function () { console.log('Outside Done!'); });
            }
        });
        fileTransfer.upload(uri.path, __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].api_url + 'auth/document_uploads', options)
            .then(function (data) {
            u = u + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { console.log('Outside Done!'); });
            if (next) {
                _this.uploadMe(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        }, function (err) {
            f = f + 1;
            _this.Notifications.setToasterContent(u, f, Object.keys(_this.ca_f).length);
            _this._ngZone.run(function () { console.log('Outside Done!'); });
            if (next) {
                _this.uploadMe(_this.ca_f[next], next.split('_')[0], doc_id, i, u, f);
            }
            else {
                _this.Notifications.dismissToaster();
            }
        });
    };
    CreateDocument = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "document-create",template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/document/document.html"*/'<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            Create Document\n        </ion-title>\n    <ion-buttons start>\n        <button ion-button (click)="dismiss()">\n            <span ion-text color="primary" showWhen="ios,android">Cancel</span>\n        </button>\n    </ion-buttons>\n        <ion-buttons right *ngIf = "files.length > 0">\n            <button ion-button (click)="save()" clear>Save</button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content padding>\n    <ion-list>\n        <div>\n            <ion-item>\n                <ion-label>Category</ion-label>\n                <ion-select [(ngModel)]="document.category" (ionChange)="catChange()">\n                    <ion-option *ngFor="let ct of categories" value="{{ct.id}}">{{ct.name}}</ion-option>\n                </ion-select>\n            </ion-item>\n        </div>\n        <div *ngIf = "subcategories">\n            <ion-item >\n                <ion-label>Sub category</ion-label>\n                <ion-select [(ngModel)]="document.subcategory" (ionChange)="subCatChange()">\n                    <ion-option *ngFor="let sct of subcategories" value="{{sct.id}}">{{userLang(sct.name)}}</ion-option>\n                </ion-select>\n            </ion-item>\n        </div>\n    </ion-list>\n\n    <ion-list>\n        <div *ngIf="attributes.categories_attrs && attributes.sub_categories_attrs">\n            <ion-list-header class="item item-ios list-header list-header-ios screen-header" > infos </ion-list-header>\n            <div>\n                <ion-item >\n                    <input class="text-input text-input-ios" type="text" [(ngModel)]="designation" name="designation" required placeholder="Designation"/>\n                </ion-item>\n            </div>\n        </div>\n        <div *ngIf="attributes.categories_attrs">\n            <ion-list-header class="item item-ios list-header list-header-ios screen-header" > Category </ion-list-header>\n            <div *ngFor="let ca of attributes.categories_attrs">\n        \n                <ion-item *ngIf=" ca.attr_type == \'text\' || ca.attr_type == \'number\' ">\n                    <input class="text-input text-input-ios" type="{{ca.attr_type}}" [(ngModel)]="category_data[ca.id]" name="{{ca.name}}" required placeholder="{{ca.name}}"/>\n                </ion-item>\n\n                <ion-item *ngIf=" ca.attr_type == \'date\' " class="item-margin" >\n                    <ion-datetime displayFormat="DD/MM/YYYY" style="padding:0;" [(ngModel)]="category_data[ca.id]"  pickerFormat="DD MMM YYYY" placeholder="{{ca.name}}" ></ion-datetime>\n                </ion-item>\n\n                <ion-item *ngIf=" ca.attr_type == \'list\' ">\n                    <ion-label>{{ca.name}}</ion-label>\n                    <ion-select [(ngModel)]="category_data[ca.id]" class="item-margin">\n                        <ion-option *ngFor="let op of ca.options" value="{{op}}" >{{op}}</ion-option>\n                    </ion-select>\n                </ion-item>\n            </div>\n        </div>\n    \n        <div *ngIf="attributes.sub_categories_attrs">\n            <ion-list-header class="item item-ios list-header list-header-ios screen-header" > Sub Category </ion-list-header>\n            <div *ngFor="let sa of attributes.sub_categories_attrs">\n                <ion-item *ngIf=" sa.attr_type == \'text\' || sa.attr_type == \'number\' ">\n                    <input class="text-input text-input-ios" type="text" name="username" [(ngModel)]="subcategory_data[sa.id]" required placeholder="{{sa.name}}"/>\n                </ion-item>\n                <ion-item *ngIf=" sa.attr_type == \'date\' " class="item-margin" >\n                    <ion-datetime displayFormat="DD/MM/YYYY" style="padding:0" [(ngModel)]="subcategory_data[sa.id]" pickerFormat="DD MMM YYYY" placeholder="{{sa.name}}" ></ion-datetime>\n                </ion-item>\n\n                <ion-item *ngIf=" sa.attr_type == \'list\' " class="item-margin" >\n                    <ion-label>{{sa.name}}</ion-label>\n                    <ion-select [(ngModel)]="subcategory_data[sa.id]">\n                        <ion-option *ngFor="let op of sa.options" value="{{op}}" >{{op}}</ion-option>\n                    </ion-select>\n                </ion-item>\n            </div>\n        </div> \n    \n        <div *ngIf="attributes.tags">\n            <ion-list-header class="item item-ios list-header list-header-ios screen-header" > Tags </ion-list-header>\n            <ion-item>\n                <ion-label>Select Tags</ion-label>\n                <ion-select [(ngModel)]="tags" multiple="true">\n                    <ion-option *ngFor="let t of attributes.tags" value="{{t.id}}">{{t.tag_name}}</ion-option>\n                </ion-select>\n            </ion-item>\n        </div>\n\n        <ion-grid *ngIf="files?.length == 0 && attributes.tags" > \n            <ion-row text-center>\n                <ion-col>\n                    <button ion-button outline icon-start (click)="presentActionSheet()"> <ion-icon ios="ios-cloud-upload" md="md-cloud-upload"></ion-icon> Upload files </button>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n\n        <ion-list-header class="my-header item item-ios list-header list-header-ios"  *ngIf="files?.length > 0" > \n            Select Files\n        </ion-list-header>\n        <ion-list *ngIf="files?.length > 0" >\n            <ion-item-sliding *ngFor="let f of files; let i = index " >\n                <ion-item>\n                    <ion-thumbnail item-start>\n                        <img class="uploaded-img" *ngIf="f.is_captured" [src]="DomSanitizer.bypassSecurityTrustUrl(f.path)" >\n                        <img class="uploaded-img" [src]="getImage(f.path)" *ngIf="!f.is_captured">\n                    </ion-thumbnail>\n\n                    <h2> <input class="file-input" [(ngModel)]="f.user_defined_name" type="text" > </h2>\n                    <p *ngIf="f.attribute_id > 0" text-capitalize>\n                        {{f.category_attribute_name}}\n                        <button class="remove-btn" ion-button clear item-end color="danger" (click)="RemoveAttributes(i)">\n                            <ion-icon name="ios-trash"></ion-icon>\n                        </button>\n                    </p>\n                    <button class="add-btn" ion-button clear item-end (click)="assignAttributes(i)" >\n                        <ion-icon name="{{f.attribute_id > 0 ? \'md-checkbox\' : \'md-square-outline\' }}"></ion-icon>\n                    </button>\n                  \n                </ion-item>\n                \n                <ion-item-options side="right">\n                    <button ion-button (click)="deleteFile(i)"  color="danger">\n                        <ion-icon name="ios-trash"></ion-icon>\n                    </button> \n                </ion-item-options>\n\n            </ion-item-sliding>\n        </ion-list>\n    </ion-list>\n</ion-content>\n\n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/document/document.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_6__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_3__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_chooser__["a" /* FileChooser */], __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_path__["a" /* FilePath */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_7__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_12__ionic_native_camera__["a" /* Camera */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_chooser__["a" /* FileChooser */],
            __WEBPACK_IMPORTED_MODULE_11__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["c" /* DomSanitizer */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_13__ionic_native_transfer__["a" /* Transfer */]])
    ], CreateDocument);
    return CreateDocument;
}());

//# sourceMappingURL=document.js.map

/***/ }),

/***/ 535:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationSetting; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var NotificationSetting = (function () {
    function NotificationSetting(navCtrl, actionSheetCtrl, navParams, Notification, session, NotificationService) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.navParams = navParams;
        this.Notification = Notification;
        this.session = session;
        this.NotificationService = NotificationService;
        this.days = this.navParams.get('days');
    }
    NotificationSetting.prototype.save = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.NotificationService.saveNotificationsDays(this.days)
            .then(function (data) {
            _this.Notification.dismissLoader();
            _this.Notification.presentToast('Saved Successfully');
        });
    };
    NotificationSetting = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-notification-setting',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/notifications/notification_setting/notification_setting.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      Notifications  \n    </ion-title>\n   <ion-buttons right>\n      <button ion-button (click)="save()" clear>save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-avatar-page">\n  <p>\n    The number of days required for automatic deletion of notifications\n  </p>\n  <ion-list>\n    <ion-list-header>\n      Days\n      <ion-badge item-end>{{days}}</ion-badge>\n    </ion-list-header>\n   \n    <ion-item>\n      <ion-icon name="notifications" item-start color="danger"></ion-icon>\n      <ion-label>Automatic Deletion</ion-label>\n      <ion-toggle color="secondary" [(ngModel)]="is_enabled" ></ion-toggle>\n    </ion-item>\n\n     <ion-item>\n       <ion-range min="1" max="100" step="1" [(ngModel)]="days" [disabled]="!is_enabled">\n         <ion-icon small range-left name="minus"></ion-icon>\n         <ion-icon range-right name="plus"></ion-icon>\n       </ion-range>\n    </ion-item>\n  </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/notifications/notification_setting/notification_setting.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */]])
    ], NotificationSetting);
    return NotificationSetting;
}());

//# sourceMappingURL=notification_setting.js.map

/***/ }),

/***/ 536:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Items; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__equipments_levels_levels__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__equipments_models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__equipments_articles_articles__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__infrastructure_show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var Items = (function () {
    function Items(navCtrl, actionSheetCtrl, Notification, session, NotificationService) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.Notification = Notification;
        this.session = session;
        this.NotificationService = NotificationService;
        this.page = { view: __WEBPACK_IMPORTED_MODULE_3__documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */], info: __WEBPACK_IMPORTED_MODULE_5__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */] };
        this.items = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.selected_count = 0;
        this.getItems();
    }
    Items.prototype.getItems = function () {
        var _this = this;
        this.resetVaribles();
        this.Notification.presentLoader();
        this.NotificationService.getItems(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.items = data.items;
                if (_this.items.length == __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    Items.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getItems();
            refresher.complete();
        }, 2000);
    };
    Items.prototype.avatar = function (notification) {
        return __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + notification.by_user_profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + notification.by_org_id;
    };
    Items.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.NotificationService.getItems(++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.items.length < __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.items.forEach(function (d) {
                        _this.items.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    Items.prototype.open = function (notification, index) {
    };
    Items.prototype.openItem = function (item, index) {
        console.log(item);
        switch (item.request_type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */], {
                    id: item.request_id
                });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__contact_internal_show_show__["a" /* ContactInternalDescription */], {
                    id: item.request_id
                });
                break;
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__contact_external_show_show__["a" /* ContactExternalDescription */], {
                    id: item.request_id
                });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__agenda_show_show__["a" /* AgendaDescription */], {
                    id: item.request_id
                });
                break;
            case 'locations':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_12__infrastructure_show_show__["a" /* InfrastructureDescription */], { id: item.request_id, count: 0 });
                break;
            case 'objects':
                switch (item.module) {
                    case 'levels_data':
                        item.contain_three_levels ? this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__equipments_models_models__["a" /* EquipmentsModels */], {
                            levels_data_id: item.request_id,
                            parent_id: item.parent_id
                        })
                            :
                                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__equipments_levels_levels__["a" /* EquipmentsLevels */], {
                                    parent_id: item.request_id
                                });
                        break;
                    case 'model_data':
                        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__equipments_articles_articles__["a" /* EquipmentsArticles */], {
                            levels_data_id: item.levels_data_id,
                            model_data_id: item.request_id,
                            parent_id: item.parent_id
                        });
                        break;
                    case 'article_data':
                        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__equipments_articles_description_description__["a" /* EquipmentsArticleDescription */], { id: item.request_id });
                        break;
                }
                break;
        }
    };
    Items.prototype.resetVaribles = function () {
        this.items = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.selected_count = 0;
    };
    // stateColor(state){
    //   let color = 'primary'
    //   switch(state){
    //     case 'edit':
    //       color = 'danger'
    //       break;
    //     case 'create':
    //       color = 'primary'
    //       break;
    //   }
    //   return color
    // }
    Items.prototype.stateName = function (state) {
        var name = '';
        switch (state) {
            case 'edit':
                name = 'Edited';
                break;
            case 'create':
                name = 'Created';
                break;
        }
        return name;
    };
    Items = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-items',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/items/items.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Recent Test Items  \n    </ion-title>\n  </ion-navbar>\n</ion-header>\n\n<ion-content class="list-avatar-page">\n   	\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n\n  	<ion-list>\n  		 <ion-item *ngFor="let item of items; let i = index " \n  				  class = "item item-block item-ios" \n  				  (press)="pressEvent($event, item, i)" >\n  	      <div tappable (click)=\'openItem(item,i);\'>\n            <h2 class=\'title\' >{{item.title}}</h2>\n            <p text-capitalize [class]=\'item.description.length > 50 && "description" \'>{{item.description}}</p>\n          </div>\n          <!-- <ion-badge text-capitalize [color]="stateColor(item.state)" item-end>{{item.state}}</ion-badge> -->\n          <p item-end text-capitalize>{{stateName(item.state)}}</p>\n  	    </ion-item>\n    </ion-list>\n\n    <ion-grid class="grid-reload" *ngIf=" !reload && is_request && items?.length <= 0 " > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n          <p>No Item Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n	<ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n		<ion-infinite-scroll-content></ion-infinite-scroll-content>\n	</ion-infinite-scroll>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/items/items.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_13__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_15__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */]])
    ], Items);
    return Items;
}());

//# sourceMappingURL=items.js.map

/***/ }),

/***/ 537:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ValidationHelper; });
var ValidationHelper = (function () {
    function ValidationHelper() {
    }
    ValidationHelper.prototype.validateFields = function (fields) {
        var errorMessage = "";
        for (var key in fields) {
            if (fields[key] == "") {
                var keyValue = key.replace(/_/g, " ");
                errorMessage = keyValue + " field is required.";
                return errorMessage;
            }
            // else if(fields[key] != ""){
            //     let keyValue = key.replace(/_/g, " ");
            //     const isWhitespace = (keyValue || '').trim().length === 0;
            //     const isValid = !isWhitespace;
            //     console.log("keyValue :"+keyValue+" && isWhitespace :"+isWhitespace);
            //     return isValid ? null : { 'whitespace': true };
            //     errorMessage = keyValue+" field has spaces.";
            //     // return errorMessage;
            // }
        }
    };
    return ValidationHelper;
}());

//# sourceMappingURL=validation.helper.js.map

/***/ }),

/***/ 538:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Step2Page; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__profile_profile__ = __webpack_require__(243);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__login_login1_login1__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var Step2Page = (function () {
    function Step2Page(authService, globalVars, navCtrl, params, Notifications, Session) {
        this.authService = authService;
        this.globalVars = globalVars;
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.Session = Session;
        this.is_pincode = true;
        this.spin = '';
        this.pin = '';
        this.cpin = '';
        this.cspin = '';
        this.credentials = { username: '', password: '' };
    }
    Step2Page.prototype.set = function () {
        var _this = this;
        if (this.spin !== '' && this.cspin !== '') {
            if (this.spin !== '' && this.spin == this.cspin) {
                this.Notifications.presentLoader();
                this.authService.setPin(this.spin)
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    if (data.status) {
                        _this.navCtrl.setRoot(_this.params.data.go_to == 'login' ? __WEBPACK_IMPORTED_MODULE_6__login_login1_login1__["a" /* Login1Page */] : __WEBPACK_IMPORTED_MODULE_5__profile_profile__["a" /* ProfilePage */]);
                    }
                    else {
                        _this.Notifications.presentToast('Unsuccess');
                    }
                });
            }
            else {
                this.Notifications.presentToast('Pin does not match!');
            }
        }
        else {
            this.Notifications.presentToast('Please fill the required fields');
        }
    };
    Step2Page.prototype.updatePin = function (e, is_confirm) {
        if (is_confirm === void 0) { is_confirm = 1; }
        if (is_confirm) {
            if (this.cspin.length > 4) {
                this.cspin = this.cpin;
            }
            else {
                this.cpin = this.cspin;
            }
        }
        else {
            if (this.spin.length > 4) {
                this.spin = this.pin;
            }
            else {
                this.pin = this.spin;
            }
        }
    };
    Step2Page.prototype.numberRange = function (start, end) {
        var r = [];
        while (start <= end) {
            r.push(start);
            start++;
        }
        return r;
    };
    Step2Page = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-step2',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/pin/step2/step2.html"*/'<ion-header>\n  <ion-navbar>\n    <ion-title>\n      STEP 2\n    </ion-title>   \n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n\n  <div class="logo">\n      <img src="assets/img/email_logo_image.png">\n  </div>\n  \n  <ion-grid>\n    <ion-row class="r-bg bd-1">\n      <ion-col *ngIf="is_pincode" class="r-bg pd-12" >\n         <ion-item class="r-bg bd-0" text-center>\n          <p class="title" >Enter your Quick Access Pin</p>\n         </ion-item>\n         <ion-item>\n           <ion-input class="pincode" id="spin" type="password" name="spin" [(ngModel)]="spin"  required (keyup)="updatePin($event,0)" placeholder="PIN"></ion-input>\n        </ion-item>\n         <ion-item>\n           <ion-input class="pincode" id="cspin" type="password" name="cspin" [(ngModel)]="cspin"  required (keyup)="updatePin($event, 1)" placeholder="CONFIRM PIN" ></ion-input>\n        </ion-item>\n        <div text-center>\n          <button class="cbutton" id="pin-set-btn" ion-button (click)=\'set();\' large >Set</button>\n        </div>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/pin/step2/step2.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__["a" /* SessionHelper */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_2__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_3__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_7__helpers_session_helper__["a" /* SessionHelper */]])
    ], Step2Page);
    return Step2Page;
}());

//# sourceMappingURL=step2.js.map

/***/ }),

/***/ 539:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PopoverPage; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__login2_login2__ = __webpack_require__(103);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PopoverPage = (function () {
    function PopoverPage(viewCtrl, app) {
        this.viewCtrl = viewCtrl;
        this.app = app;
    }
    PopoverPage.prototype.change = function () {
        this.viewCtrl.dismiss();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_2__login2_login2__["a" /* Login2Page */]);
    };
    PopoverPage = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            template: "\n    <ion-list>\n      <button ion-item (click)=\"change()\">Change user</button>\n    </ion-list>\n  "
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"]])
    ], PopoverPage);
    return PopoverPage;
}());

//# sourceMappingURL=more.js.map

/***/ }),

/***/ 540:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsSearch; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__result_result__ = __webpack_require__(541);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EquipmentsSearch = (function () {
    function EquipmentsSearch(navCtrl, alertCtrl, Notifications, EquipmentService, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.search = { attribute: '', value: '', from: '', to: '' };
        this.is_searched = false;
        this.levels = [];
        this.attributes = [];
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.color = '#488aff';
        this.getAttrs();
    }
    EquipmentsSearch.prototype.getAttrs = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.EquipmentService.searchAttrs()
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.attributes = data.attributes;
        });
    };
    EquipmentsSearch.prototype.getItems = function (ev) {
        var _this = this;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.EquipmentService.searchLevels(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    _this.levels = data.levels;
                });
            }, 500);
        }
    };
    EquipmentsSearch.prototype.next = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__models_models__["a" /* EquipmentsModels */], { levels_data_id: t.id, parent_id: t.parent_id });
    };
    EquipmentsSearch.prototype.searchObjects = function () {
        var _this = this;
        this.search.attribute = this.attributes[this.attribute].id;
        this.search.attr_type = this.attributes[this.attribute].attr_type;
        this.Notifications.presentLoader();
        this.EquipmentService.searchObjects(this.search)
            .then(function (data) {
            _this.is_searched = false;
            _this.Notifications.dismissLoader();
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__result_result__["a" /* EquipmentsResult */], { objects: data.objects });
        });
    };
    EquipmentsSearch = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-structure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/search/search.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Search\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="searchObjects()" clear>Search</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color">\n      Attribute\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select class="item-margin" [(ngModel)]="attribute" placeholder="Select Attribute">\n          <ion-option *ngFor="let attr of attributes; let i = index " [value]="i" >{{attr.name}}</ion-option>\n        </ion-select>\n    </ion-item>\n    \n\n    <span *ngIf = "attribute >= 0 " >\n      \n      <span *ngIf = " attributes[attribute].attr_type == \'text\' || attributes[attribute].attr_type == \'number\' ">\n        <ion-list-header [class]="item_header_class" [style.color]="color">\n          Value\n        </ion-list-header>\n\n        <ion-item  >\n          <input  [class]="input_class" \n                  [type]="attributes[attribute].attr_type"\n                  [(ngModel)]="search.value"\n                  required\n                />\n        </ion-item>\n      </span>\n\n      <span *ngIf = " attributes[attribute].attr_type == \'date\' ">\n          \n        <ion-list-header [class]="item_header_class" [style.color]="color">\n          From\n        </ion-list-header>\n\n        <ion-item>\n\n          <ion-datetime [class]="input_class" \n                        displayFormat="DD/MM/YYYY" \n                        [style.padding]="0"  \n                        pickerFormat="DD MMM YYYY" \n                        [(ngModel)]="search.from" ></ion-datetime>\n        </ion-item>\n\n        <ion-list-header [class]="item_header_class" [style.color]="color">\n          To\n        </ion-list-header>\n        \n        <ion-item>\n\n          <ion-datetime [class]="input_class" \n                        displayFormat="DD/MM/YYYY" \n                        [style.padding]="0"  \n                        [min]="search.from"\n                        pickerFormat="DD MMM YYYY" \n                        [(ngModel)]="search.to" ></ion-datetime>\n        </ion-item>\n      </span>\n\n      <span *ngIf = " attributes[attribute].attr_type == \'list\' ">\n        <ion-list-header [class]="item_header_class" [style.color]="color">\n          Value\n        </ion-list-header>\n        <ion-item >\n          <ion-select class="item-margin" \n                      [(ngModel)]="search.value" >\n            <ion-option *ngFor="let op of attributes[attribute].options; let i = index" [value]="i" >{{op}}</ion-option>\n          </ion-select>\n        </ion-item>\n      </span>\n\n    </span>\n  </ion-list>\n\n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/search/search.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], EquipmentsSearch);
    return EquipmentsSearch;
}());

//# sourceMappingURL=search.js.map

/***/ }),

/***/ 541:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsResult; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__articles_description_description__ = __webpack_require__(61);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EquipmentsResult = (function () {
    function EquipmentsResult(navCtrl, params, alertCtrl, Notifications, EquipmentService, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.models = [];
        this.models = this.params.get('objects');
    }
    EquipmentsResult.prototype.getTitle = function (attrs) {
        return attrs[Object.keys(attrs)[0]];
    };
    EquipmentsResult.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__articles_description_description__["a" /* EquipmentsArticleDescription */], { id: t.id });
    };
    EquipmentsResult = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-result',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/search/result/result.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Articles\n    </ion-title>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n\n      <ion-list *ngIf="models" >\n\n        <ion-item *ngFor="let model of models">\n          <div  (click)=\'view(model);\' >\n            <h2>{{getTitle(model.attrs_data)}}</h2>\n          </div>\n          <button class="more-btn" ion-button (click)=\'presentActionSheet(model);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n        </ion-item>\n\n      </ion-list>\n    \n  </ion-list>\n\n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n</ion-content>\n\n<ion-footer>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/search/result/result.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], EquipmentsResult);
    return EquipmentsResult;
}());

//# sourceMappingURL=result.js.map

/***/ }),

/***/ 546:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__ = __webpack_require__(547);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__app_module__ = __webpack_require__(551);


Object(__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_1__app_module__["a" /* AppModule */]);
//# sourceMappingURL=main.js.map

/***/ }),

/***/ 551:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__(56);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__(35);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_component__ = __webpack_require__(588);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_status_bar__ = __webpack_require__(341);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_splash_screen__ = __webpack_require__(344);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_in_app_browser__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__ionic_native_photo_viewer__ = __webpack_require__(472);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_transfer__ = __webpack_require__(473);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__ionic_native_file__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ionic_native_camera__ = __webpack_require__(84);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ion2_calendar__ = __webpack_require__(910);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_ion2_calendar___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_ion2_calendar__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ionic_native_media_capture_ngx__ = __webpack_require__(501);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_login_login1_login1__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_login_login2_login2__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_pin_step1_step1__ = __webpack_require__(246);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_pin_step2_step2__ = __webpack_require__(538);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_register_register__ = __webpack_require__(245);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pages_profile_edit_edit__ = __webpack_require__(239);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__pages_profile_profile__ = __webpack_require__(243);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pages_documents_documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_documents_documents_share_documents_share__ = __webpack_require__(197);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_documents_documents_shared_documents_shared__ = __webpack_require__(198);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_documents_documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__pages_documents_documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__pages_documents_documents_result_documents_result__ = __webpack_require__(915);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__pages_documents_documents_conditions_documents_conditions__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__pages_documents_documents_create_screen1_screen1__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__pages_documents_documents_create_screen2_screen2__ = __webpack_require__(478);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__pages_documents_documents_create_screen3_screen3__ = __webpack_require__(479);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__pages_documents_documents_create_uploading_uploading__ = __webpack_require__(196);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__pages_documents_links_agenda_agenda__ = __webpack_require__(125);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__pages_documents_links_agenda_create_create__ = __webpack_require__(474);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__pages_documents_links_contact_external_create_create__ = __webpack_require__(130);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__pages_documents_links_contact_external_contact_external__ = __webpack_require__(131);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__pages_documents_links_infrastructure_create_create__ = __webpack_require__(530);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__pages_documents_links_infrastructure_infrastructure__ = __webpack_require__(140);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__pages_documents_links_contact_internal_create_create__ = __webpack_require__(133);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__pages_documents_links_contact_internal_contact_internal__ = __webpack_require__(134);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_42__pages_documents_links_equipments_equipments__ = __webpack_require__(141);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_43__pages_documents_links_equipments_create_create__ = __webpack_require__(531);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_44__pages_documents_links_documents_documents__ = __webpack_require__(142);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_45__pages_documents_links_documents_create_create__ = __webpack_require__(533);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_46__pages_search_users_list_list__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_47__pages_documents_documents_share_users_users__ = __webpack_require__(916);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_48__pages_tags_list_list__ = __webpack_require__(242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_49__pages_notifications_notifications__ = __webpack_require__(192);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_50__pages_notifications_notification_setting_notification_setting__ = __webpack_require__(535);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_51__pages_settings_settings__ = __webpack_require__(238);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_52__pages_items_items__ = __webpack_require__(536);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_53__pages_login_login1_more__ = __webpack_require__(539);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_54__pages_documents_links_equipments_create_modal__ = __webpack_require__(532);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_55__pages_common_articles_articles__ = __webpack_require__(100);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_56__pages_common_infrastructure_infrastructure__ = __webpack_require__(86);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_57__pages_common_infrastructure_infrastructurelocationmodal__ = __webpack_require__(227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_58__pages_common_infrastructure_locationlistmodal__ = __webpack_require__(493);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_59__pages_common_document_document__ = __webpack_require__(534);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_60__pages_agenda_list_list__ = __webpack_require__(241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_61__pages_agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_62__pages_agenda_create_create__ = __webpack_require__(78);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_63__pages_agenda_links_contact_external_contact_external__ = __webpack_require__(475);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_64__pages_agenda_links_documents_documents__ = __webpack_require__(527);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_65__pages_agenda_links_contact_external_create_create__ = __webpack_require__(211);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_66__pages_agenda_links_documents_create_create__ = __webpack_require__(199);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_67__pages_agenda_links_infrastructure_infrastructure__ = __webpack_require__(236);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_68__pages_agenda_links_infrastructure_create_create__ = __webpack_require__(528);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_69__pages_agenda_links_contact_internal_create_create__ = __webpack_require__(218);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_70__pages_agenda_links_contact_internal_contact_internal__ = __webpack_require__(219);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_71__pages_agenda_links_equipments_create_create__ = __webpack_require__(529);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_72__pages_agenda_links_equipments_equipments__ = __webpack_require__(237);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_73__pages_agenda_attendees_attendees__ = __webpack_require__(917);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_74__pages_contact_external_list_list__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_75__pages_contact_external_show_show__ = __webpack_require__(59);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_76__pages_contact_external_create_screen1_screen1__ = __webpack_require__(80);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_77__pages_contact_external_create_screen1_create_create__ = __webpack_require__(485);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_78__pages_contact_external_create_screen2_create_create__ = __webpack_require__(484);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_79__pages_contact_external_create_screen3_create_create__ = __webpack_require__(482);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_80__pages_contact_external_create_screen2_screen2__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_81__pages_contact_external_create_screen3_screen3__ = __webpack_require__(210);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_82__pages_contact_external_links_documents_documents__ = __webpack_require__(477);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_83__pages_contact_external_links_documents_create_create__ = __webpack_require__(195);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_84__pages_contact_external_links_agenda_create_create__ = __webpack_require__(524);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_85__pages_contact_external_links_agenda_agenda__ = __webpack_require__(523);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_86__pages_contact_external_create_screen3_upload_upload__ = __webpack_require__(483);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_87__pages_contact_external_links_infrastructure_create_create__ = __webpack_require__(525);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_88__pages_contact_external_links_infrastructure_infrastructure__ = __webpack_require__(234);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_89__pages_contact_external_links_equipments_create_create__ = __webpack_require__(526);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_90__pages_contact_external_links_equipments_equipments__ = __webpack_require__(235);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_91__pages_contact_internal_list_list__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_92__pages_contact_internal_show_show__ = __webpack_require__(47);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_93__pages_contact_internal_create_screen1_screen1__ = __webpack_require__(81);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_94__pages_contact_internal_create_screen2_screen2__ = __webpack_require__(216);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_95__pages_contact_internal_create_screen3_screen3__ = __webpack_require__(217);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_96__pages_contact_internal_create_screen1_create_create__ = __webpack_require__(489);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_97__pages_contact_internal_create_screen2_create_create__ = __webpack_require__(488);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_98__pages_contact_internal_create_screen3_create_create__ = __webpack_require__(486);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_99__pages_contact_internal_create_screen3_upload_upload__ = __webpack_require__(487);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_100__pages_contact_internal_links_documents_documents__ = __webpack_require__(201);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_101__pages_contact_internal_links_documents_create_create__ = __webpack_require__(200);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_102__pages_contact_internal_links_agenda_create_create__ = __webpack_require__(480);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_103__pages_contact_internal_links_agenda_agenda__ = __webpack_require__(202);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_104__pages_contact_internal_links_infrastructure_create_create__ = __webpack_require__(498);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_105__pages_contact_internal_links_infrastructure_infrastructure__ = __webpack_require__(203);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_106__pages_contact_internal_links_equipments_equipments__ = __webpack_require__(228);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_107__pages_contact_internal_links_equipments_create_create__ = __webpack_require__(499);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_108__pages_infrastructure_list_list__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_109__pages_infrastructure_show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_110__pages_infrastructure_levels_levels__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_111__pages_infrastructure_create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_112__pages_infrastructure_links_documents_documents__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_113__pages_infrastructure_links_agenda_agenda__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_114__pages_infrastructure_links_agenda_create_create__ = __webpack_require__(481);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_115__pages_infrastructure_links_documents_create_create__ = __webpack_require__(205);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_116__pages_infrastructure_links_contact_external_contact_external__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_117__pages_infrastructure_links_contact_external_create_create__ = __webpack_require__(208);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_118__pages_infrastructure_links_contact_internal_contact_internal__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_119__pages_infrastructure_links_contact_internal_create_create__ = __webpack_require__(215);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_120__pages_infrastructure_links_equipments_equipments__ = __webpack_require__(222);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_121__pages_infrastructure_links_equipments_create_create__ = __webpack_require__(490);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_122__pages_equipments_list_list__ = __webpack_require__(135);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_123__pages_equipments_levels_levels__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_124__pages_equipments_models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_125__pages_equipments_articles_articles__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_126__pages_equipments_menu_menu__ = __webpack_require__(240);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_127__pages_equipments_articles_description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_128__pages_equipments_models_description_description__ = __webpack_require__(495);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_129__pages_equipments_levels_description_description__ = __webpack_require__(497);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_130__pages_equipments_models_create_create__ = __webpack_require__(496);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_131__pages_equipments_articles_create_create__ = __webpack_require__(494);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_132__pages_equipments_links_contact_external_contact_external__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_133__pages_equipments_links_contact_external_create_create__ = __webpack_require__(212);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_134__pages_equipments_links_contact_internal_contact_internal__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_135__pages_equipments_links_contact_internal_create_create__ = __webpack_require__(220);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_136__pages_equipments_links_documents_documents__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_137__pages_equipments_links_documents_create_create__ = __webpack_require__(224);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_138__pages_equipments_links_agenda_agenda__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_139__pages_equipments_links_agenda_create_create__ = __webpack_require__(491);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_140__pages_equipments_links_infrastructure_infrastructure__ = __webpack_require__(226);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_141__pages_equipments_links_infrastructure_create_create__ = __webpack_require__(492);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_142__pages_equipments_search_search__ = __webpack_require__(540);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_143__pages_equipments_search_result_result__ = __webpack_require__(541);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_144__pages_equipments_list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_145__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_146__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_147__helpers_validation_helper__ = __webpack_require__(537);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_148__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_149__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_150__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_151__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_152__providers_notifications_service_notifications_service__ = __webpack_require__(83);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_153__providers_contact_service_contact_service__ = __webpack_require__(9);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
















//Login & Registration






//Dashboard


//Documents























//Requests

//Others












//document

//Agenda














//Contacts External

















//Contacts Internal

















//Infrastructure














//Equipments























//Helpers



//Providers






var AppModule = (function () {
    function AppModule() {
    }
    AppModule = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
            declarations: [
                __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_15__pages_login_login1_login1__["a" /* Login1Page */],
                __WEBPACK_IMPORTED_MODULE_53__pages_login_login1_more__["a" /* PopoverPage */],
                __WEBPACK_IMPORTED_MODULE_16__pages_login_login2_login2__["a" /* Login2Page */],
                __WEBPACK_IMPORTED_MODULE_17__pages_pin_step1_step1__["a" /* Step1Page */],
                __WEBPACK_IMPORTED_MODULE_18__pages_pin_step2_step2__["a" /* Step2Page */],
                __WEBPACK_IMPORTED_MODULE_19__pages_register_register__["a" /* RegisterPage */],
                __WEBPACK_IMPORTED_MODULE_20__pages_profile_edit_edit__["a" /* EditPage */],
                __WEBPACK_IMPORTED_MODULE_21__pages_dashboard_dashboard__["a" /* Dashboard */],
                __WEBPACK_IMPORTED_MODULE_22__pages_profile_profile__["a" /* ProfilePage */],
                __WEBPACK_IMPORTED_MODULE_23__pages_documents_documents_list_documents_list__["a" /* DocumentsList */],
                __WEBPACK_IMPORTED_MODULE_24__pages_documents_documents_share_documents_share__["a" /* DocumentsShare */],
                __WEBPACK_IMPORTED_MODULE_25__pages_documents_documents_shared_documents_shared__["a" /* DocumentsShared */],
                __WEBPACK_IMPORTED_MODULE_26__pages_documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */],
                __WEBPACK_IMPORTED_MODULE_27__pages_documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */],
                __WEBPACK_IMPORTED_MODULE_28__pages_documents_documents_result_documents_result__["a" /* DocumentsResult */],
                __WEBPACK_IMPORTED_MODULE_29__pages_documents_documents_conditions_documents_conditions__["a" /* DocumentsConditions */],
                __WEBPACK_IMPORTED_MODULE_30__pages_documents_documents_create_screen1_screen1__["a" /* Screen1 */],
                __WEBPACK_IMPORTED_MODULE_31__pages_documents_documents_create_screen2_screen2__["a" /* Screen2 */],
                __WEBPACK_IMPORTED_MODULE_32__pages_documents_documents_create_screen3_screen3__["a" /* Screen3 */],
                __WEBPACK_IMPORTED_MODULE_33__pages_documents_documents_create_uploading_uploading__["a" /* Uploading */],
                __WEBPACK_IMPORTED_MODULE_34__pages_documents_links_agenda_agenda__["a" /* LinkedAgendaWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_35__pages_documents_links_agenda_create_create__["a" /* CreateLinkedAgendaForDocuments */],
                __WEBPACK_IMPORTED_MODULE_108__pages_infrastructure_list_list__["a" /* Infrastructure */],
                __WEBPACK_IMPORTED_MODULE_60__pages_agenda_list_list__["a" /* Agenda */],
                __WEBPACK_IMPORTED_MODULE_61__pages_agenda_show_show__["a" /* AgendaDescription */],
                __WEBPACK_IMPORTED_MODULE_62__pages_agenda_create_create__["a" /* AgendaCreate */],
                __WEBPACK_IMPORTED_MODULE_48__pages_tags_list_list__["a" /* Tags */],
                __WEBPACK_IMPORTED_MODULE_47__pages_documents_documents_share_users_users__["a" /* Users */],
                __WEBPACK_IMPORTED_MODULE_52__pages_items_items__["a" /* Items */],
                __WEBPACK_IMPORTED_MODULE_49__pages_notifications_notifications__["a" /* Notifications */],
                __WEBPACK_IMPORTED_MODULE_50__pages_notifications_notification_setting_notification_setting__["a" /* NotificationSetting */],
                __WEBPACK_IMPORTED_MODULE_51__pages_settings_settings__["a" /* Settings */],
                __WEBPACK_IMPORTED_MODULE_74__pages_contact_external_list_list__["a" /* ContactExternal */],
                __WEBPACK_IMPORTED_MODULE_75__pages_contact_external_show_show__["a" /* ContactExternalDescription */],
                __WEBPACK_IMPORTED_MODULE_76__pages_contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */],
                __WEBPACK_IMPORTED_MODULE_80__pages_contact_external_create_screen2_screen2__["a" /* ContactExternalCreateScreen2 */],
                __WEBPACK_IMPORTED_MODULE_81__pages_contact_external_create_screen3_screen3__["a" /* ContactExternalCreateScreen3 */],
                __WEBPACK_IMPORTED_MODULE_65__pages_agenda_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForAgenda */],
                __WEBPACK_IMPORTED_MODULE_36__pages_documents_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForDocuments */],
                __WEBPACK_IMPORTED_MODULE_82__pages_contact_external_links_documents_documents__["a" /* LinkedDocumentsWithCE */],
                __WEBPACK_IMPORTED_MODULE_83__pages_contact_external_links_documents_create_create__["a" /* CreateLinkedDocumentForCE */],
                __WEBPACK_IMPORTED_MODULE_85__pages_contact_external_links_agenda_agenda__["a" /* LinkedAgendaWithCE */],
                __WEBPACK_IMPORTED_MODULE_84__pages_contact_external_links_agenda_create_create__["a" /* CreateLinkedAgendaForCE */],
                __WEBPACK_IMPORTED_MODULE_37__pages_documents_links_contact_external_contact_external__["a" /* LinkedContactExternalWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_66__pages_agenda_links_documents_create_create__["a" /* CreateLinkedDocument */],
                __WEBPACK_IMPORTED_MODULE_63__pages_agenda_links_contact_external_contact_external__["a" /* LinkedContactExternalWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_86__pages_contact_external_create_screen3_upload_upload__["a" /* UploadProfilePictureCE */],
                __WEBPACK_IMPORTED_MODULE_100__pages_contact_internal_links_documents_documents__["a" /* LinkedDocumentsWithCI */],
                __WEBPACK_IMPORTED_MODULE_101__pages_contact_internal_links_documents_create_create__["a" /* CreateLinkedDocumentForCI */],
                __WEBPACK_IMPORTED_MODULE_102__pages_contact_internal_links_agenda_create_create__["a" /* CreateLinkedAgendaForCI */],
                __WEBPACK_IMPORTED_MODULE_103__pages_contact_internal_links_agenda_agenda__["a" /* LinkedAgendaWithCI */],
                __WEBPACK_IMPORTED_MODULE_64__pages_agenda_links_documents_documents__["a" /* LinkedDocuments */],
                __WEBPACK_IMPORTED_MODULE_77__pages_contact_external_create_screen1_create_create__["a" /* CreateOrganisation */],
                __WEBPACK_IMPORTED_MODULE_78__pages_contact_external_create_screen2_create_create__["a" /* CreateDivision */],
                __WEBPACK_IMPORTED_MODULE_79__pages_contact_external_create_screen3_create_create__["a" /* CreatePerson */],
                __WEBPACK_IMPORTED_MODULE_91__pages_contact_internal_list_list__["a" /* ContactInternal */],
                __WEBPACK_IMPORTED_MODULE_92__pages_contact_internal_show_show__["a" /* ContactInternalDescription */],
                __WEBPACK_IMPORTED_MODULE_93__pages_contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */],
                __WEBPACK_IMPORTED_MODULE_94__pages_contact_internal_create_screen2_screen2__["a" /* ContactInternalCreateScreen2 */],
                __WEBPACK_IMPORTED_MODULE_95__pages_contact_internal_create_screen3_screen3__["a" /* ContactInternalCreateScreen3 */],
                __WEBPACK_IMPORTED_MODULE_96__pages_contact_internal_create_screen1_create_create__["a" /* CreateSite */],
                __WEBPACK_IMPORTED_MODULE_97__pages_contact_internal_create_screen2_create_create__["a" /* CreateDepartment */],
                __WEBPACK_IMPORTED_MODULE_98__pages_contact_internal_create_screen3_create_create__["a" /* CreatePersonCI */],
                __WEBPACK_IMPORTED_MODULE_99__pages_contact_internal_create_screen3_upload_upload__["a" /* UploadProfilePictureCI */],
                __WEBPACK_IMPORTED_MODULE_109__pages_infrastructure_show_show__["a" /* InfrastructureDescription */],
                __WEBPACK_IMPORTED_MODULE_110__pages_infrastructure_levels_levels__["a" /* InfrastructureLevels */],
                __WEBPACK_IMPORTED_MODULE_111__pages_infrastructure_create_create__["a" /* InfrastructureCreate */],
                __WEBPACK_IMPORTED_MODULE_112__pages_infrastructure_links_documents_documents__["a" /* LinkedDocumentsWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_113__pages_infrastructure_links_agenda_agenda__["a" /* LinkedAgendaWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_114__pages_infrastructure_links_agenda_create_create__["a" /* CreateLinkedAgendaForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_115__pages_infrastructure_links_documents_create_create__["a" /* CreateLinkedDocumentForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_116__pages_infrastructure_links_contact_external_contact_external__["a" /* LinkedContactExternalWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_117__pages_infrastructure_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_118__pages_infrastructure_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_119__pages_infrastructure_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_67__pages_agenda_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_68__pages_agenda_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForAgenda */],
                __WEBPACK_IMPORTED_MODULE_38__pages_documents_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForDocuments */],
                __WEBPACK_IMPORTED_MODULE_39__pages_documents_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_40__pages_documents_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForDocuments */],
                __WEBPACK_IMPORTED_MODULE_41__pages_documents_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_69__pages_agenda_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForAgenda */],
                __WEBPACK_IMPORTED_MODULE_70__pages_agenda_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_104__pages_contact_internal_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForCI */],
                __WEBPACK_IMPORTED_MODULE_105__pages_contact_internal_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCI */],
                __WEBPACK_IMPORTED_MODULE_87__pages_contact_external_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForCE */],
                __WEBPACK_IMPORTED_MODULE_88__pages_contact_external_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCE */],
                __WEBPACK_IMPORTED_MODULE_122__pages_equipments_list_list__["a" /* Equipments */],
                __WEBPACK_IMPORTED_MODULE_123__pages_equipments_levels_levels__["a" /* EquipmentsLevels */],
                __WEBPACK_IMPORTED_MODULE_124__pages_equipments_models_models__["a" /* EquipmentsModels */],
                __WEBPACK_IMPORTED_MODULE_125__pages_equipments_articles_articles__["a" /* EquipmentsArticles */],
                __WEBPACK_IMPORTED_MODULE_126__pages_equipments_menu_menu__["a" /* EquipmentsMenu */],
                __WEBPACK_IMPORTED_MODULE_127__pages_equipments_articles_description_description__["a" /* EquipmentsArticleDescription */],
                __WEBPACK_IMPORTED_MODULE_128__pages_equipments_models_description_description__["a" /* EquipmentsModelDescription */],
                __WEBPACK_IMPORTED_MODULE_129__pages_equipments_levels_description_description__["a" /* EquipmentsLevelDescription */],
                __WEBPACK_IMPORTED_MODULE_130__pages_equipments_models_create_create__["a" /* EquipmentsModelCreate */],
                __WEBPACK_IMPORTED_MODULE_131__pages_equipments_articles_create_create__["a" /* EquipmentsArticleCreate */],
                __WEBPACK_IMPORTED_MODULE_132__pages_equipments_links_contact_external_contact_external__["a" /* LinkedContactExternalWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_133__pages_equipments_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForEquipments */],
                __WEBPACK_IMPORTED_MODULE_134__pages_equipments_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_135__pages_equipments_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForEquipments */],
                __WEBPACK_IMPORTED_MODULE_136__pages_equipments_links_documents_documents__["a" /* LinkedDocumentsWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_137__pages_equipments_links_documents_create_create__["a" /* CreateLinkedDocumentsForEquipments */],
                __WEBPACK_IMPORTED_MODULE_138__pages_equipments_links_agenda_agenda__["a" /* LinkedAgendaWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_139__pages_equipments_links_agenda_create_create__["a" /* CreateLinkedAgendaForEquipments */],
                __WEBPACK_IMPORTED_MODULE_140__pages_equipments_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_141__pages_equipments_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForEquipments */],
                __WEBPACK_IMPORTED_MODULE_142__pages_equipments_search_search__["a" /* EquipmentsSearch */],
                __WEBPACK_IMPORTED_MODULE_143__pages_equipments_search_result_result__["a" /* EquipmentsResult */],
                __WEBPACK_IMPORTED_MODULE_144__pages_equipments_list_create_create__["a" /* CreateEquipmentLevel */],
                __WEBPACK_IMPORTED_MODULE_42__pages_documents_links_equipments_equipments__["a" /* LinkedEquipmentWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_43__pages_documents_links_equipments_create_create__["a" /* CreateLinkedEquipmentForDocuments */],
                __WEBPACK_IMPORTED_MODULE_71__pages_agenda_links_equipments_create_create__["a" /* CreateLinkedEquipmentForAgenda */],
                __WEBPACK_IMPORTED_MODULE_72__pages_agenda_links_equipments_equipments__["a" /* LinkedEquipmentWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_120__pages_infrastructure_links_equipments_equipments__["a" /* LinkedEquipmentWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_121__pages_infrastructure_links_equipments_create_create__["a" /* CreateLinkedEquipmentForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_106__pages_contact_internal_links_equipments_equipments__["a" /* LinkedEquipmentWithCI */],
                __WEBPACK_IMPORTED_MODULE_107__pages_contact_internal_links_equipments_create_create__["a" /* CreateLinkedEquipmentForCI */],
                __WEBPACK_IMPORTED_MODULE_46__pages_search_users_list_list__["a" /* SearchUsers */],
                __WEBPACK_IMPORTED_MODULE_73__pages_agenda_attendees_attendees__["a" /* Attendees */],
                __WEBPACK_IMPORTED_MODULE_44__pages_documents_links_documents_documents__["a" /* LinkedDocumentWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_45__pages_documents_links_documents_create_create__["a" /* CreateLinkedDocumentForDocument */],
                __WEBPACK_IMPORTED_MODULE_89__pages_contact_external_links_equipments_create_create__["a" /* CreateLinkedEquipmentForCE */],
                __WEBPACK_IMPORTED_MODULE_90__pages_contact_external_links_equipments_equipments__["a" /* LinkedEquipmentWithCE */],
                __WEBPACK_IMPORTED_MODULE_54__pages_documents_links_equipments_create_modal__["a" /* CreateLinkedEquipmentForDocumentsModal */],
                __WEBPACK_IMPORTED_MODULE_55__pages_common_articles_articles__["a" /* CreateArticleModal */],
                __WEBPACK_IMPORTED_MODULE_56__pages_common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */],
                __WEBPACK_IMPORTED_MODULE_59__pages_common_document_document__["a" /* CreateDocument */],
                __WEBPACK_IMPORTED_MODULE_57__pages_common_infrastructure_infrastructurelocationmodal__["a" /* InfrastructureLocationModal */],
                __WEBPACK_IMPORTED_MODULE_58__pages_common_infrastructure_locationlistmodal__["a" /* LocationListModal */]
            ],
            imports: [
                __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["a" /* BrowserModule */],
                __WEBPACK_IMPORTED_MODULE_4__angular_http__["c" /* HttpModule */],
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicModule"].forRoot(__WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */], {}, {
                    links: []
                }),
                __WEBPACK_IMPORTED_MODULE_13_ion2_calendar__["CalendarModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
                __WEBPACK_IMPORTED_MODULE_3__angular_forms__["ReactiveFormsModule"]
            ],
            bootstrap: [__WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicApp"]],
            entryComponents: [
                __WEBPACK_IMPORTED_MODULE_5__app_component__["a" /* MyApp */],
                __WEBPACK_IMPORTED_MODULE_15__pages_login_login1_login1__["a" /* Login1Page */],
                __WEBPACK_IMPORTED_MODULE_53__pages_login_login1_more__["a" /* PopoverPage */],
                __WEBPACK_IMPORTED_MODULE_16__pages_login_login2_login2__["a" /* Login2Page */],
                __WEBPACK_IMPORTED_MODULE_17__pages_pin_step1_step1__["a" /* Step1Page */],
                __WEBPACK_IMPORTED_MODULE_18__pages_pin_step2_step2__["a" /* Step2Page */],
                __WEBPACK_IMPORTED_MODULE_19__pages_register_register__["a" /* RegisterPage */],
                __WEBPACK_IMPORTED_MODULE_20__pages_profile_edit_edit__["a" /* EditPage */],
                __WEBPACK_IMPORTED_MODULE_21__pages_dashboard_dashboard__["a" /* Dashboard */],
                __WEBPACK_IMPORTED_MODULE_22__pages_profile_profile__["a" /* ProfilePage */],
                __WEBPACK_IMPORTED_MODULE_23__pages_documents_documents_list_documents_list__["a" /* DocumentsList */],
                __WEBPACK_IMPORTED_MODULE_24__pages_documents_documents_share_documents_share__["a" /* DocumentsShare */],
                __WEBPACK_IMPORTED_MODULE_25__pages_documents_documents_shared_documents_shared__["a" /* DocumentsShared */],
                __WEBPACK_IMPORTED_MODULE_26__pages_documents_documents_list_view_documents_list_view__["a" /* DocumentsListView */],
                __WEBPACK_IMPORTED_MODULE_27__pages_documents_documents_list_info_documents_list_info__["a" /* DocumentsListInfo */],
                __WEBPACK_IMPORTED_MODULE_28__pages_documents_documents_result_documents_result__["a" /* DocumentsResult */],
                __WEBPACK_IMPORTED_MODULE_29__pages_documents_documents_conditions_documents_conditions__["a" /* DocumentsConditions */],
                __WEBPACK_IMPORTED_MODULE_30__pages_documents_documents_create_screen1_screen1__["a" /* Screen1 */],
                __WEBPACK_IMPORTED_MODULE_31__pages_documents_documents_create_screen2_screen2__["a" /* Screen2 */],
                __WEBPACK_IMPORTED_MODULE_32__pages_documents_documents_create_screen3_screen3__["a" /* Screen3 */],
                __WEBPACK_IMPORTED_MODULE_33__pages_documents_documents_create_uploading_uploading__["a" /* Uploading */],
                __WEBPACK_IMPORTED_MODULE_34__pages_documents_links_agenda_agenda__["a" /* LinkedAgendaWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_35__pages_documents_links_agenda_create_create__["a" /* CreateLinkedAgendaForDocuments */],
                __WEBPACK_IMPORTED_MODULE_36__pages_documents_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForDocuments */],
                __WEBPACK_IMPORTED_MODULE_82__pages_contact_external_links_documents_documents__["a" /* LinkedDocumentsWithCE */],
                __WEBPACK_IMPORTED_MODULE_83__pages_contact_external_links_documents_create_create__["a" /* CreateLinkedDocumentForCE */],
                __WEBPACK_IMPORTED_MODULE_85__pages_contact_external_links_agenda_agenda__["a" /* LinkedAgendaWithCE */],
                __WEBPACK_IMPORTED_MODULE_84__pages_contact_external_links_agenda_create_create__["a" /* CreateLinkedAgendaForCE */],
                __WEBPACK_IMPORTED_MODULE_37__pages_documents_links_contact_external_contact_external__["a" /* LinkedContactExternalWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_108__pages_infrastructure_list_list__["a" /* Infrastructure */],
                __WEBPACK_IMPORTED_MODULE_60__pages_agenda_list_list__["a" /* Agenda */],
                __WEBPACK_IMPORTED_MODULE_61__pages_agenda_show_show__["a" /* AgendaDescription */],
                __WEBPACK_IMPORTED_MODULE_62__pages_agenda_create_create__["a" /* AgendaCreate */],
                __WEBPACK_IMPORTED_MODULE_48__pages_tags_list_list__["a" /* Tags */],
                __WEBPACK_IMPORTED_MODULE_47__pages_documents_documents_share_users_users__["a" /* Users */],
                __WEBPACK_IMPORTED_MODULE_52__pages_items_items__["a" /* Items */],
                __WEBPACK_IMPORTED_MODULE_49__pages_notifications_notifications__["a" /* Notifications */],
                __WEBPACK_IMPORTED_MODULE_50__pages_notifications_notification_setting_notification_setting__["a" /* NotificationSetting */],
                __WEBPACK_IMPORTED_MODULE_51__pages_settings_settings__["a" /* Settings */],
                __WEBPACK_IMPORTED_MODULE_74__pages_contact_external_list_list__["a" /* ContactExternal */],
                __WEBPACK_IMPORTED_MODULE_75__pages_contact_external_show_show__["a" /* ContactExternalDescription */],
                __WEBPACK_IMPORTED_MODULE_76__pages_contact_external_create_screen1_screen1__["a" /* ContactExternalCreateScreen1 */],
                __WEBPACK_IMPORTED_MODULE_80__pages_contact_external_create_screen2_screen2__["a" /* ContactExternalCreateScreen2 */],
                __WEBPACK_IMPORTED_MODULE_81__pages_contact_external_create_screen3_screen3__["a" /* ContactExternalCreateScreen3 */],
                __WEBPACK_IMPORTED_MODULE_65__pages_agenda_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForAgenda */],
                __WEBPACK_IMPORTED_MODULE_66__pages_agenda_links_documents_create_create__["a" /* CreateLinkedDocument */],
                __WEBPACK_IMPORTED_MODULE_63__pages_agenda_links_contact_external_contact_external__["a" /* LinkedContactExternalWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_100__pages_contact_internal_links_documents_documents__["a" /* LinkedDocumentsWithCI */],
                __WEBPACK_IMPORTED_MODULE_101__pages_contact_internal_links_documents_create_create__["a" /* CreateLinkedDocumentForCI */],
                __WEBPACK_IMPORTED_MODULE_102__pages_contact_internal_links_agenda_create_create__["a" /* CreateLinkedAgendaForCI */],
                __WEBPACK_IMPORTED_MODULE_103__pages_contact_internal_links_agenda_agenda__["a" /* LinkedAgendaWithCI */],
                __WEBPACK_IMPORTED_MODULE_86__pages_contact_external_create_screen3_upload_upload__["a" /* UploadProfilePictureCE */],
                __WEBPACK_IMPORTED_MODULE_64__pages_agenda_links_documents_documents__["a" /* LinkedDocuments */],
                __WEBPACK_IMPORTED_MODULE_77__pages_contact_external_create_screen1_create_create__["a" /* CreateOrganisation */],
                __WEBPACK_IMPORTED_MODULE_78__pages_contact_external_create_screen2_create_create__["a" /* CreateDivision */],
                __WEBPACK_IMPORTED_MODULE_79__pages_contact_external_create_screen3_create_create__["a" /* CreatePerson */],
                __WEBPACK_IMPORTED_MODULE_91__pages_contact_internal_list_list__["a" /* ContactInternal */],
                __WEBPACK_IMPORTED_MODULE_92__pages_contact_internal_show_show__["a" /* ContactInternalDescription */],
                __WEBPACK_IMPORTED_MODULE_93__pages_contact_internal_create_screen1_screen1__["a" /* ContactInternalCreateScreen1 */],
                __WEBPACK_IMPORTED_MODULE_94__pages_contact_internal_create_screen2_screen2__["a" /* ContactInternalCreateScreen2 */],
                __WEBPACK_IMPORTED_MODULE_95__pages_contact_internal_create_screen3_screen3__["a" /* ContactInternalCreateScreen3 */],
                __WEBPACK_IMPORTED_MODULE_96__pages_contact_internal_create_screen1_create_create__["a" /* CreateSite */],
                __WEBPACK_IMPORTED_MODULE_97__pages_contact_internal_create_screen2_create_create__["a" /* CreateDepartment */],
                __WEBPACK_IMPORTED_MODULE_98__pages_contact_internal_create_screen3_create_create__["a" /* CreatePersonCI */],
                __WEBPACK_IMPORTED_MODULE_99__pages_contact_internal_create_screen3_upload_upload__["a" /* UploadProfilePictureCI */],
                __WEBPACK_IMPORTED_MODULE_109__pages_infrastructure_show_show__["a" /* InfrastructureDescription */],
                __WEBPACK_IMPORTED_MODULE_110__pages_infrastructure_levels_levels__["a" /* InfrastructureLevels */],
                __WEBPACK_IMPORTED_MODULE_111__pages_infrastructure_create_create__["a" /* InfrastructureCreate */],
                __WEBPACK_IMPORTED_MODULE_112__pages_infrastructure_links_documents_documents__["a" /* LinkedDocumentsWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_113__pages_infrastructure_links_agenda_agenda__["a" /* LinkedAgendaWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_114__pages_infrastructure_links_agenda_create_create__["a" /* CreateLinkedAgendaForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_115__pages_infrastructure_links_documents_create_create__["a" /* CreateLinkedDocumentForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_116__pages_infrastructure_links_contact_external_contact_external__["a" /* LinkedContactExternalWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_117__pages_infrastructure_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_118__pages_infrastructure_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_119__pages_infrastructure_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_67__pages_agenda_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_68__pages_agenda_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForAgenda */],
                __WEBPACK_IMPORTED_MODULE_38__pages_documents_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForDocuments */],
                __WEBPACK_IMPORTED_MODULE_39__pages_documents_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_40__pages_documents_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForDocuments */],
                __WEBPACK_IMPORTED_MODULE_41__pages_documents_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_69__pages_agenda_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForAgenda */],
                __WEBPACK_IMPORTED_MODULE_70__pages_agenda_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_104__pages_contact_internal_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForCI */],
                __WEBPACK_IMPORTED_MODULE_105__pages_contact_internal_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCI */],
                __WEBPACK_IMPORTED_MODULE_87__pages_contact_external_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForCE */],
                __WEBPACK_IMPORTED_MODULE_88__pages_contact_external_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCE */],
                __WEBPACK_IMPORTED_MODULE_122__pages_equipments_list_list__["a" /* Equipments */],
                __WEBPACK_IMPORTED_MODULE_123__pages_equipments_levels_levels__["a" /* EquipmentsLevels */],
                __WEBPACK_IMPORTED_MODULE_124__pages_equipments_models_models__["a" /* EquipmentsModels */],
                __WEBPACK_IMPORTED_MODULE_125__pages_equipments_articles_articles__["a" /* EquipmentsArticles */],
                __WEBPACK_IMPORTED_MODULE_126__pages_equipments_menu_menu__["a" /* EquipmentsMenu */],
                __WEBPACK_IMPORTED_MODULE_127__pages_equipments_articles_description_description__["a" /* EquipmentsArticleDescription */],
                __WEBPACK_IMPORTED_MODULE_128__pages_equipments_models_description_description__["a" /* EquipmentsModelDescription */],
                __WEBPACK_IMPORTED_MODULE_129__pages_equipments_levels_description_description__["a" /* EquipmentsLevelDescription */],
                __WEBPACK_IMPORTED_MODULE_130__pages_equipments_models_create_create__["a" /* EquipmentsModelCreate */],
                __WEBPACK_IMPORTED_MODULE_131__pages_equipments_articles_create_create__["a" /* EquipmentsArticleCreate */],
                __WEBPACK_IMPORTED_MODULE_132__pages_equipments_links_contact_external_contact_external__["a" /* LinkedContactExternalWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_133__pages_equipments_links_contact_external_create_create__["a" /* CreateLinkedContactExternalForEquipments */],
                __WEBPACK_IMPORTED_MODULE_134__pages_equipments_links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_135__pages_equipments_links_contact_internal_create_create__["a" /* CreateLinkedContactInternalForEquipments */],
                __WEBPACK_IMPORTED_MODULE_136__pages_equipments_links_documents_documents__["a" /* LinkedDocumentsWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_137__pages_equipments_links_documents_create_create__["a" /* CreateLinkedDocumentsForEquipments */],
                __WEBPACK_IMPORTED_MODULE_138__pages_equipments_links_agenda_agenda__["a" /* LinkedAgendaWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_139__pages_equipments_links_agenda_create_create__["a" /* CreateLinkedAgendaForEquipments */],
                __WEBPACK_IMPORTED_MODULE_140__pages_equipments_links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithEquipments */],
                __WEBPACK_IMPORTED_MODULE_141__pages_equipments_links_infrastructure_create_create__["a" /* CreateLinkedInfrastructureForEquipments */],
                __WEBPACK_IMPORTED_MODULE_142__pages_equipments_search_search__["a" /* EquipmentsSearch */],
                __WEBPACK_IMPORTED_MODULE_143__pages_equipments_search_result_result__["a" /* EquipmentsResult */],
                __WEBPACK_IMPORTED_MODULE_144__pages_equipments_list_create_create__["a" /* CreateEquipmentLevel */],
                __WEBPACK_IMPORTED_MODULE_42__pages_documents_links_equipments_equipments__["a" /* LinkedEquipmentWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_43__pages_documents_links_equipments_create_create__["a" /* CreateLinkedEquipmentForDocuments */],
                __WEBPACK_IMPORTED_MODULE_71__pages_agenda_links_equipments_create_create__["a" /* CreateLinkedEquipmentForAgenda */],
                __WEBPACK_IMPORTED_MODULE_72__pages_agenda_links_equipments_equipments__["a" /* LinkedEquipmentWithAgenda */],
                __WEBPACK_IMPORTED_MODULE_120__pages_infrastructure_links_equipments_equipments__["a" /* LinkedEquipmentWithInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_121__pages_infrastructure_links_equipments_create_create__["a" /* CreateLinkedEquipmentForInfrastructure */],
                __WEBPACK_IMPORTED_MODULE_106__pages_contact_internal_links_equipments_equipments__["a" /* LinkedEquipmentWithCI */],
                __WEBPACK_IMPORTED_MODULE_107__pages_contact_internal_links_equipments_create_create__["a" /* CreateLinkedEquipmentForCI */],
                __WEBPACK_IMPORTED_MODULE_46__pages_search_users_list_list__["a" /* SearchUsers */],
                __WEBPACK_IMPORTED_MODULE_73__pages_agenda_attendees_attendees__["a" /* Attendees */],
                __WEBPACK_IMPORTED_MODULE_44__pages_documents_links_documents_documents__["a" /* LinkedDocumentWithDocuments */],
                __WEBPACK_IMPORTED_MODULE_45__pages_documents_links_documents_create_create__["a" /* CreateLinkedDocumentForDocument */],
                __WEBPACK_IMPORTED_MODULE_89__pages_contact_external_links_equipments_create_create__["a" /* CreateLinkedEquipmentForCE */],
                __WEBPACK_IMPORTED_MODULE_90__pages_contact_external_links_equipments_equipments__["a" /* LinkedEquipmentWithCE */],
                __WEBPACK_IMPORTED_MODULE_54__pages_documents_links_equipments_create_modal__["a" /* CreateLinkedEquipmentForDocumentsModal */],
                __WEBPACK_IMPORTED_MODULE_55__pages_common_articles_articles__["a" /* CreateArticleModal */],
                __WEBPACK_IMPORTED_MODULE_56__pages_common_infrastructure_infrastructure__["a" /* CreateInfrastructureModal */],
                __WEBPACK_IMPORTED_MODULE_59__pages_common_document_document__["a" /* CreateDocument */],
                __WEBPACK_IMPORTED_MODULE_57__pages_common_infrastructure_infrastructurelocationmodal__["a" /* InfrastructureLocationModal */],
                __WEBPACK_IMPORTED_MODULE_58__pages_common_infrastructure_locationlistmodal__["a" /* LocationListModal */]
            ],
            providers: [
                __WEBPACK_IMPORTED_MODULE_6__ionic_native_status_bar__["a" /* StatusBar */],
                __WEBPACK_IMPORTED_MODULE_7__ionic_native_splash_screen__["a" /* SplashScreen */],
                __WEBPACK_IMPORTED_MODULE_145__helpers_notifications_helper__["a" /* NotificationsHelper */],
                __WEBPACK_IMPORTED_MODULE_146__helpers_session_helper__["a" /* SessionHelper */],
                __WEBPACK_IMPORTED_MODULE_147__helpers_validation_helper__["a" /* ValidationHelper */],
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_in_app_browser__["a" /* InAppBrowser */],
                __WEBPACK_IMPORTED_MODULE_9__ionic_native_photo_viewer__["a" /* PhotoViewer */],
                __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_transfer__["a" /* FileTransfer */],
                __WEBPACK_IMPORTED_MODULE_14__ionic_native_media_capture_ngx__["a" /* MediaCapture */],
                __WEBPACK_IMPORTED_MODULE_10__ionic_native_file_transfer__["b" /* FileTransferObject */],
                __WEBPACK_IMPORTED_MODULE_11__ionic_native_file__["a" /* File */],
                __WEBPACK_IMPORTED_MODULE_12__ionic_native_camera__["a" /* Camera */],
                __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["ActionSheetController"],
                { provide: __WEBPACK_IMPORTED_MODULE_0__angular_core__["ErrorHandler"], useClass: __WEBPACK_IMPORTED_MODULE_2_ionic_angular__["IonicErrorHandler"] },
                __WEBPACK_IMPORTED_MODULE_148__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_149__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_150__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_151__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_152__providers_notifications_service_notifications_service__["a" /* NotificationServiceProvider */],
                __WEBPACK_IMPORTED_MODULE_153__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]
            ]
        })
    ], AppModule);
    return AppModule;
}());

//# sourceMappingURL=app.module.js.map

/***/ }),

/***/ 588:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MyApp; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__ = __webpack_require__(341);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__ = __webpack_require__(344);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_network__ = __webpack_require__(595);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__ionic_native_transfer__ = __webpack_require__(50);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_fcm__ = __webpack_require__(596);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__ = __webpack_require__(121);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__ = __webpack_require__(122);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pages_dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pages_profile_profile__ = __webpack_require__(243);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pages_login_login1_login1__ = __webpack_require__(244);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pages_login_login2_login2__ = __webpack_require__(103);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pages_documents_documents_create_screen1_screen1__ = __webpack_require__(60);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pages_documents_documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__pages_notifications_notifications__ = __webpack_require__(192);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pages_settings_settings__ = __webpack_require__(238);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pages_infrastructure_list_list__ = __webpack_require__(69);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__pages_equipments_list_list__ = __webpack_require__(135);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__pages_equipments_menu_menu__ = __webpack_require__(240);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pages_equipments_search_search__ = __webpack_require__(540);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__pages_agenda_list_list__ = __webpack_require__(241);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__pages_agenda_show_show__ = __webpack_require__(45);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__pages_tags_list_list__ = __webpack_require__(242);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__pages_search_users_list_list__ = __webpack_require__(143);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__pages_contact_external_list_list__ = __webpack_require__(129);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__pages_contact_internal_list_list__ = __webpack_require__(132);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
//PLUGINS









//SCREEN COMPONENTS


















//HELPERS & PROVIDERS




var MyApp = (function () {
    function MyApp(app, platform, statusBar, splashScreen, globalVars, sessionHelper, Notification, network, transfer, file, fcm, filePath, events) {
        // if( this.sessionHelper.isLoggedIn() ) {
        //   this.rootPage = Dashboard;
        // } else {
        //   if( !this.sessionHelper.getLastUser() ){
        //     this.rootPage = Login2Page;
        //   }
        // }
        this.app = app;
        this.platform = platform;
        this.statusBar = statusBar;
        this.splashScreen = splashScreen;
        this.globalVars = globalVars;
        this.sessionHelper = sessionHelper;
        this.Notification = Notification;
        this.network = network;
        this.transfer = transfer;
        this.file = file;
        this.fcm = fcm;
        this.filePath = filePath;
        this.events = events;
        // rootPage: any = Login1Page;
        this.rootPage = __WEBPACK_IMPORTED_MODULE_9__pages_dashboard_dashboard__["a" /* Dashboard */];
        this.token = '12';
        this.api_url = __WEBPACK_IMPORTED_MODULE_30__app_config__["a" /* config */].api_url;
        this.profile = { component: __WEBPACK_IMPORTED_MODULE_10__pages_profile_profile__["a" /* ProfilePage */], type: 'profile' };
        this.fileTransfer = this.transfer.create();
        this.submenu = false;
        if (!this.sessionHelper.getLastUser()) {
            this.rootPage = __WEBPACK_IMPORTED_MODULE_12__pages_login_login2_login2__["a" /* Login2Page */];
        }
        this.internetConnection();
        this.current_user = this.sessionHelper.getUser();
        this.platformIsReady();
    }
    MyApp.prototype.platformIsReady = function () {
        var _this = this;
        this.sessionHelper.setUrl();
        this.platform.ready().then(function () {
            _this.statusBar.styleDefault();
            _this.splashScreen.hide();
            // this.hideSplashScreen();
            _this.initVars();
            _this.InitEvents();
            if (_this.sessionHelper.isLoggedIn()) {
                _this.initializeApp();
                _this.token = _this.sessionHelper.getToken();
                _this.current_user = _this.sessionHelper.getUser();
            }
        });
    };
    // hideSplashScreen() {
    //   if (Splashscreen) {
    //     setTimeout(() => {
    //       Splashscreen.hide();
    //     }, 100);
    //   }
    // }
    MyApp.prototype.internetConnection = function () {
        var _this = this;
        this.network.onDisconnect().subscribe(function () {
            _this.Notification.presentToast('Network was disconnected');
        });
    };
    MyApp.prototype.initializeApp = function () {
        this.initFcm();
        if (window.plugins !== undefined) {
            this.initAndroidIntent();
            this.initiOSIntent();
        }
    };
    MyApp.prototype.openPage = function (page) {
        if (page.type == 'equipment') {
            this.submenu = !this.submenu;
            return false;
        }
        else if (page.type == 'logout') {
            this.sessionHelper.clearSession();
        }
        this.goTo(page.component, { logout: true });
    };
    MyApp.prototype.openSubPage = function (page) {
        this.goTo(page.component);
    };
    MyApp.prototype.initFcm = function () {
        var _this = this;
        if (!this.platform.is('cordova')) {
            return false;
        }
        this.fcm.getToken().then(function (token) {
            _this.sessionHelper.setFcmToken(token);
        });
        this.fcm.onNotification().subscribe(function (data) {
            _this.events.publish('reset:notifications');
            if (data.wasTapped) {
                _this.goTo(__WEBPACK_IMPORTED_MODULE_15__pages_notifications_notifications__["a" /* Notifications */]);
            }
            else {
                _this.Notification.presentToast(data.message);
            }
            ;
        });
    };
    MyApp.prototype.goTo = function (state, params) {
        if (params === void 0) { params = {}; }
        this.app.getRootNav().push(state, params);
    };
    MyApp.prototype.initAndroidIntent = function () {
        var _this = this;
        window.plugins.intentShim.registerBroadcastReceiver({
            filterActions: [
                'com.darryncampbell.cordova.plugin.broadcastIntent.ACTION'
            ]
        }, function (intent) {
        });
        window.plugins.intentShim.getIntent(function (intent) {
            _this.redirections(intent);
            _this.setItems(intent.clipItems);
            if (null !== _this.sessionHelper.getToken()) {
                _this.rootPage = __WEBPACK_IMPORTED_MODULE_13__pages_documents_documents_create_screen1_screen1__["a" /* Screen1 */];
            }
        }, function () {
        });
    };
    MyApp.prototype.initiOSIntent = function () {
        var _this = this;
        window.handleOpenURL = function (url) {
            window.localStorage.setItem('url', JSON.stringify([url]));
            if (null !== _this.sessionHelper.getToken()) {
                _this.rootPage = __WEBPACK_IMPORTED_MODULE_13__pages_documents_documents_create_screen1_screen1__["a" /* Screen1 */];
            }
            window.resolveLocalFileSystemURI(url, function (fileEntry) {
                fileEntry.file(function (file) {
                }, function (error) {
                    console.log(error);
                });
            }, function (error) {
                console.log(error);
            });
        };
    };
    MyApp.prototype.redirections = function (intent) {
        if (intent.extras) {
            switch (intent.extras.routes) {
                case 'agenda':
                    this.goTo(__WEBPACK_IMPORTED_MODULE_22__pages_agenda_show_show__["a" /* AgendaDescription */], { id: intent.extras.request_id });
                    break;
            }
        }
    };
    MyApp.prototype.initVars = function () {
        // used for an example of ngFor and navigation
        this.pages = [
            {
                title: 'Dashboard',
                component: __WEBPACK_IMPORTED_MODULE_9__pages_dashboard_dashboard__["a" /* Dashboard */],
                icon: 'speedometer',
                type: 'dashboard',
                submenu: false,
                submenus: []
            },
            {
                title: 'Requests',
                component: __WEBPACK_IMPORTED_MODULE_24__pages_search_users_list_list__["a" /* SearchUsers */],
                icon: 'people',
                type: 'agenda',
                submenu: false,
                submenus: []
            },
            {
                title: 'Search',
                component: __WEBPACK_IMPORTED_MODULE_17__pages_infrastructure_list_list__["a" /* Infrastructure */],
                icon: 'search',
                type: 'search',
                submenu: false,
                submenus: []
            },
            {
                title: 'Infrastructure',
                component: __WEBPACK_IMPORTED_MODULE_17__pages_infrastructure_list_list__["a" /* Infrastructure */],
                icon: 'grid',
                type: 'infrastructure',
                submenu: false,
                submenus: []
            },
            {
                title: 'Equipment',
                component: __WEBPACK_IMPORTED_MODULE_19__pages_equipments_menu_menu__["a" /* EquipmentsMenu */],
                icon: 'cube',
                type: 'equipment',
                submenu: true,
                submenus: [{
                        title: 'Search by last level',
                        component: __WEBPACK_IMPORTED_MODULE_19__pages_equipments_menu_menu__["a" /* EquipmentsMenu */],
                        icon: 'albums',
                        type: 'equipment',
                    }, {
                        title: 'Structure',
                        component: __WEBPACK_IMPORTED_MODULE_18__pages_equipments_list_list__["a" /* Equipments */],
                        icon: 'git-merge',
                        type: 'equipment',
                    }, {
                        title: 'Search',
                        component: __WEBPACK_IMPORTED_MODULE_20__pages_equipments_search_search__["a" /* EquipmentsSearch */],
                        icon: 'search',
                        type: 'equipment',
                    }]
            },
            {
                title: 'Contact Internal',
                component: __WEBPACK_IMPORTED_MODULE_26__pages_contact_internal_list_list__["a" /* ContactInternal */],
                icon: 'contacts',
                type: 'contact_internal',
                submenu: false,
                submenus: []
            },
            {
                title: 'Contact External',
                component: __WEBPACK_IMPORTED_MODULE_25__pages_contact_external_list_list__["a" /* ContactExternal */],
                icon: 'contacts',
                type: 'contact_external',
                submenu: false,
                submenus: []
            },
            {
                title: 'Documents',
                component: __WEBPACK_IMPORTED_MODULE_14__pages_documents_documents_list_documents_list__["a" /* DocumentsList */],
                icon: 'document',
                type: 'document',
                submenu: false,
                submenus: []
            },
            {
                title: 'Agenda',
                component: __WEBPACK_IMPORTED_MODULE_21__pages_agenda_list_list__["a" /* Agenda */],
                icon: 'calendar',
                type: 'agenda',
                submenu: false,
                submenus: []
            },
            {
                title: 'Settings',
                component: __WEBPACK_IMPORTED_MODULE_16__pages_settings_settings__["a" /* Settings */],
                icon: 'settings',
                type: 'settings',
                submenu: false,
                submenus: []
            }
        ];
        // used for an example of ngFor and navigation
        this.privatePages = [
            {
                title: 'Dashboard',
                component: __WEBPACK_IMPORTED_MODULE_9__pages_dashboard_dashboard__["a" /* Dashboard */],
                icon: 'speedometer',
                type: 'dashboard'
            },
            {
                title: 'Requests',
                component: __WEBPACK_IMPORTED_MODULE_24__pages_search_users_list_list__["a" /* SearchUsers */],
                icon: 'people',
                type: 'agenda'
            },
            {
                title: 'Contact External',
                component: __WEBPACK_IMPORTED_MODULE_25__pages_contact_external_list_list__["a" /* ContactExternal */],
                icon: 'mail',
                type: 'contact_external'
            },
            {
                title: 'Documents',
                component: __WEBPACK_IMPORTED_MODULE_14__pages_documents_documents_list_documents_list__["a" /* DocumentsList */],
                icon: 'document',
                type: 'document'
            },
            {
                title: 'Agenda',
                component: __WEBPACK_IMPORTED_MODULE_21__pages_agenda_list_list__["a" /* Agenda */],
                icon: 'calendar',
                type: 'agenda'
            },
            {
                title: 'Tags',
                component: __WEBPACK_IMPORTED_MODULE_23__pages_tags_list_list__["a" /* Tags */],
                icon: 'pricetags',
                type: 'tags'
            },
            {
                title: 'Settings',
                component: __WEBPACK_IMPORTED_MODULE_16__pages_settings_settings__["a" /* Settings */],
                icon: 'settings',
                type: 'settings'
            }
        ];
    };
    MyApp.prototype.setItems = function (items) {
        var _this = this;
        items.forEach(function (d) {
            _this.filePath.resolveNativePath(d.uri)
                .then(function (filePath) {
                var old = [];
                var ur = window.localStorage.getItem('url');
                if (ur) {
                    old = JSON.parse(window.localStorage.getItem('url'));
                }
                old.push(filePath);
                window.localStorage.setItem('url', JSON.stringify(old));
            }, function (err) {
                alert(JSON.stringify(err));
            });
        });
    };
    MyApp.prototype.InitEvents = function () {
        var _this = this;
        this.events.subscribe('user:loggedin', function (user) {
            console.log(user, 'event');
            _this.current_user = user;
        });
        this.events.subscribe('user:refresh', function (user) {
            _this.current_user = user;
        });
    };
    MyApp.prototype.logout = function () {
        this.sessionHelper.clearSession();
        this.app.getRootNav().push(__WEBPACK_IMPORTED_MODULE_11__pages_login_login1_login1__["a" /* Login1Page */]);
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Nav"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Nav"])
    ], MyApp.prototype, "nav", void 0);
    MyApp = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/app/app.html"*/'<ion-menu [content]="content">\n  <ion-header hideBackButton="true">\n    <ion-toolbar>\n      <ion-title>Menu</ion-title>\n    </ion-toolbar>\n  </ion-header>\n\n  <ion-content>\n    \n    <button class="dashboard-profile-button" menuClose ion-item (click)="openPage(profile)" >\n      <ion-avatar item-start>\n        <img class="profile-img dashboard" [src]="current_user.private_image_path">\n      </ion-avatar>\n      <h2>{{current_user.username}}</h2>\n      <p>{{current_user.email}}</p>\n    </button>\n\n    <ion-list *ngIf="current_user && !current_user.is_private" >\n      \n      <div class="sidenav" *ngFor="let p of pages">\n        \n        <!-- If the item contains submenus - Disable close menu on click -->\n        <ion-item *ngIf="p.submenu" (click)="openPage(p)" >\n           <ion-icon name="{{p.icon}}" item-start [ngClass]="p.type"></ion-icon> \n           {{p.title}}\n        </ion-item>\n\n        <!-- If the item does not contains submenus - Close menu on click -->\n        <ion-item *ngIf="!p.submenu"  menuClose (click)="openPage(p)" >\n           <ion-icon name="{{p.icon}}" item-start [ngClass]="p.type"></ion-icon> \n           {{p.title}}\n        </ion-item>\n\n        <!-- render the submenus -->\n        <ion-item-group submenu \n                        *ngIf="p.submenu && submenu" \n                        [class]="p.submenu ? \'sidemenu visible\' : \'sidemenu hidden\' ">\n          \n          <ion-item menuClose \n                    *ngFor="let submenu of p.submenus" \n                    submenu-item \n                    (click)="openSubPage(submenu)">\n            <ion-icon [name]="submenu.icon" item-start [ngClass]="p.type"></ion-icon> \n            {{submenu.title}}\n          </ion-item>\n\n        </ion-item-group>\n\n      </div>\n\n      <ion-item menuClose (click)="logout()">\n        <ion-icon name="log-out" item-start class="logout"></ion-icon> \n        Logout\n      </ion-item>\n\n    </ion-list>\n\n    <ion-list *ngIf="current_user && current_user.is_private" >\n      <button menuClose ion-item *ngFor="let p of privatePages" (click)="openPage(p)">\n         <ion-icon name="{{p.icon}}" item-start [ngClass]="p.type"></ion-icon> {{p.title}}\n      </button>\n    </ion-list>\n\n  </ion-content>\n\n</ion-menu>\n\n<ion-nav [root]="rootPage" #content swipeBackEnabled="false"></ion-nav>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/app/app.html"*/,
            providers: [
                __WEBPACK_IMPORTED_MODULE_27__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
                __WEBPACK_IMPORTED_MODULE_5__ionic_native_transfer__["a" /* Transfer */],
                __WEBPACK_IMPORTED_MODULE_4__ionic_native_network__["a" /* Network */],
                __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__["a" /* FilePath */],
                __WEBPACK_IMPORTED_MODULE_6__ionic_native_fcm__["a" /* FCM */]
            ]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_status_bar__["a" /* StatusBar */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_splash_screen__["a" /* SplashScreen */],
            __WEBPACK_IMPORTED_MODULE_27__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_28__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_29__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_network__["a" /* Network */],
            __WEBPACK_IMPORTED_MODULE_5__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_7__ionic_native_file__["a" /* File */],
            __WEBPACK_IMPORTED_MODULE_6__ionic_native_fcm__["a" /* FCM */],
            __WEBPACK_IMPORTED_MODULE_8__ionic_native_file_path__["a" /* FilePath */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"]])
    ], MyApp);
    return MyApp;
}());

//# sourceMappingURL=app.component.js.map

/***/ }),

/***/ 59:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactExternalDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__ = __webpack_require__(476);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__ = __webpack_require__(193);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__ = __webpack_require__(194);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__links_documents_documents__ = __webpack_require__(477);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__links_agenda_agenda__ = __webpack_require__(523);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__links_infrastructure_infrastructure__ = __webpack_require__(234);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__links_equipments_equipments__ = __webpack_require__(235);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__helpers_camera_helper__ = __webpack_require__(127);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ionic_native_transfer__ = __webpack_require__(50);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var ContactExternalDescription = (function () {
    function ContactExternalDescription(params, platform, fns, session, camera, transfer, ContactService, navCtrl, callNumber, socialSharing, iab, Notifications) {
        this.params = params;
        this.platform = platform;
        this.fns = fns;
        this.session = session;
        this.camera = camera;
        this.transfer = transfer;
        this.ContactService = ContactService;
        this.navCtrl = navCtrl;
        this.callNumber = callNumber;
        this.socialSharing = socialSharing;
        this.iab = iab;
        this.Notifications = Notifications;
        this.profile_pic = 'assets/img/dummy_user.png';
        this.color = '#488aff';
        this.is_edit = false;
        this.reload = false;
        this.permission = false;
        this.segement = 'contact';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.fileTransfer = this.transfer.create();
        this.contact_id = this.params.get('id');
        this.current_user = this.session.getUser();
    }
    ContactExternalDescription.prototype.ionViewWillEnter = function () {
        this.getDescription();
    };
    ContactExternalDescription.prototype.getDescription = function () {
        var _this = this;
        console.log("id sdfksdf", this.contact_id);
        this.Notifications.presentLoader();
        this.ContactService.getContactExternal(this.contact_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.status) {
                _this.description = data;
                console.log("check", data);
                _this.backup = _this.fns.cloneObject(data);
                _this.getProfilePic();
                _this.getContactOrgs();
                _this.getContactDivisions(data.contact.co_id);
            }
            else {
                //IF PERMISSION NOT FOUND
                if (data.permission) {
                    _this.permission = data.permission;
                }
                else {
                    _this.reload = true;
                }
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    ContactExternalDescription.prototype.attrName = function (id, type) {
        var name = '';
        var attributes = this.description.attributes;
        switch (type) {
            case 'person':
                name = attributes.person[id] ? attributes.person[id]['name'] : '';
                break;
            case 'contact':
                name = attributes.contact[id] ? attributes.contact[id]['name'] : '';
                break;
            case 'division':
                name = attributes.division[id] ? attributes.division[id]['name'] : '';
                break;
            case 'organization':
                name = attributes.organization[id] ? attributes.organization[id]['name'] : '';
                break;
        }
        return name;
    };
    ContactExternalDescription.prototype.edit = function () {
        this.color = '#1ea209';
        this.is_edit = true;
        this.backup = Object.assign({}, this.description);
    };
    ContactExternalDescription.prototype.update = function () {
        var _this = this;
        this.ContactService.update(this.description)
            .then(function (data) {
            if (data.status) {
                _this.getDescription();
                _this.resetVaribles();
            }
            else {
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    ContactExternalDescription.prototype.resetVaribles = function () {
        this.is_edit = false;
        this.color = '#488aff';
    };
    ContactExternalDescription.prototype.cancelEdition = function () {
        this.is_edit = false;
        this.color = '#488aff';
        this.description = this.backup;
    };
    ContactExternalDescription.prototype.link = function (type) {
        switch (type) {
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__links_documents_documents__["a" /* LinkedDocumentsWithCE */], { row_id: this.description.contact.cc_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__links_agenda_agenda__["a" /* LinkedAgendaWithCE */], { row_id: this.description.contact.cc_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithCE */], { row_id: this.description.contact.cc_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__links_equipments_equipments__["a" /* LinkedEquipmentWithCE */], { row_id: this.description.contact.cc_id,
                    contact_id: this.description.contact.contact_id
                });
                break;
        }
    };
    ContactExternalDescription.prototype.access = function (attr_id) {
        var attribute = this.getAccessType(attr_id);
        var icon = '';
        var icons = {
            'call': 'call',
            'email': 'mail',
            'link': 'link',
            'skype': 'logo-skype'
        };
        if (attribute) {
            icon = icons[attribute.access_type];
        }
        return icon;
    };
    ContactExternalDescription.prototype.accessAction = function (attr_id, value) {
        var attribute = this.getAccessType(attr_id);
        if (attribute) {
            console.log(attribute.access_type);
            switch (attribute.access_type) {
                case 'call':
                    this.call(value);
                    break;
                case 'email':
                    this.email(value);
                    break;
                case 'link':
                    this.openlink(value);
                    break;
            }
        }
    };
    ContactExternalDescription.prototype.getAccessType = function (attr_id) {
        var attribute;
        this.description.contact.access_types.forEach(function (d) {
            if (attr_id == d.attribute_id) {
                attribute = d;
            }
        });
        return attribute;
    };
    ContactExternalDescription.prototype.call = function (number) {
        this.callNumber.callNumber(number, true)
            .then(function (res) {
            return console.log('Launched dialer!', res);
        })
            .catch(function (err) {
            return console.log('Error launching dialer', err);
        });
    };
    ContactExternalDescription.prototype.email = function (value) {
        this.socialSharing.shareViaEmail('Body', 'VelvetFM Contact External', [value]).then(function () {
        }).catch(function (err) {
        });
    };
    ContactExternalDescription.prototype.openlink = function (value) {
        this.iab.create('http://' + value);
    };
    ContactExternalDescription.prototype.getProfilePic = function () {
        if (this.description.contact.profile_pic) {
            this.profile_pic = __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].api_url +
                'documents/download?fileName=' +
                this.description.contact.profile_pic +
                '&token=' + this.session.getToken() +
                '&type=profile_pic_ce';
            if (this.platform.is('android') || this.platform.is('ios')) {
                this.profile_pic += '&timestamp=' + new Date().getTime();
            }
        }
    };
    ContactExternalDescription.prototype.openCamera = function () {
        var _this = this;
        this.camera.action(function (image) {
            _this.upload(image);
        });
    };
    ContactExternalDescription.prototype.upload = function (imageData) {
        var _this = this;
        var options = {
            fileKey: 'file',
            fileName: 'file.jpg',
            mimeType: "multipart/form-data",
            params: { 'fileName': 'file.jpg',
                'org_user_id': this.current_user.user_id,
                'employee_id': this.contact_id,
                'org_id': this.current_user.user_org_id
            }
        };
        this.Notifications.presentLoader();
        this.fileTransfer.upload(imageData, __WEBPACK_IMPORTED_MODULE_14__app_config__["a" /* config */].api_url + 'uploads/profile_pic_ce', options)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.getDescription();
            _this.Notifications.presentToast("Profile picture updated successfully");
        }, function (err) {
            _this.Notifications.dismissLoader();
            _this.Notifications.presentToast("Unable to update profile picture");
        });
    };
    ContactExternalDescription.prototype.getContactOrgs = function () {
        var _this = this;
        this.ContactService.getContactOrgs(1, '')
            .then(function (data) {
            if (data.error == undefined) {
                _this.organisations = data;
            }
            else {
                _this.getContactOrgs();
            }
        });
    };
    ContactExternalDescription.prototype.getContactDivisions = function (id) {
        var _this = this;
        this.ContactService.getContactDivisionsAndOrgAttrs(id)
            .then(function (data) {
            if (data.error == undefined) {
                _this.divisions = data.divisions;
                _this.description.contact.org_attrs_data = data.org_attributes;
                if (_this.description.contact.co_id !== _this.backup.contact.co_id) {
                    _this.description.contact.division_attrs_data = [];
                }
            }
            else {
                //this.getContactDivisions(id);
            }
        });
    };
    ContactExternalDescription.prototype.getContactDivisionAttrs = function (id) {
        var _this = this;
        this.ContactService.getContactDivisionAttrs(id)
            .then(function (data) {
            if (data.error == undefined) {
                _this.description.contact.division_attrs_data = data.division_attrs;
            }
            else {
                // this.getContactDivisionAttrs(id);
            }
        });
    };
    ContactExternalDescription = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact-external-description',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/show/show.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n	<div class="segment-pad">\n		<ion-segment [(ngModel)]="segement">\n			<ion-segment-button value="contact">\n				CONTACT\n			</ion-segment-button>\n			<ion-segment-button value="organisation">\n				ORGANISATION\n			</ion-segment-button>\n		</ion-segment>\n	</div>\n\n\n	<ion-list *ngIf="description && description.contact" >\n	 	\n	 	<div [ngSwitch]="segement">\n\n	 		<div *ngSwitchCase="\'contact\'">\n\n	 			<div class="profile-div">\n				    <div class="profile-pic" >\n				      <img [src]="profile_pic" (click)=openCamera()>\n				    </div>\n				    <ion-icon ios="ios-camera" md="md-camera"></ion-icon>\n				</div>\n				\n				<ion-list-header [class]="item_header_class"  [style.color]="color" >\n					Firstname\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.first_name}} \n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n			        <input [class]="input_class" type="text" \n			        	   [(ngModel)]="description.contact.first_name" \n			        	   name="first_name" required \n			        	   placeholder="Firstname"/>\n			    </ion-item>\n\n				<ion-list-header [class]="item_header_class"  [style.color]="color" >\n			        Lastname\n			    </ion-list-header>\n\n			    <ion-item *ngIf="!is_edit">\n					{{description.contact.last_name}} \n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n					<input [class]="input_class" type="text" \n					       [(ngModel)]="description.contact.last_name" \n					       name="last_name" required \n					       placeholder="Lastname"/>\n				</ion-item>\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Email\n					<button ion-button clear item-end no-padding (click)="email(description.contact.email)" > <ion-icon name="mail"></ion-icon></button>\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.email}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n					<input [class]="input_class" type="email"   \n					       [(ngModel)]="description.contact.email" \n					       name="email" required \n					       placeholder="Email"/>\n				</ion-item>\n\n\n				<div *ngFor="let person_attr of description.contact.attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(person_attr.id,\'person\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(person_attr.id, person_attr.value)" > <ion-icon [name]="access(person_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit" >\n						{{person_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="person_attr.value" \n							   [name]="attrName(person_attr.id,\'person\')" required \n							   [placeholder]="attrName(person_attr.id,\'person\')"/>\n					</ion-item>\n\n				</div>\n\n\n				<div *ngFor="let contact_attr of description.contact.contact_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(contact_attr.id,\'contact\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(contact_attr.id, contact_attr.value)" > <ion-icon [name]="access(contact_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit" >\n						{{contact_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="contact_attr.value" \n							   [name]="attrName(contact_attr.id,\'contact\')" required \n							   [placeholder]="attrName(contact_attr.id,\'contact\')"/>\n					</ion-item>\n\n				</div>\n			</div>\n\n			<div *ngSwitchCase="\'organisation\'">\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Organization\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.org_name}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n			       \n			        <!-- <ion-select [(ngModel)]="description.contact.co_id" class="item-margin" (ionChange)="getContactDivisions(description.contact.co_id)" >\n			          <ion-option  *ngFor="let org of organisations" value="{{org.id}}"> \n			            {{org.name}}\n			          </ion-option>\n			        </ion-select> -->\n\n			        <input [class]="input_class" type="text" \n			        	   [(ngModel)]="description.contact.org_name" \n			        	   name="org_name" required \n			        	   placeholder="Organization name"/>\n			    </ion-item>\n\n				<div *ngFor="let org_attr of description.contact.org_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n					  {{ attrName(org_attr.id,\'organization\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(org_attr.id, org_attr.value)" > <ion-icon [name]="access(org_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit">\n						{{org_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="org_attr.value" \n							   [name]="attrName(org_attr.id,\'organization\')" required \n							   [placeholder]="attrName(org_attr.id,\'organization\')"/>\n					</ion-item>\n\n				</div>\n\n				<ion-list-header [class]="item_header_class" [style.color]="color" >\n					Division\n				</ion-list-header>\n\n				<ion-item *ngIf="!is_edit">\n					{{description.contact.division_name}}\n				</ion-item>\n\n				<ion-item *ngIf="is_edit">\n			       	\n			       	<ion-select [(ngModel)]="description.contact.cd_id" class="item-margin" (ionChange)="getContactDivisionAttrs(description.contact.cd_id)" >\n			          <ion-option  *ngFor="let division of divisions" value="{{division.id}}"> \n			            {{division.name}}\n			          </ion-option>\n			        </ion-select>\n\n			       <!--  <input [class]="input_class" type="text" \n			        	   [(ngModel)]="description.contact.division_name" \n			        	   name="division_name" required \n			        	   placeholder="Division name"/> -->\n			    </ion-item>\n\n				<div *ngFor="let division_attr of description.contact.division_attrs_data" >\n\n					<ion-list-header [class]="item_header_class" [style.color]="color" >\n						{{ attrName(division_attr.id,\'division\') }}\n						<button ion-button clear item-end no-padding (click)="accessAction(division_attr.id, division_attr.value)" > <ion-icon [name]="access(division_attr.id)"></ion-icon></button>\n					</ion-list-header>\n\n					<ion-item *ngIf="!is_edit">\n						{{division_attr.value}}\n					</ion-item>\n\n					<ion-item *ngIf="is_edit" >\n						<input [class]="input_class" type="text" \n							   [(ngModel)]="division_attr.value" \n							   [name]="attrName(division_attr.id,\'division\')" required \n							   [placeholder]="attrName(division_attr.id,\'division\')"/>\n					</ion-item>\n\n				</div>\n			</div>\n\n		</div>\n\n	</ion-list>\n	\n	<ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n   	<ion-grid class="grid-reload" *ngIf="permission"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Permission not found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    \n</ion-content>\n\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="current_user && !current_user.is_private && description && description.contact">\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_agenda_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_documents_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'equipment\')" value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_equipments_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="grid" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_locations_count}}</ion-badge></ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n   \n   <ion-segment color="light" *ngIf="current_user && current_user.is_private && description && description.contact">\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_agenda_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{description.contact.linked_documents_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && description && description.contact">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/show/show.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__["a" /* CallNumber */], __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */], __WEBPACK_IMPORTED_MODULE_13__helpers_camera_helper__["a" /* CameraHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Platform"],
            __WEBPACK_IMPORTED_MODULE_11__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_12__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_13__helpers_camera_helper__["a" /* CameraHelper */],
            __WEBPACK_IMPORTED_MODULE_15__ionic_native_transfer__["a" /* Transfer */],
            __WEBPACK_IMPORTED_MODULE_6__providers_contact_service_contact_service__["a" /* ContactServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__ionic_native_call_number__["a" /* CallNumber */],
            __WEBPACK_IMPORTED_MODULE_3__ionic_native_social_sharing__["a" /* SocialSharing */],
            __WEBPACK_IMPORTED_MODULE_4__ionic_native_in_app_browser__["a" /* InAppBrowser */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */]])
    ], ContactExternalDescription);
    return ContactExternalDescription;
}());

//# sourceMappingURL=show.js.map

/***/ }),

/***/ 60:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Screen1; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__documents_create_screen2_screen2__ = __webpack_require__(478);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_list_documents_list__ = __webpack_require__(42);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var Screen1 = (function () {
    function Screen1(navCtrl, DocumentService, Notifications, session, navParams) {
        this.navCtrl = navCtrl;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.session = session;
        this.navParams = navParams;
        this.category = '';
        this.cat_name = '';
        this.subcat_name = '';
        this.subcategory = '';
        this.attributes = [];
        this.reload = false;
        this.rcount = 0;
        console.log(this.navParams.get('page'));
    }
    Screen1.prototype.ionViewDidLoad = function () {
        this.setBackButtonAction();
        this.getCategories();
    };
    Screen1.prototype.setBackButtonAction = function () {
        var _this = this;
        this.navBar.backButtonClick = function () {
            _this.navCtrl.setRoot(__WEBPACK_IMPORTED_MODULE_3__documents_list_documents_list__["a" /* DocumentsList */]);
        };
    };
    Screen1.prototype.reloadMe = function () {
        this.getCategories();
    };
    Screen1.prototype.getCategories = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.getCategories()
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.reload = false;
                _this.categories = data.categories;
                _this.subcategories = data.subcategories;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    Screen1.prototype.userLang = function (data, type) {
        if (type === void 0) { type = 'json'; }
        var current_user = this.session.getUser();
        return JSON.parse(data)[current_user.user_lang_id];
    };
    Screen1.prototype.catChange = function (startLoader, subcat, ct_name) {
        var _this = this;
        if (startLoader === void 0) { startLoader = true; }
        if (subcat === void 0) { subcat = ''; }
        this.cat_name = ct_name;
        if (startLoader)
            this.Notifications.presentLoader();
        this.DocumentService.getSubCategories(this.category + '')
            .then(function (data) {
            if (data.error == undefined) {
                _this.rcount = 0;
                _this.Notifications.dismissLoader();
                _this.reload = false;
                _this.subcategories = data.subcategories;
            }
            else {
                if (_this.rcount < 3) {
                    _this.Notifications.dismissLoader();
                    _this.catChange(false, '', ct_name);
                    _this.rcount++;
                }
                else {
                    _this.Notifications.presentToast('Please Request Again');
                    _this.reload = true;
                }
            }
        });
    };
    Screen1.prototype.next = function () {
        var _this = this;
        if (this.category !== '' && this.subcategory !== '') {
            //console.log("Category :"+this.category+" && sub-category :"+this.subcategory);
            this.Notifications.presentLoader();
            this.DocumentService.getAttributes(this.category, this.subcategory)
                .then(function (data) {
                _this.Notifications.dismissLoader();
                //console.log("getAttributes:",data.tags);
                if (data.error == undefined) {
                    _this.attributes = data.categories_attrs;
                    _this.tags = data.tags;
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__documents_create_screen2_screen2__["a" /* Screen2 */], { attributes: _this.attributes,
                        tagss: _this.tags,
                        category_id: _this.category,
                        category_name: _this.cat_name,
                        subcategory_name: _this.subcat_name,
                        subcategory_id: _this.subcategory,
                        page: _this.navParams.get('page'),
                        row_id: _this.navParams.data.row_id,
                        request_id: _this.navParams.get('request_id')
                    });
                }
                else {
                    _this.Notifications.presentToast('Please Request Again');
                }
            });
        }
        else {
            this.Notifications.presentToast('Please select the required values');
        }
    };
    Screen1.prototype.catUpdate = function (cid, st_name) {
        var _this = this;
        this.category = cid;
        this.subcat_name = st_name;
        this.categories.forEach(function (category) {
            if (category.id == cid) {
                _this.cat_name = category.name;
            }
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], Screen1.prototype, "navBar", void 0);
    Screen1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-create-screen1',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen1/screen1.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Category\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content padding>\n	\n	<ion-list radio-group [(ngModel)]="category" *ngIf="!reload && categories?.length > 0" >\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header">\n	    Category *\n	  </ion-list-header>\n	  <ion-item *ngFor="let ct of categories">\n	    <ion-label text-capitalize>{{ct.name}}</ion-label>\n	    <ion-radio (click)="catChange(true,\'\', ct.name)" value="{{ct.id}}"></ion-radio>\n	  </ion-item>\n	</ion-list>\n\n	<ion-list radio-group [(ngModel)]="subcategory" *ngIf="!reload && subcategories?.length > 0">\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header">\n	    Sub Category *\n	  </ion-list-header>\n	  <ion-item *ngFor="let st of subcategories">\n	    <ion-label text-capitalize>{{userLang(st.name)}}</ion-label>\n	    <ion-radio value="{{st.id}}" (click)="catUpdate(st.category_id, userLang(st.name) )"></ion-radio>\n	  </ion-item>\n	</ion-list>\n 	\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_create/screen1/screen1.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], Screen1);
    return Screen1;
}());

//# sourceMappingURL=screen1.js.map

/***/ }),

/***/ 61:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsArticleDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__links_contact_external_contact_external__ = __webpack_require__(213);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__links_contact_internal_contact_internal__ = __webpack_require__(221);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__links_documents_documents__ = __webpack_require__(223);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__links_agenda_agenda__ = __webpack_require__(225);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__links_infrastructure_infrastructure__ = __webpack_require__(226);
// AUTHOR : HS
// CREATED : 11-04-2018
// DESCRIPTION : Used to list, delete, show the levels.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EquipmentsArticleDescription = (function () {
    var EquipmentsArticleDescription = EquipmentsArticleDescription_1 = function EquipmentsArticleDescription(navCtrl, params, Notifications, actionSheetCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.EquipmentService = EquipmentService;
        this.color = '#488aff';
        this.level_names = '';
        this.is_edit = false;
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.getArticle();
    };
    EquipmentsArticleDescription.prototype.getArticle = function () {
        var _this = this;
        this.article_id = this.params.get('id');
        this.Notifications.presentLoader();
        this.EquipmentService.getArticle(this.article_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.article = data.article;
            _this.level_names = data.level_names;
            _this.attributes = data.attributes;
        });
    };
    EquipmentsArticleDescription.prototype.view = function (t) {
        this.navCtrl.push(EquipmentsArticleDescription_1, { id: t.id });
    };
    EquipmentsArticleDescription.prototype.update = function () {
        var _this = this;
        console.log(this.article);
        this.EquipmentService.updateArticle(this.article)
            .then(function (data) {
            _this.resetVaribles();
            _this.getArticle();
        });
    };
    EquipmentsArticleDescription.prototype.edit = function () {
        this.color = '#1ea209';
        this.is_edit = true;
        this.backup = Object.assign({}, this.article);
    };
    EquipmentsArticleDescription.prototype.cancelEdition = function () {
        this.resetVaribles();
        this.article = this.backup;
    };
    EquipmentsArticleDescription.prototype.resetVaribles = function () {
        this.is_edit = false;
        this.color = '#488aff';
    };
    EquipmentsArticleDescription.prototype.link = function (type) {
        console.log(type);
        switch (type) {
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__links_contact_external_contact_external__["a" /* LinkedContactExternalWithEquipments */], { equipment_id: this.article_id });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithEquipments */], { equipment_id: this.article_id });
                break;
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__links_documents_documents__["a" /* LinkedDocumentsWithEquipments */], { equipment_id: this.article_id });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__links_agenda_agenda__["a" /* LinkedAgendaWithEquipments */], { equipment_id: this.article_id });
                break;
            case 'infrastructure':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__links_infrastructure_infrastructure__["a" /* LinkedInfrastructureWithEquipments */], { equipment_id: this.article_id });
                break;
        }
    };
    EquipmentsArticleDescription = EquipmentsArticleDescription_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-articles',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/description/description.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Article Description\n    </ion-title>\n    <ion-buttons right >\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n    </ion-buttons>\n  </ion-navbar>\n\n  <ion-segment color="primary" >\n    <ion-segment-button>\n      {{level_names}}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-list *ngIf="article" >\n\n\n\n      <div *ngFor="let attr of attributes" >\n\n          <ion-list-header [class]="item_header_class" [style.color]="color" >\n            {{ attr.name }}\n          </ion-list-header>\n\n          <ion-item *ngIf="!is_edit" >\n            {{ attr.attr_type == \'list\' ? \n               attr.options[article.attrs_data[attr.id]]\n             : article.attrs_data[attr.id]}}\n        \n          </ion-item>\n\n          <ion-item *ngIf="is_edit" >\n             \n             <input [class]="input_class" \n                    type="text"\n                    [(ngModel)]="article.attrs_data[attr.id]"\n                    required \n                    *ngIf=" attr.attr_type == \'text\' || attr.attr_type == \'number\' "\n                     />\n    \n              <ion-datetime [class]="input_class" \n                            displayFormat="DD/MM/YYYY" \n                            [style.padding]="0"  \n                            pickerFormat="DD MMM YYYY" \n                            [(ngModel)]="article.attrs_data[attr.id]"\n                            [disabled]="attr.disabled" \n                            *ngIf=" attr.attr_type == \'date\' " ></ion-datetime>\n              \n              <ion-select class="item-margin" \n                          [(ngModel)]="article.attrs_data[attr.id]"\n                          *ngIf=" attr.attr_type == \'list\' " \n                          [disabled]="attr.disabled" >\n                <ion-option *ngFor="let op of attr.options; let i = index" [value]="i" >{{op}}</ion-option>\n              </ion-select>\n\n          </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>\n\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="article">\n    <ion-segment-button (click) = "link(\'contact_internal\')"  value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{article.linked_contacts_internal_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{article.linked_contacts_external_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{article.linked_agenda_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{article.linked_documents_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'infrastructure\')" value="infrastructure">\n      <ion-icon name="cube" class="infrastructure" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{article.linked_infrastructure_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && article">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/description/description.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsArticleDescription);
    return EquipmentsArticleDescription;
    var EquipmentsArticleDescription_1;
}());

//# sourceMappingURL=description.js.map

/***/ }),

/***/ 625:
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": 352,
	"./af.js": 352,
	"./ar": 353,
	"./ar-dz": 354,
	"./ar-dz.js": 354,
	"./ar-kw": 355,
	"./ar-kw.js": 355,
	"./ar-ly": 356,
	"./ar-ly.js": 356,
	"./ar-ma": 357,
	"./ar-ma.js": 357,
	"./ar-sa": 358,
	"./ar-sa.js": 358,
	"./ar-tn": 359,
	"./ar-tn.js": 359,
	"./ar.js": 353,
	"./az": 360,
	"./az.js": 360,
	"./be": 361,
	"./be.js": 361,
	"./bg": 362,
	"./bg.js": 362,
	"./bm": 363,
	"./bm.js": 363,
	"./bn": 364,
	"./bn.js": 364,
	"./bo": 365,
	"./bo.js": 365,
	"./br": 366,
	"./br.js": 366,
	"./bs": 367,
	"./bs.js": 367,
	"./ca": 368,
	"./ca.js": 368,
	"./cs": 369,
	"./cs.js": 369,
	"./cv": 370,
	"./cv.js": 370,
	"./cy": 371,
	"./cy.js": 371,
	"./da": 372,
	"./da.js": 372,
	"./de": 373,
	"./de-at": 374,
	"./de-at.js": 374,
	"./de-ch": 375,
	"./de-ch.js": 375,
	"./de.js": 373,
	"./dv": 376,
	"./dv.js": 376,
	"./el": 377,
	"./el.js": 377,
	"./en-au": 378,
	"./en-au.js": 378,
	"./en-ca": 379,
	"./en-ca.js": 379,
	"./en-gb": 380,
	"./en-gb.js": 380,
	"./en-ie": 381,
	"./en-ie.js": 381,
	"./en-nz": 382,
	"./en-nz.js": 382,
	"./eo": 383,
	"./eo.js": 383,
	"./es": 384,
	"./es-do": 385,
	"./es-do.js": 385,
	"./es-us": 386,
	"./es-us.js": 386,
	"./es.js": 384,
	"./et": 387,
	"./et.js": 387,
	"./eu": 388,
	"./eu.js": 388,
	"./fa": 389,
	"./fa.js": 389,
	"./fi": 390,
	"./fi.js": 390,
	"./fo": 391,
	"./fo.js": 391,
	"./fr": 392,
	"./fr-ca": 393,
	"./fr-ca.js": 393,
	"./fr-ch": 394,
	"./fr-ch.js": 394,
	"./fr.js": 392,
	"./fy": 395,
	"./fy.js": 395,
	"./gd": 396,
	"./gd.js": 396,
	"./gl": 397,
	"./gl.js": 397,
	"./gom-latn": 398,
	"./gom-latn.js": 398,
	"./gu": 399,
	"./gu.js": 399,
	"./he": 400,
	"./he.js": 400,
	"./hi": 401,
	"./hi.js": 401,
	"./hr": 402,
	"./hr.js": 402,
	"./hu": 403,
	"./hu.js": 403,
	"./hy-am": 404,
	"./hy-am.js": 404,
	"./id": 405,
	"./id.js": 405,
	"./is": 406,
	"./is.js": 406,
	"./it": 407,
	"./it.js": 407,
	"./ja": 408,
	"./ja.js": 408,
	"./jv": 409,
	"./jv.js": 409,
	"./ka": 410,
	"./ka.js": 410,
	"./kk": 411,
	"./kk.js": 411,
	"./km": 412,
	"./km.js": 412,
	"./kn": 413,
	"./kn.js": 413,
	"./ko": 414,
	"./ko.js": 414,
	"./ky": 415,
	"./ky.js": 415,
	"./lb": 416,
	"./lb.js": 416,
	"./lo": 417,
	"./lo.js": 417,
	"./lt": 418,
	"./lt.js": 418,
	"./lv": 419,
	"./lv.js": 419,
	"./me": 420,
	"./me.js": 420,
	"./mi": 421,
	"./mi.js": 421,
	"./mk": 422,
	"./mk.js": 422,
	"./ml": 423,
	"./ml.js": 423,
	"./mr": 424,
	"./mr.js": 424,
	"./ms": 425,
	"./ms-my": 426,
	"./ms-my.js": 426,
	"./ms.js": 425,
	"./mt": 427,
	"./mt.js": 427,
	"./my": 428,
	"./my.js": 428,
	"./nb": 429,
	"./nb.js": 429,
	"./ne": 430,
	"./ne.js": 430,
	"./nl": 431,
	"./nl-be": 432,
	"./nl-be.js": 432,
	"./nl.js": 431,
	"./nn": 433,
	"./nn.js": 433,
	"./pa-in": 434,
	"./pa-in.js": 434,
	"./pl": 435,
	"./pl.js": 435,
	"./pt": 436,
	"./pt-br": 437,
	"./pt-br.js": 437,
	"./pt.js": 436,
	"./ro": 438,
	"./ro.js": 438,
	"./ru": 439,
	"./ru.js": 439,
	"./sd": 440,
	"./sd.js": 440,
	"./se": 441,
	"./se.js": 441,
	"./si": 442,
	"./si.js": 442,
	"./sk": 443,
	"./sk.js": 443,
	"./sl": 444,
	"./sl.js": 444,
	"./sq": 445,
	"./sq.js": 445,
	"./sr": 446,
	"./sr-cyrl": 447,
	"./sr-cyrl.js": 447,
	"./sr.js": 446,
	"./ss": 448,
	"./ss.js": 448,
	"./sv": 449,
	"./sv.js": 449,
	"./sw": 450,
	"./sw.js": 450,
	"./ta": 451,
	"./ta.js": 451,
	"./te": 452,
	"./te.js": 452,
	"./tet": 453,
	"./tet.js": 453,
	"./th": 454,
	"./th.js": 454,
	"./tl-ph": 455,
	"./tl-ph.js": 455,
	"./tlh": 456,
	"./tlh.js": 456,
	"./tr": 457,
	"./tr.js": 457,
	"./tzl": 458,
	"./tzl.js": 458,
	"./tzm": 459,
	"./tzm-latn": 460,
	"./tzm-latn.js": 460,
	"./tzm.js": 459,
	"./uk": 461,
	"./uk.js": 461,
	"./ur": 462,
	"./ur.js": 462,
	"./uz": 463,
	"./uz-latn": 464,
	"./uz-latn.js": 464,
	"./uz.js": 463,
	"./vi": 465,
	"./vi.js": 465,
	"./x-pseudo": 466,
	"./x-pseudo.js": 466,
	"./yo": 467,
	"./yo.js": 467,
	"./zh-cn": 468,
	"./zh-cn.js": 468,
	"./zh-hk": 469,
	"./zh-hk.js": 469,
	"./zh-tw": 470,
	"./zh-tw.js": 470
};
function webpackContext(req) {
	return __webpack_require__(webpackContextResolve(req));
};
function webpackContextResolve(req) {
	var id = map[req];
	if(!(id + 1)) // check for number or string
		throw new Error("Cannot find module '" + req + "'.");
	return id;
};
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = 625;

/***/ }),

/***/ 649:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GoogleMapHelper; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__ionic_native_google_maps__ = __webpack_require__(650);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var GoogleMapHelper = (function () {
    function GoogleMapHelper() {
    }
    GoogleMapHelper.prototype.loadMap = function (options, canvas_id) {
        var _this = this;
        if (canvas_id === void 0) { canvas_id = 'map_canvas'; }
        var mapOptions = options;
        this.map = __WEBPACK_IMPORTED_MODULE_1__ionic_native_google_maps__["a" /* GoogleMaps */].create(canvas_id, mapOptions);
        // Wait the MAP_READY before using any methods.
        this.map.one(__WEBPACK_IMPORTED_MODULE_1__ionic_native_google_maps__["b" /* GoogleMapsEvent */].MAP_READY)
            .then(function () {
            console.log('Map is ready!');
            // Now you can use all methods safely.
            _this.map.addMarker({
                title: 'Ionic',
                icon: 'blue',
                animation: 'DROP',
                position: {
                    lat: 43.0741904,
                    lng: -89.3809802
                }
            })
                .then(function (marker) {
                marker.on(__WEBPACK_IMPORTED_MODULE_1__ionic_native_google_maps__["b" /* GoogleMapsEvent */].MARKER_CLICK)
                    .subscribe(function () {
                    alert('clicked');
                });
            });
        });
    };
    GoogleMapHelper = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [])
    ], GoogleMapHelper);
    return GoogleMapHelper;
}());

//# sourceMappingURL=gmap.helper.js.map

/***/ }),

/***/ 68:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfrastructureDescription; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_gmap_helper__ = __webpack_require__(649);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__levels_levels__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__links_documents_documents__ = __webpack_require__(204);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__links_agenda_agenda__ = __webpack_require__(206);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__links_contact_external_contact_external__ = __webpack_require__(207);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__links_contact_internal_contact_internal__ = __webpack_require__(214);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__links_equipments_equipments__ = __webpack_require__(222);
// AUTHOR : HS
// CREATED : 2-04-2018
// DESCRIPTION : Used to show the infrastructure description.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var InfrastructureDescription = (function () {
    function InfrastructureDescription(navCtrl, params, gmap, Notifications, fns, actionSheetCtrl, InfrastructureService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.gmap = gmap;
        this.Notifications = Notifications;
        this.fns = fns;
        this.actionSheetCtrl = actionSheetCtrl;
        this.InfrastructureService = InfrastructureService;
        this.search = '';
        this.is_edit = false;
        this.count = 0;
        this.color = '#488aff';
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.getInfrastructure();
        this.count = this.params.get('count');
    }
    InfrastructureDescription.prototype.ionViewDidLoad = function () {
        this.gmap.loadMap({
            camera: {
                target: {
                    lat: 43.0741904,
                    lng: -89.3809802
                },
                zoom: 18,
                tilt: 30
            }
        });
    };
    InfrastructureDescription.prototype.getInfrastructure = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.InfrastructureService.getInfrastructure(this.params.get('id'))
            .then(function (data) {
            _this.Notifications.dismissLoader();
            console.log("jdsfsdfd", data);
            _this.infrastructure = data;
        });
    };
    InfrastructureDescription.prototype.attrName = function (id) {
        return this.infrastructure.location_attrs[id] ? this.infrastructure.location_attrs[id]['name'] : '-';
    };
    InfrastructureDescription.prototype.next = function () {
        // let locations = this.params.get('parents') || []
        var locations = [];
        locations.push({ name: this.infrastructure.location.name,
            id: this.infrastructure.location.id,
            parent_id: this.infrastructure.location.parent_id });
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__levels_levels__["a" /* InfrastructureLevels */], { parent_id: this.infrastructure.location.id, 'parents': locations, 'location_id': this.infrastructure.location.location_id, 'count': this.count });
    };
    InfrastructureDescription.prototype.link = function (type) {
        switch (type) {
            case 'contact_external':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_9__links_contact_external_contact_external__["a" /* LinkedContactExternalWithInfrastructure */], { location_id: this.params.get('id') });
                break;
            case 'contact_internal':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_10__links_contact_internal_contact_internal__["a" /* LinkedContactInternalWithInfrastructure */], { location_id: this.params.get('id') });
                break;
            case 'document':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__links_documents_documents__["a" /* LinkedDocumentsWithInfrastructure */], { location_id: this.params.get('id') });
                break;
            case 'agenda':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__links_agenda_agenda__["a" /* LinkedAgendaWithInfrastructure */], { location_id: this.params.get('id') });
                break;
            case 'equipment':
                this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_11__links_equipments_equipments__["a" /* LinkedEquipmentWithInfrastructure */], { location_id: this.params.get('id') });
                break;
        }
    };
    InfrastructureDescription.prototype.edit = function () {
        this.color = '#1ea209';
        this.is_edit = true;
        this.backup = this.fns.cloneObject(this.infrastructure);
    };
    InfrastructureDescription.prototype.cancelEdition = function () {
        this.resetVars();
        this.infrastructure = this.backup;
    };
    InfrastructureDescription.prototype.resetVars = function () {
        this.is_edit = false;
        this.color = '#488aff';
    };
    InfrastructureDescription.prototype.update = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.InfrastructureService.update(this.infrastructure)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.resetVars();
            _this.getInfrastructure();
        });
    };
    InfrastructureDescription = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/show/show.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title *ngIf="infrastructure">\n      {{infrastructure.location.location_name}}\n    </ion-title>\n    <ion-buttons right *ngIf="infrastructure">\n      <button *ngIf="is_edit" ion-button (click)="update()" clear>Update</button>\n      <button *ngIf="!is_edit && count < (infrastructure.levels_count - 1) " ion-button (click)="next()" clear>Next Level</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content>\n\n <ion-list *ngIf="infrastructure">\n   <!--  <div id="map_canvas">\n      \n    </div> -->\n    <ion-list-header [class]="item_header_class"  [style.color]="color" >\n      Name\n    </ion-list-header>\n\n    <ion-item *ngIf="!is_edit" >\n      {{infrastructure.location.name}}\n    </ion-item>\n\n    <ion-item *ngIf="is_edit" >\n      <input [class]="input_class" type="text" \n             [(ngModel)]="infrastructure.location.name" \n             [name]="name" required \n             [placeholder]="Name"/>\n    </ion-item>\n\n    <div *ngFor="let attr of infrastructure.location.attrs_data" >\n\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n        {{ attrName(attr.id) }}\n      </ion-list-header>\n\n      <ion-item *ngIf="!is_edit" >\n        {{attr.value}}\n      </ion-item>\n\n      <ion-item *ngIf="is_edit" >\n        <input [class]="input_class" type="text" \n             [(ngModel)]="attr.value" \n             [name]="attrName(attr.id)" required \n             [placeholder]="attrName(attr.id)"/>\n      </ion-item>\n\n    </div>\n\n  </ion-list>\n \n</ion-content>\n\n<ion-footer>\n   \n   <ion-segment color="light" *ngIf="infrastructure">\n    <ion-segment-button (click) = "link(\'contact_internal\')"  value="contact_internal">\n      <ion-icon name="contacts" class="contact_internal" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{infrastructure.location.linked_contacts_internal_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'contact_external\')"  value="contact_external">\n      <ion-icon name="contacts" class="contact_external" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{infrastructure.location.linked_contacts_external_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'agenda\')"  value="agenda">\n      <ion-icon name="calendar" class="agenda" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{infrastructure.location.linked_tasks_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'document\')" value="document">\n      <ion-icon name="document" class="document" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{infrastructure.location.linked_documents_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n    <ion-segment-button (click) = "link(\'equipment\')" value="equipment">\n      <ion-icon name="cube" class="equipment" >\n        <ion-badge class="custom-bagde-footer" color="primary">{{infrastructure.location.linked_equipments_count}}</ion-badge>\n      </ion-icon>\n    </ion-segment-button>\n  </ion-segment>\n\n  <ion-fab class="custom-ion-fab" right bottom *ngIf="!reload && infrastructure">\n    <button ion-fab class="construct-edit-btn" (click)="edit()" *ngIf="!is_edit"  >\n      <ion-icon class="construct-icon" name="brush" style="" ></ion-icon>\n    </button>\n    <button ion-fab class="cancel-edit-btn" (click)="cancelEdition()" *ngIf="is_edit"  > \n      <ion-icon class="cancel-icon" name="close"></ion-icon> \n    </button>\n  </ion-fab>\n\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/show/show.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_4__helpers_gmap_helper__["a" /* GoogleMapHelper */], __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_gmap_helper__["a" /* GoogleMapHelper */],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_functions_helper__["a" /* FunctionsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]])
    ], InfrastructureDescription);
    return InfrastructureDescription;
}());

//# sourceMappingURL=show.js.map

/***/ }),

/***/ 69:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Infrastructure; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__show_show__ = __webpack_require__(68);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__levels_levels__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__create_create__ = __webpack_require__(79);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__ = __webpack_require__(39);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__ = __webpack_require__(13);
// AUTHOR : HS
// CREATED : 2-04-2018
// DESCRIPTION : Used to list, delete, show infrastructure actions.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var Infrastructure = (function () {
    function Infrastructure(navCtrl, Notifications, actionSheetCtrl, fns, InfrastructureService) {
        this.navCtrl = navCtrl;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.fns = fns;
        this.InfrastructureService = InfrastructureService;
        this.search = '';
    }
    Infrastructure.prototype.ionViewDidEnter = function () {
        this.getInfrastructureList();
    };
    Infrastructure.prototype.getInfrastructureList = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.InfrastructureService.getInfrastructureList(1, this.search)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.infrastructure = data.locations;
            _this.backup = _this.infrastructure.slice();
            _this.location_id = data.location.id;
        });
    };
    Infrastructure.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Next Level',
                handler: function () {
                    _this.next(t);
                }
            }, {
                text: 'Description',
                handler: function () {
                    _this.view(t.id);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    Infrastructure.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__show_show__["a" /* InfrastructureDescription */], { id: id, count: 0 });
    };
    Infrastructure.prototype.next = function (t) {
        var locations = [];
        locations.push({ name: t.name,
            id: t.id,
            parent_id: t.parent_id
        });
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__levels_levels__["a" /* InfrastructureLevels */], {
            parent_id: t.id,
            parents: locations,
            location_id: t.location_id
        });
    };
    Infrastructure.prototype.delete = function (id) {
    };
    Infrastructure.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__dashboard_dashboard__["a" /* Dashboard */]);
    };
    Infrastructure.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__create_create__["a" /* InfrastructureCreate */], { location_id: this.location_id });
    };
    Infrastructure.prototype.getItems = function (ev) {
        var _this = this;
        var val = ev.target.value;
        if (val && val.trim() != '') {
            this.infrastructure = this.backup.filter(function (location) {
                var condition = _this.fns.match(location.name, val) ||
                    _this.fns.match(location.barcode, val);
                return (condition);
            });
        }
        else {
            this.infrastructure = this.backup;
        }
    };
    Infrastructure = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/list/list.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button (click)="back()" icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Infrastructure\n    </ion-title>\n  </ion-navbar>\n\n   <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n   </ion-searchbar>\n</ion-header>\n\n<ion-content>\n\n  <ion-list>\n    \n    <ion-item *ngFor="let t of infrastructure">\n      <div (click)=\'next(t);\' >\n        <h2>{{t.name}}</h2>\n        <p>{{t.barcode}}</p>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(t);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n\n    </ion-item>\n\n  </ion-list>\n \n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/list/list.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_7__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"], __WEBPACK_IMPORTED_MODULE_8__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]])
    ], Infrastructure);
    return Infrastructure;
}());

//# sourceMappingURL=list.js.map

/***/ }),

/***/ 70:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateEquipmentLevel; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__levels_levels__ = __webpack_require__(85);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var CreateEquipmentLevel = (function () {
    function CreateEquipmentLevel(navCtrl, params, alertCtrl, Notifications, EquipmentService, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.EquipmentService = EquipmentService;
        this.actionSheetCtrl = actionSheetCtrl;
        this.level = { name: '', parent_id: '', current_level: '', is_level: false };
        this.color = '#488aff';
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.level.parent_id = this.params.get('parent_id');
        this.level.is_level = this.params.get('level') || false;
        this.level.current_level = this.params.get('current_level');
    }
    CreateEquipmentLevel.prototype.create = function () {
        var _this = this;
        this.EquipmentService.createLevel(this.level).then(function (data) {
            if (data.status) {
                if (_this.level.is_level) {
                    _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__levels_levels__["a" /* EquipmentsLevels */], {
                        parent_id: _this.level.parent_id,
                        level_id: _this.params.get('level_id'),
                        count: _this.params.get('count')
                    });
                }
                else {
                    _this.navCtrl.pop();
                }
            }
            else {
                _this.Notifications.presentToast(data.message);
            }
        });
    };
    CreateEquipmentLevel = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/list/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create Level\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>save</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n  \n  <ion-list>\n    \n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Name\n    </ion-list-header>\n    \n    <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="level.name" name="level_name" required placeholder="Level Name"/>\n    </ion-item>\n\n  </ion-list>\n</ion-content>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/list/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], CreateEquipmentLevel);
    return CreateEquipmentLevel;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 71:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsModels; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__articles_articles__ = __webpack_require__(99);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__description_description__ = __webpack_require__(495);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(496);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__levels_levels__ = __webpack_require__(85);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
// AUTHOR : HS
// CREATED : 11-04-2018
// DESCRIPTION : Used to list, delete, show the levels.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EquipmentsModels = (function () {
    function EquipmentsModels(navCtrl, params, Notifications, actionSheetCtrl, alertCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.EquipmentService = EquipmentService;
        this.search = '';
        this.levels = '';
        this.is_searched = false;
        this.is_request = false;
        this.current_page = 1;
        this.have_more = false;
        this.getModels();
    }
    EquipmentsModels.prototype.getModels = function () {
        var _this = this;
        this.levels_data_id = this.params.get('levels_data_id');
        this.Notifications.presentLoader();
        this.EquipmentService.getModels(1, this.search, this.levels_data_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.models = data.models_data;
            _this.levels = data.levels;
            _this.parent_level = data.parent_level;
            _this.attributes = data.models_attrs;
            if (data.models_data.length == __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                _this.have_more = true;
            }
        });
    };
    EquipmentsModels.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Next Level',
                handler: function () {
                    _this.next(t);
                }
            }, {
                text: 'Description',
                handler: function () {
                    _this.view(t.id);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    EquipmentsModels.prototype.next = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__articles_articles__["a" /* EquipmentsArticles */], { levels_data_id: this.levels_data_id, model_data_id: t.id, parent_id: this.params.get('parent_id') });
    };
    EquipmentsModels.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__description_description__["a" /* EquipmentsModelDescription */], { id: id });
    };
    EquipmentsModels.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* EquipmentsModelCreate */], { levels_data_id: this.levels_data_id });
    };
    EquipmentsModels.prototype.delete = function (id) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteModel(id)
                            .then(function (data) {
                            _this.getModels();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    EquipmentsModels.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__levels_levels__["a" /* EquipmentsLevels */], { parent_id: this.params.get('parent_id'), count: 3 });
    };
    EquipmentsModels.prototype.getItems = function (ev) {
        var _this = this;
        if (!this.is_searched) {
            this.is_searched = true;
            this.EquipmentService.getModels(1, this.search.toLowerCase(), this.levels_data_id)
                .then(function (data) {
                _this.is_searched = false;
                if (data.models_data.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                    _this.have_more = false;
                }
                else {
                    _this.have_more = true;
                }
                _this.models = data.models_data;
                _this.levels = data.levels;
                _this.parent_level = data.parent_level;
                _this.attributes = data.models_attrs;
            });
        }
    };
    EquipmentsModels.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getModels();
            refresher.complete();
        }, 2000);
    };
    EquipmentsModels.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.EquipmentService.getModels(++this.current_page, this.search, this.levels_data_id)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.models_data.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.models_data.forEach(function (d) {
                        _this.models.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    EquipmentsModels = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-models',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/models.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Models\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n\n  <ion-segment color="primary" >\n    <ion-segment-button>\n      {{ levels }}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher (ionRefresh)="doRefresh($event)">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-list *ngIf="models" >\n\n    <ion-item *ngFor="let model of models">\n      <div  (click)=\'next(model);\' >\n        <h2>{{model.attrs_data[attributes[0][\'id\']]}}</h2>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(model);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n\n  </ion-list>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n  <ion-grid class="grid-reload" *ngIf="reload && models?.length <= 0"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && models?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n</ion-content>\n\n<ion-footer>\n  \n  <ion-item class="parent-levels">\n    <ion-badge  *ngIf="parent_level" (click)="back()" >  \n      <ion-icon name="arrow-back"></ion-icon> \n      {{parent_level.name}}\n    </ion-badge>\n  </ion-item>\n\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/models/models.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsModels);
    return EquipmentsModels;
}());

//# sourceMappingURL=models.js.map

/***/ }),

/***/ 78:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AgendaCreate; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__ = __webpack_require__(10);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ionic_native_calendar__ = __webpack_require__(648);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var AgendaCreate = (function () {
    function AgendaCreate(navCtrl, params, TasksService, session, alertCtrl, calendar, events, Notification, actionSheetCtrl) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.TasksService = TasksService;
        this.session = session;
        this.alertCtrl = alertCtrl;
        this.calendar = calendar;
        this.events = events;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.new_task = {
            name: '',
            description: '',
            expecting_date: '',
            priority: 'none',
            status: 'done',
            origin: 'manual',
            recurrence: false,
            repeat_type: 'day',
            repeat_every: '1',
            end: 'never',
            end_on: new Date(),
            end_after: 0,
            repeat_on: 0,
            attendees: [],
            tags: [],
            durations: 0,
            duration_type: 'minutes',
            days: 0,
            hours: 0,
            minutes: 0
        };
        this.current_user = [];
        this.selected_users = {};
        this.show_form = false;
        this.users = [];
        this.tags = [];
        this.color = '#488aff';
        this.item_header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.getData();
        this.current_user = this.session.getUser();
        this.new_task.repeat_on = (new Date()).getDay();
    }
    AgendaCreate.prototype.getUrl = function (user) {
        return user ? __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].api_url +
            'documents/download?fileName=' +
            user.profile_pic.name + '&token=' +
            this.session.getToken() +
            '&type=profile_pic&thumb=true&' +
            '&org_id=' + user.org_id
            : 'assets/img/dummy_user.png';
    };
    AgendaCreate.prototype.getData = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.TasksService.getAttendees()
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (Array.isArray(data.attendees)) {
                _this.users = data.attendees;
            }
            if (Array.isArray(data.tags)) {
                _this.tags = data.tags;
            }
        });
    };
    AgendaCreate.prototype.onCalender = function ($event) {
        this.new_task.expecting_date = $event._d;
    };
    AgendaCreate.prototype.save = function () {
        var _this = this;
        if (this.validations()) {
            var end_date = this.manipulateDate();
            console.log("this.new_task.name :" + this.new_task.name + " && this.new_task.description :" + this.new_task.description + " && this.new_task.expecting_date :" + this.new_task.expecting_date + " && end_date :" + end_date);
            this.calendar.createEvent(this.new_task.name, 'India', this.new_task.description, this.new_task.expecting_date, end_date).then(function (msg) {
                console.log("createEvent Response :" + JSON.stringify(msg));
                _this.Notification.presentToast("Event is successfully created in your calendar");
            }, function (err) {
                console.log("createEvent Error :" + JSON.stringify(err));
                _this.Notification.presentToast("Error in saving event to calendar");
            });
            this.TasksService.save(this.new_task)
                .then(function (data) {
                _this.navCtrl.pop();
            });
        }
        else {
            this.Notification.presentToast("Please fill the required fields");
        }
    };
    AgendaCreate.prototype.updateDay = function (day) {
        this.new_task.repeat_on = day;
    };
    AgendaCreate.prototype.range = function (start, count) {
        return Array.apply(0, Array(count))
            .map(function (element, index) {
            return index + start;
        });
    };
    AgendaCreate.prototype.manipulateDate = function () {
        var end_date = new Date(this.new_task.expecting_date);
        end_date.setHours(this.new_task.expecting_date.getHours() + parseInt(this.new_task.hours));
        end_date.setMinutes(this.new_task.expecting_date.getMinutes() + parseInt(this.new_task.minutes));
        this.new_task.durations = parseFloat(this.new_task.hours + '.' + this.new_task.minutes);
        return end_date;
    };
    AgendaCreate.prototype.validations = function () {
        return this.new_task.expecting_date !== '' &&
            this.new_task.name !== '' &&
            this.new_task.description !== '';
    };
    AgendaCreate.prototype.searchUsers = function () {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Search',
            message: 'Search the user by firstname or lastname to share your document.',
            inputs: [
                {
                    name: 'username',
                    placeholder: 'Fill in firstname or lastname'
                }
            ],
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function (data) {
                    }
                },
                {
                    text: 'Search',
                    handler: function (data) {
                        _this.Notification.presentLoader();
                        _this.TasksService.searchAttendees(data.username)
                            .then(function (data) {
                            _this.Notification.dismissLoader();
                            if (data.error == undefined) {
                                _this.show_form = true;
                                _this.users = data.attendees;
                            }
                            else {
                                _this.Notification.presentToast('Please Request Again');
                            }
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    AgendaCreate.prototype.select = function () {
        var _this = this;
        this.show_form = false;
        this.new_task.attendees = [];
        Object.keys(this.selected_users).forEach(function (uid) {
            if (_this.selected_users[uid]) {
                _this.new_task.attendees.push(uid);
            }
        });
    };
    AgendaCreate = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-agenda',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/create/create.html"*/'<ion-header>\n <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create\n    </ion-title>\n    <ion-buttons right >\n      <button ion-button *ngIf="!show_form" (click)="save()" clear>Save</button>\n      <button ion-button *ngIf="show_form" (click)="select()" clear>Select</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n\n  <ion-list *ngIf="!show_form">\n\n    <ion-item class="calendar-item">\n      <ion-calendar [(ngModel)]="new_task.expecting_date"\n                    (onChange)="onCalender($event)"\n                    [type]="string"\n                    [format]="\'DD MMM YYYY H:mm\'">\n      </ion-calendar>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class"  [style.color]="color" >\n      Name *\n    </ion-list-header>\n\n    <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="new_task.name" name="task_name" required placeholder="Name"/>\n    </ion-item>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Description *\n    </ion-list-header>\n\n    <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="new_task.description" name="description" required placeholder="Description"/>\n    </ion-item>\n\n    <div *ngIf="current_user && !current_user.is_private" >\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n        Attendees\n      </ion-list-header>\n\n      <ion-item (click)="searchUsers()">\n\n         \n         <ion-select multiple="true" [(ngModel)]="new_task.attendees" class="item-margin" placeholder="Attendees"  disabled>\n          <ion-option *ngFor="let attendee of users" value="{{attendee.user_id}}" > \n            {{ attendee.name }} \n          </ion-option>\n         </ion-select>\n         \n         <!-- <input [class]="input_class" type="text" [(ngModel)]="new_task.attendees" (click)="searchUsers()"  placeholder="Attendees"/> -->\n\n      </ion-item>\n    </div>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Durations\n    </ion-list-header>\n    \n    <ion-item>\n       <ion-select [(ngModel)]="new_task.duration_type" class="item-margin">\n        <ion-option value="days" > Day </ion-option>\n        <ion-option value="hours" > Hour </ion-option>\n        <ion-option value="minutes" > Minutes </ion-option>\n       </ion-select>\n    </ion-item>\n\n    <ion-card>\n      <ion-card-content>\n\n        <div *ngIf="new_task.duration_type == \'days\'" >\n          \n          <ion-item>\n             <ion-label fixed>Day</ion-label>\n             <ion-input type="number" [(ngModel)]="new_task.days" name="days" required ></ion-input>\n          </ion-item>\n\n          <ion-item>\n             <ion-label fixed>Hour</ion-label>\n             <ion-select [(ngModel)]="new_task.hours" class="item-margin">\n              <ion-option *ngFor="let h of range(0,24)" value="{{h}}" >{{h}}</ion-option>\n             </ion-select>\n          </ion-item>\n\n          <ion-item>\n             <ion-label fixed>Minutes</ion-label>\n             <ion-select [(ngModel)]="new_task.minutes" class="item-margin">\n              <ion-option *ngFor="let m of range(0,60)" value="{{m}}" >{{m}}</ion-option>\n             </ion-select>\n          </ion-item>\n\n        </div>\n\n        <div *ngIf="new_task.duration_type == \'hours\'" >\n\n          <ion-item>\n             <ion-label fixed>Hour</ion-label>\n             <ion-input type="number" [(ngModel)]="new_task.hours" name="hours" required></ion-input>\n          </ion-item>\n\n          <ion-item>\n             <ion-label fixed>Minutes</ion-label>\n             <ion-select [(ngModel)]="new_task.minutes" class="item-margin">\n              <ion-option *ngFor="let m of range(0,60)" value="{{m}}" >{{m}}</ion-option>\n             </ion-select>\n          </ion-item>\n\n        </div>\n\n        <div *ngIf="new_task.duration_type == \'minutes\'" >\n\n          <ion-item>\n              <ion-label fixed>Minutes</ion-label>\n              <ion-input type="number" [(ngModel)]="new_task.minutes" name="minutes" required ></ion-input>\n          </ion-item>\n\n        </div>\n\n      </ion-card-content>\n    </ion-card>\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Priority\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="new_task.priority" class="item-margin">\n        <ion-option value="none" > None </ion-option>\n        <ion-option value="low" > Low </ion-option>\n        <ion-option value="medium" > Medium </ion-option>\n        <ion-option value="high" > High </ion-option>\n       </ion-select>\n    </ion-item>\n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color" >\n      Status\n    </ion-list-header>\n\n    <ion-item>\n       <ion-select [(ngModel)]="new_task.status" class="item-margin">\n        <ion-option value="too_late" > Too late </ion-option>\n        <ion-option value="to_be_done" > To be done </ion-option>\n        <ion-option value="done" > Done </ion-option>\n        <ion-option value="high"> High </ion-option>\n       </ion-select>\n    </ion-item>\n\n\n    <ion-list-header [class]="item_header_class" [style.color]="color">\n      Tags \n    </ion-list-header>\n\n      <ion-item>\n        <ion-label>Select Tags</ion-label>\n        \n        <ion-select [(ngModel)]="new_task.tags" multiple="true">\n          <ion-option *ngFor="let t of tags" value="{{t.id}}">{{t.tag_name}}</ion-option>\n        </ion-select>\n      </ion-item>\n\n    \n\n    <ion-list-header [class]="item_header_class" [style.color]="color">\n      <ion-label class="recurrence-label" [style.color]="color" color="primary" text-uppercase> Custom recurrence</ion-label>\n      <ion-toggle [(ngModel)]="new_task.recurrence" item-end></ion-toggle>\n    </ion-list-header>\n\n    <ion-list *ngIf="new_task.recurrence" class="recurrence">\n\n      <ion-item>\n        <ion-label class="recurrence-label" [style.color]="color" color="primary" fixed text-uppercase> Repeat Every</ion-label>\n        <ion-input type="number" [(ngModel)]="new_task.repeat_every" name="repeat_every" placeholder="Number" ></ion-input>\n      </ion-item>\n\n       <ion-item>\n         <ion-select [(ngModel)]="new_task.repeat_type" class="item-margin">\n            <ion-option value="day" > Day </ion-option>\n            <ion-option value="week" > Week </ion-option>\n            <ion-option value="month" > Month </ion-option>\n            <ion-option value="year" > Year </ion-option>\n         </ion-select>\n      </ion-item>\n\n\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n       Repeat on\n      </ion-list-header>\n       <ion-item class="days">\n         <button ion-button (click) = "updateDay(1)" [color]="new_task.repeat_on == 1 ? \'primary\' : \'light\'" small>M</button>\n         <button ion-button (click) = "updateDay(2)" [color]="new_task.repeat_on == 2 ? \'primary\' : \'light\'" small>T</button>\n         <button ion-button (click) = "updateDay(3)" [color]="new_task.repeat_on == 3 ? \'primary\' : \'light\'" small>W</button>\n         <button ion-button (click) = "updateDay(4)" [color]="new_task.repeat_on == 4 ? \'primary\' : \'light\'" small>T</button>\n         <button ion-button (click) = "updateDay(5)" [color]="new_task.repeat_on == 5 ? \'primary\' : \'light\'" small>F</button>\n         <button ion-button (click) = "updateDay(6)" [color]="new_task.repeat_on == 6 ? \'primary\' : \'light\'" small>S</button>\n         <button ion-button (click) = "updateDay(7)" [color]="new_task.repeat_on == 7 ? \'primary\' : \'light\'" small>S</button>\n      </ion-item>\n\n      <ion-list-header [class]="item_header_class" [style.color]="color" >\n       End\n      </ion-list-header>\n\n      <ion-list radio-group [(ngModel)]="new_task.end">\n        <ion-item>\n          <ion-label>Never</ion-label>\n          <ion-radio value="never" checked></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>On</ion-label>\n          <ion-radio value="on"></ion-radio>\n        </ion-item>\n        <ion-item>\n          <ion-label>After</ion-label>\n          <ion-radio value="after"></ion-radio>\n        </ion-item>\n      </ion-list>\n\n      <ion-item *ngIf=" new_task.end != \'never\' ">\n        \n         <ion-datetime [(ngModel)]="new_task.end_on" *ngIf=" new_task.end == \'on\' " class="item-margin" displayFormat="DD/MM/YYYY" no-padding  pickerFormat="DD MMM YYYY" placeholder="End On" ></ion-datetime>\n\n         <ion-input [class]="input_class" [(ngModel)]="new_task.end_after" *ngIf=" new_task.end == \'after\' " type="number" name="end_after"  placeholder="End After" ></ion-input>\n\n      </ion-item>\n\n    </ion-list>\n\n  </ion-list>\n\n\n  <ion-list *ngIf="show_form" >\n\n      <ion-item>\n        <ion-label>Send notification to user(s) </ion-label>\n        <ion-checkbox [(ngModel)]="send_notification" item-end></ion-checkbox>\n      </ion-item>\n\n      <ion-item *ngFor="let user of users; let i = index "  >\n        <ion-avatar item-start>\n          <img src="{{getUrl(user)}}">\n        </ion-avatar>\n        <ion-label>\n           <h2 text-capitalize >{{user.name}}</h2>\n           <p text-capitalize>{{user.org_name}}</p>\n        </ion-label>\n        <ion-checkbox [(ngModel)]="selected_users[user.user_id]" item-end ></ion-checkbox>\n      </ion-item>\n\n  </ion-list>\n\n</ion-content>\n      \n   \n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */], __WEBPACK_IMPORTED_MODULE_6__ionic_native_calendar__["a" /* Calendar */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_2__providers_tasks_service_tasks_service__["a" /* TasksServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_6__ionic_native_calendar__["a" /* Calendar */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Events"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"]])
    ], AgendaCreate);
    return AgendaCreate;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 79:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return InfrastructureCreate; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__levels_levels__ = __webpack_require__(128);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
// AUTHOR : HS
// CREATED : 03-04-2018
// DESCRIPTION : Used to create the infrastructure.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var InfrastructureCreate = (function () {
    function InfrastructureCreate(navCtrl, params, Notifications, actionSheetCtrl, InfrastructureService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.InfrastructureService = InfrastructureService;
        this.infrastructure = { attributes: {} };
        this.header_class = "item item-ios list-header list-header-ios screen-header";
        this.input_class = "text-input text-input-ios";
        this.getInfrastructureFields();
    }
    InfrastructureCreate.prototype.getInfrastructureFields = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.infrastructure.location_id = this.params.get('location_id') || 0;
        this.infrastructure.parent_id = this.params.get('parent_id') || 0;
        this.InfrastructureService.getInfrastructureFields(this.infrastructure.location_id, this.infrastructure.parent_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.attributes = data.attributes;
            _this.barcodes = data.barcodes;
        });
    };
    InfrastructureCreate.prototype.save = function () {
        var _this = this;
        this.Notifications.presentLoader();
        if (typeof this.infrastructure["name"] == "undefined" || this.infrastructure["name"] == "") {
            this.Notifications.presentToast("Please give name to infrastructure");
            this.Notifications.dismissLoader();
            return false;
        }
        this.InfrastructureService.create(this.infrastructure)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (_this.infrastructure.parent_id == 0) {
                _this.navCtrl.pop();
            }
            else {
                _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__levels_levels__["a" /* InfrastructureLevels */], { parent_id: _this.infrastructure.parent_id, parents: [], location_id: _this.infrastructure.location_id, count: _this.params.get('count') });
            }
        });
    };
    InfrastructureCreate = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-infrastructure-create',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/create/create.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Create\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="save()" clear>Save</button>\n    </ion-buttons>\n  </ion-navbar>\n\n</ion-header>\n\n<ion-content>\n\n    <ion-list *ngIf="attributes">\n    \n      <ion-list-header [class]="header_class">\n        Name\n      </ion-list-header>\n\n      <ion-item>\n        <input [class]="input_class" type="text" [(ngModel)]="infrastructure.name"  required placeholder="Name"/>\n      </ion-item>\n    \n      <ion-list-header [class]="header_class">\n        Barcode\n      </ion-list-header>\n\n      <ion-item>\n        <ion-label>Barcode</ion-label>\n        <ion-select [(ngModel)]="infrastructure.barcode">\n          <ion-option *ngFor="let barcode of barcodes" \n                      [value]="barcode" >\n            {{barcode}}\n          </ion-option>\n        </ion-select>\n      </ion-item>\n\n      <div *ngFor="let attribute of attributes" >\n          \n        <ion-list-header [class]="header_class">\n          {{attribute.name}}\n        </ion-list-header>\n\n        <ion-item *ngIf=" attribute.attr_type == \'text\' || attribute.attr_type == \'number\' ">\n          <input [class]="input_class" \n                 type="text" \n                 [(ngModel)]="infrastructure.attributes[attribute.id]" \n                 required \n                 placeholder="{{attribute.name}}"/>\n        </ion-item>\n\n        <ion-item *ngIf=" attribute.attr_type == \'date\' " class="item-margin" >\n          <ion-datetime displayFormat="DD/MM/YYYY" \n                        [(ngModel)]="infrastructure.attributes[attribute.id]" \n                        pickerFormat="DD MMM YYYY" \n                        placeholder="{{attribute.name}}" >\n                    \n          </ion-datetime>\n        </ion-item>\n\n        <ion-item *ngIf=" attribute.attr_type == \'list\' " class="item-margin options" >\n          <ion-label>{{attribute.name}}</ion-label>\n          <ion-select [(ngModel)]="infrastructure.attributes[attribute.id]">\n            <ion-option *ngFor="let op of attribute.options" \n                        value="{{op}}" >\n              {{op}}\n            </ion-option>\n          </ion-select>\n        </ion-item>\n\n      </div>\n\n  </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/infrastructure/create/create.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */]])
    ], InfrastructureCreate);
    return InfrastructureCreate;
}());

//# sourceMappingURL=create.js.map

/***/ }),

/***/ 80:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactExternalCreateScreen1; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__screen2_screen2__ = __webpack_require__(209);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__create_create__ = __webpack_require__(485);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ContactExternalCreateScreen1 = (function () {
    function ContactExternalCreateScreen1(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.organisations = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactOrgs();
        console.log(this.params);
    }
    ContactExternalCreateScreen1.prototype.getContactOrgs = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactOrgs(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.organisations = data;
                if (_this.organisations.length == __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactExternalCreateScreen1.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.ContactService.getContactOrgs(++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.organisations.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    ContactExternalCreateScreen1.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.ContactService.searchContactsOrgs(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.organisations = data;
                });
            }, 500);
        }
    };
    ContactExternalCreateScreen1.prototype.next = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__screen2_screen2__["a" /* ContactExternalCreateScreen2 */], {
            id: this.organisation,
            page: this.params.get('page'),
            request_id: this.params.get('request_id')
        });
    };
    ContactExternalCreateScreen1.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_3__create_create__["a" /* CreateOrganisation */]);
    };
    ContactExternalCreateScreen1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen1/screen1.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Organisation\n    </ion-title>\n\n     <ion-buttons right *ngIf="organisation" >\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n  </ion-navbar>\n 	<ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n	</ion-searchbar>\n</ion-header>\n\n<ion-content>\n	\n	<ion-list padding radio-group [(ngModel)]="organisation" *ngIf="!reload && organisations?.length > 0" >\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header" style="">\n	    Organisations\n	  </ion-list-header>\n	  <ion-item *ngFor="let org of organisations">\n	    <ion-label text-capitalize>{{org.name}}</ion-label>\n	    <ion-radio value="{{org.id}}"></ion-radio>\n	  </ion-item>\n	</ion-list>\n	\n	<ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    	<ion-infinite-scroll-content></ion-infinite-scroll-content>\n  	</ion-infinite-scroll>\n\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/external/create/screen1/screen1.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactExternalCreateScreen1);
    return ContactExternalCreateScreen1;
}());

//# sourceMappingURL=screen1.js.map

/***/ }),

/***/ 81:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactInternalCreateScreen1; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__screen2_screen2__ = __webpack_require__(216);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__ = __webpack_require__(9);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(489);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var ContactInternalCreateScreen1 = (function () {
    function ContactInternalCreateScreen1(navCtrl, params, Notification, actionSheetCtrl, ContactService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notification = Notification;
        this.actionSheetCtrl = actionSheetCtrl;
        this.ContactService = ContactService;
        this.sites = [];
        this.current_page = 1;
        this.have_more = false;
        this.search = '';
        this.is_request = false;
        this.is_searched = false;
        this.is_hold = false;
        this.reload = false;
        this.getContactOrgs();
        console.log(this.params);
    }
    ContactInternalCreateScreen1.prototype.getContactOrgs = function () {
        var _this = this;
        this.Notification.presentLoader();
        this.ContactService.getContactSites(1, this.search)
            .then(function (data) {
            _this.Notification.dismissLoader();
            if (data.error == undefined) {
                _this.sites = data;
                if (_this.sites.length == __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                    _this.have_more = true;
                }
            }
            else {
                _this.Notification.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    ContactInternalCreateScreen1.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.ContactService.getContactSites(++this.current_page, this.search)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.forEach(function (d) {
                        _this.sites.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    ContactInternalCreateScreen1.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.ContactService.searchContactsSites(_this.search.toLowerCase())
                    .then(function (data) {
                    _this.is_searched = false;
                    if (data.length < __WEBPACK_IMPORTED_MODULE_5__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.sites = data;
                });
            }, 500);
        }
    };
    ContactInternalCreateScreen1.prototype.next = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_2__screen2_screen2__["a" /* ContactInternalCreateScreen2 */], {
            id: this.site,
            page: this.params.get('page'),
            request_id: this.params.get('request_id')
        });
    };
    ContactInternalCreateScreen1.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* CreateSite */]);
    };
    ContactInternalCreateScreen1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-contact',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen1/screen1.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n   <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Select Site\n    </ion-title>\n\n     <ion-buttons right *ngIf="site" >\n      <button ion-button (click)="next()" clear>Next</button>\n    </ion-buttons>\n  </ion-navbar>\n 	<ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n	</ion-searchbar>\n</ion-header>\n\n<ion-content>\n	\n	<ion-list radio-group [(ngModel)]="site" *ngIf="!reload && sites?.length > 0" >\n	  <ion-list-header class="item item-ios list-header list-header-ios screen-header" style="">\n	    Sites\n	  </ion-list-header>\n	  <ion-item *ngFor="let s of sites">\n	    <ion-label text-capitalize>{{s.name}}</ion-label>\n	    <ion-radio value="{{s.id}}"></ion-radio>\n	  </ion-item>\n	</ion-list>\n	\n	<ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    	<ion-infinite-scroll-content></ion-infinite-scroll-content>\n  	</ion-infinite-scroll>\n\n</ion-content>\n\n<ion-footer>\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/contact/internal/create/screen1/screen1.html"*/
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_3__providers_contact_service_contact_service__["a" /* ContactServiceProvider */]])
    ], ContactInternalCreateScreen1);
    return ContactInternalCreateScreen1;
}());

//# sourceMappingURL=screen1.js.map

/***/ }),

/***/ 83:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotificationServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var NotificationServiceProvider = (function () {
    function NotificationServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    NotificationServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    NotificationServiceProvider.prototype.getNotifications = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.getItems = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/items?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.getRecentNotifications = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/recent?&token=' + _this.session.getToken())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.getNotificationsCount = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/counts', _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.openNotification = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.markAsValueNotification = function (ids, value) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/mark_as_value?ids=' + ids + '&value=' + value, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider.prototype.deleteNotifications = function (ids) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/delete', { notification_ids: ids }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    NotificationServiceProvider.prototype.saveNotificationsDays = function (days) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/save_notifications_days', { days: days }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    NotificationServiceProvider.prototype.getNotificationsDays = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'notifications/get_notifications_days', _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    NotificationServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */]])
    ], NotificationServiceProvider);
    return NotificationServiceProvider;
}());

//# sourceMappingURL=notifications-service.js.map

/***/ }),

/***/ 85:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsLevels; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__list_list__ = __webpack_require__(135);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__description_description__ = __webpack_require__(497);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__list_create_create__ = __webpack_require__(70);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__app_config__ = __webpack_require__(5);
// AUTHOR : HS
// CREATED : 11-04-2018
// DESCRIPTION : Used to list, delete, show the levels.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EquipmentsLevels = (function () {
    var EquipmentsLevels = EquipmentsLevels_1 = function EquipmentsLevels(navCtrl, params, Notifications, actionSheetCtrl, alertCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.EquipmentService = EquipmentService;
        this.search = '';
        this.is_searched = false;
        this.is_request = false;
        this.current_page = 1;
        this.have_more = false;
        this.getLevels();
    };
    EquipmentsLevels.prototype.getLevels = function () {
        var _this = this;
        this.parent_id = this.params.get('parent_id');
        this.count = this.params.get('count') || 2;
        this.Notifications.presentLoader();
        var where = '&parent_id=' + this.parent_id;
        this.EquipmentService.getLevels(1, this.search, where).then(function (data) {
            _this.Notifications.dismissLoader();
            _this.levels = data;
            if (data.levels_data.length == __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                _this.have_more = true;
            }
        });
    };
    EquipmentsLevels.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t.id);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t.id);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    EquipmentsLevels.prototype.next = function (t) {
        if (this.count < 3) {
            this.navCtrl.push(EquipmentsLevels_1, { parent_id: t.id, count: 3 });
        }
        else {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__models_models__["a" /* EquipmentsModels */], { levels_data_id: t.id, parent_id: t.parent_id });
        }
    };
    EquipmentsLevels.prototype.view = function (id) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__description_description__["a" /* EquipmentsLevelDescription */], { id: id });
    };
    EquipmentsLevels.prototype.delete = function (id) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this level?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () { }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.Notifications.presentLoader();
                        _this.EquipmentService.deleteLevel(id)
                            .then(function (data) {
                            _this.Notifications.dismissLoader();
                            if (data.status) {
                                _this.getLevels();
                            }
                            _this.Notifications.presentToast(data.message);
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    //name conversion:singular to plural eg country = countries, state = states  
    EquipmentsLevels.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_7__list_create_create__["a" /* CreateEquipmentLevel */], {
            parent_id: this.parent_id,
            current_level: this.levels.current_level,
            level: true,
            count: this.count
        });
    };
    EquipmentsLevels.prototype.back = function () {
        if (this.count == 3) {
            this.navCtrl.push(EquipmentsLevels_1, { parent_id: this.levels.parent.parent_id, count: 2 });
        }
        else if (this.count == 2) {
            this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__list_list__["a" /* Equipments */]);
        }
        this.count--;
    };
    EquipmentsLevels.prototype.getItems = function (ev) {
        var _this = this;
        if (!this.is_searched) {
            this.is_searched = true;
            this.EquipmentService.searchLevelsData(1, this.search.toLowerCase(), this.parent_id)
                .then(function (data) {
                _this.is_searched = false;
                if (data.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                    _this.have_more = false;
                }
                else {
                    _this.have_more = true;
                }
                _this.levels = data;
            });
        }
    };
    EquipmentsLevels.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getLevels();
            refresher.complete();
        }, 2000);
    };
    EquipmentsLevels.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            var where = '&parent_id=' + this.parent_id;
            this.EquipmentService.getLevels(++this.current_page, this.search, where).then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.levels_data.length < __WEBPACK_IMPORTED_MODULE_8__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.levels_data.forEach(function (d) {
                        _this.levels.levels_data.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    EquipmentsLevels = EquipmentsLevels_1 = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-level',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/levels/levels.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      {{ count === 3 ? \'Last Level\' : \'Level \' + count }}\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n\n  <ion-segment color="primary">\n    <ion-segment-button>\n      {{ levels && levels.level_names ? levels.level_names : \'\' }}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n  <ion-refresher (ionRefresh)="doRefresh($event)">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n\n  <ion-list *ngIf="levels && levels.levels_data" >\n\n    <ion-item *ngFor="let level of levels.levels_data">\n      <div (click)=\'next(level);\' >\n        <h2>{{level.name}}</h2>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(level);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n\n  </ion-list>\n\n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n  \n  <ion-grid class="grid-reload" *ngIf="reload && levels && levels.levels_data?.length <= 0"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && levels && levels.levels_data?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n</ion-content>\n\n<ion-footer>\n\n  <ion-item class="parent-levels" *ngIf="levels && levels.parent_level">\n    <ion-badge (click)="back()" >  \n      <ion-icon name="arrow-back"></ion-icon> {{levels.parent_level.name}}\n    </ion-badge>\n  </ion-item>\n\n  <ion-fab right bottom >\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add" ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/levels/levels.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"], __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsLevels);
    return EquipmentsLevels;
    var EquipmentsLevels_1;
}());

//# sourceMappingURL=levels.js.map

/***/ }),

/***/ 86:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CreateInfrastructureModal; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_functions_helper__ = __webpack_require__(13);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__ = __webpack_require__(19);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__infrastructurelocationmodal__ = __webpack_require__(227);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__locationlistmodal__ = __webpack_require__(493);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var CreateInfrastructureModal = (function () {
    function CreateInfrastructureModal(modalCtrl, viewCtrl, Notifications, navCtrl, InfrastructureService, app, params, functionsHelper, alertCtrl) {
        this.modalCtrl = modalCtrl;
        this.viewCtrl = viewCtrl;
        this.Notifications = Notifications;
        this.navCtrl = navCtrl;
        this.InfrastructureService = InfrastructureService;
        this.app = app;
        this.params = params;
        this.functionsHelper = functionsHelper;
        this.alertCtrl = alertCtrl;
        this.levels = {};
        this.location = {};
        this.level = { one: '', two: '', three: '' };
        this.article = { attributes: {} };
        this.missingLocationData = {};
        this.showForm = false;
        this.item_header_class = 'item item-ios list-header list-header-ios';
        this.input_class = "text-input text-input-ios";
        this.noDataFound = false;
        this.levelsArray = ["one", "two", "three", "four", "five", "six", "seven", "eight", "nine", "ten"];
        this.parentLocation = {};
        this.getInfrastructureList();
    }
    CreateInfrastructureModal.prototype.getInfrastructureList = function () {
        var _this = this;
        this.InfrastructureService.getInfrastructureList(1, '').then(function (data) {
            _this.levels['one'] = data.locations;
            _this.location['one'] = data.location;
            _this.level['one'] = data;
        });
    };
    CreateInfrastructureModal.prototype.refreshList = function (index) {
        var _this = this;
        if (this.article.parent_id == 0) {
            this.getInfrastructureList();
            return false;
        }
        console.log("refresh called");
        var location_id = parseInt(this.article.location_id) - 1;
        var where = 'parent_id=' + this.article.parent_id + '&location_id=' + location_id;
        this.InfrastructureService.getInfrastructureList(1, '', where).then(function (data) {
            _this.levels[index] = data.locations;
            _this.location[index] = data.location;
            _this.level[index] = data;
        });
    };
    CreateInfrastructureModal.prototype.changeLevel = function (id, stage, nextStage) {
        var _this = this;
        this.Notifications.presentLoader();
        var where = 'parent_id=' + id + '&location_id=' + this.location[stage].id;
        var cloneLevelsArray = this.functionsHelper.clone(this.levels);
        for (var i = Object.keys(cloneLevelsArray).indexOf(stage) + 1; i < Object.keys(cloneLevelsArray).length; i++) {
            delete this.levels[this.levelsArray[i]];
        }
        this.InfrastructureService.getInfrastructureList(1, '', where).then(function (data) {
            _this.Notifications.dismissLoader();
            if (typeof data.locations !== "undefined") {
                if (data.locations.length == 0) {
                    _this.noDataFound = true;
                    _this.missingLocationData["id"] = id;
                    _this.missingLocationData["stage"] = stage;
                    _this.missingLocationData["nextStage"] = nextStage;
                    _this.article.location_id = data.location.id;
                    _this.article.parent_id = data.parent_location.id;
                }
                else {
                    _this.noDataFound = false;
                    _this.location[_this.levelsArray[_this.levelsArray.indexOf(stage) + 1]] = data.location;
                    _this.levels[_this.levelsArray[_this.levelsArray.indexOf(stage) + 1]] = data.locations;
                    _this.level[_this.levelsArray[_this.levelsArray.indexOf(stage) + 1]] = data;
                    _this.article.location_id = data.location.id;
                    _this.article.parent_id = data.parent_location.id;
                }
            }
            else {
                _this.noDataFound = true;
            }
        });
    };
    CreateInfrastructureModal.prototype.showLevelForm = function (id, stage, nextStage) {
        var _this = this;
        this.showForm = true;
        var where = 'parent_id=' + id + '&location_id=' + this.location[stage].id;
        this.article.location_id = this.location[stage].id;
        this.article.parent_id = id;
        this.InfrastructureService.getInfrastructureFields(this.location[stage].id, this.article.parent_id).then(function (data) {
            _this.formAttributes = data.attributes;
            _this.barcodes = data.barcodes;
        });
    };
    CreateInfrastructureModal.prototype.dismiss = function () {
        this.viewCtrl.dismiss();
    };
    CreateInfrastructureModal.prototype.create = function () {
        this.dismiss();
    };
    CreateInfrastructureModal.prototype.showModal = function () {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_5__infrastructurelocationmodal__["a" /* InfrastructureLocationModal */], {
            location_id: this.article.location_id,
            parent_id: this.article.parent_id
        });
        modal.onDidDismiss(function (data) {
            if (typeof data !== "undefined") {
                _this.changeLevel(_this.missingLocationData["id"], _this.missingLocationData["stage"], _this.missingLocationData["nextStage"]);
            }
        });
        modal.present();
    };
    CreateInfrastructureModal.prototype.showListLocation = function (locationIndex, locationId, parentId) {
        var _this = this;
        var modal = this.modalCtrl.create(__WEBPACK_IMPORTED_MODULE_6__locationlistmodal__["a" /* LocationListModal */], {
            levels: this.levels[locationIndex],
            level: this.level[locationIndex],
            index: locationIndex,
            locationId: this.article.location_id,
            parentId: this.article.parent_id
        });
        modal.onDidDismiss(function (data) {
            if (typeof data !== "undefined") {
                _this.parentLocation[_this.levelsArray[_this.levelsArray.indexOf(locationIndex)]] = data.name;
                if (locationIndex == "ten") {
                    _this.showLevelForm(data.id, locationIndex, locationId);
                }
                else {
                    _this.changeLevel(data.id, locationIndex, locationId);
                }
            }
            else {
                _this.article.parent_id = (typeof _this.article.parent_id !== "undefined") ? _this.article.parent_id : 0;
                _this.refreshList(locationIndex);
            }
        });
        modal.present();
    };
    CreateInfrastructureModal = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: "create-infra-structure-modal",template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/infrastructure.html"*/'<ion-header>\n  <ion-toolbar>\n    <ion-title>\n      Create Infrastructure\n    </ion-title>\n    <ion-buttons start>\n      <button ion-button (click)="dismiss()">\n        <span ion-text color="primary" showWhen="ios,android">Cancel</span>\n      </button>\n    </ion-buttons>\n    <ion-buttons right >\n      <button ion-button (click)="create()" clear>Save</button>\n    </ion-buttons>\n  </ion-toolbar>\n</ion-header>\n\n<ion-content>\n  <ion-list>\n\n    <ion-item *ngIf="levels.one" >\n      <ion-label >{{location.one.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'one\', 0, 1)">\n        <ion-item  item-start *ngIf = "parentLocation.one">{{parentLocation.one}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n    \n    <ion-item *ngIf="levels.two" >\n      <ion-label>{{location.two.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'two\', 1, 2)">\n        <ion-item  item-start *ngIf = "parentLocation.two">{{parentLocation.two}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.three" >\n      <ion-label>{{location.three.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'three\', 2, 3)">\n        <ion-item  item-start *ngIf = "parentLocation.three">{{parentLocation.three}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n    \n\n    <ion-item *ngIf="levels.four" >\n      <ion-label>{{location.four.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'four\', 3, 4)">\n        <ion-item  item-start *ngIf = "parentLocation.four">{{parentLocation.four}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.five" >\n      <ion-label>{{location.five.name}}</ion-label>\n      <button class="show-list" class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'five\', 4, 5)">\n        <ion-item  item-start *ngIf = "parentLocation.five">{{parentLocation.five}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.six" >\n      <ion-label>{{location.six.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'six\', 5, 6)">\n        <ion-item  item-start *ngIf = "parentLocation.six">{{parentLocation.six}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.seven" >\n      <ion-label>{{location.seven.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'seven\', 6, 7)" >\n        <ion-item  item-start *ngIf = "parentLocation.seven">{{parentLocation.seven}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.eight" >\n      <ion-label>{{location.eight.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'eight\', 7, 8)">\n        <ion-item  item-start *ngIf = "parentLocation.eight">{{parentLocation.eight}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.nine" >\n      <ion-label>{{location.nine.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'nine\', 8, 9)">\n        <ion-item  item-start *ngIf = "parentLocation.nine">{{parentLocation.nine}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf="levels.ten" >\n      <ion-label>{{location.ten.name}}</ion-label>\n      <button class="show-list" ion-button item-end icon-only color="light" (click)="showListLocation(\'ten\', 9, 10)">\n        <ion-item  item-start *ngIf = "parentLocation.ten">{{parentLocation.ten}}</ion-item>\n        <ion-icon item-end name="arrow-dropdown" outline></ion-icon>\n      </button>\n    </ion-item>\n\n    <ion-item *ngIf = "noDataFound">\n      <ion-label class=\'add-new-location\' (click) = "showModal()">\n        <ion-icon color=\'primary\' name="add-circle" ></ion-icon> \n        <span>Add new</span> \n      </ion-label>\n    </ion-item>\n\n  </ion-list>\n\n</ion-content>\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/common/infrastructure/infrastructure.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_3__helpers_functions_helper__["a" /* FunctionsHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ModalController"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ViewController"], __WEBPACK_IMPORTED_MODULE_2__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"], __WEBPACK_IMPORTED_MODULE_4__providers_infrastructure_service_infrastructure_service__["a" /* InfrastructureServiceProvider */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["App"], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"], __WEBPACK_IMPORTED_MODULE_3__helpers_functions_helper__["a" /* FunctionsHelper */], __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"]])
    ], CreateInfrastructureModal);
    return CreateInfrastructureModal;
}());

//# sourceMappingURL=infrastructure.js.map

/***/ }),

/***/ 9:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ContactServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var ContactServiceProvider = (function () {
    function ContactServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    ContactServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    ContactServiceProvider.prototype.getContactExternals = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactInternals = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactOrgs = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_orgs?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactSites = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/contact_sites?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDivisions = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_divisions?contact_org_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDepartments = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/contact_departments?contact_site_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDepartmentsAndSiteAttrs = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/contact_departments_and_site_attributes?contact_site_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDivisionsAndOrgAttrs = function (id) {
        var _this = this;
        console.log("contact_id", id);
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_divisions_and_org_attributes?contact_org_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDepartmentsAttrs = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/contact_departments_attributes?department_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactDivisionAttrs = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_divisions_attributes?division_id=' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactExternal = function (id) {
        var _this = this;
        console.log('sjdfsdfsdkfsdfsd', id);
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getContactInternal = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/' + id, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.searchContacts = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data.contacts;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.searchContactsInternal = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data.contacts;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.searchContactsOrgs = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_orgs?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.searchContactsSites = function (val) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_sites?page=' + 1 + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + val, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.getContactFields = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/contact_fields', _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.getContactInternalFields = function () {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/contact_fields', _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveOrg = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/create_org', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveSite = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/create_site', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveDepartment = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/create_department', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveDiv = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/create_division', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveContact = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/create_contact', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveEmployee = function (employee) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/create_employee', employee, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.savePerson = function (person) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/create_person', person, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.savePersonCI = function (person) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/create_person', person, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.update = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/update', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.updateContactInternal = function (contact) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/update', contact, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.delete = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/delete', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedDocuments = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/linked_documents?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedDocumentsCI = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/linked_documents?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedInfrastructureCI = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/linked_infrastructure?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedInfrastructureCE = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/linked_infrastructure?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.deleteDocumentLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteDocumentLinkCI = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/delete_linked_document', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteEquipmentLinkCI = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/delete_linked_equipment', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteEquipmentLinkCE = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/delete_linked_equipment', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteInfrastructureLinkCI = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/delete_linked_infrastructure', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteInfrastructureLinkCE = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/delete_linked_infrastructure', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedDocument = function (link) {
        var _this = this;
        console.log(link);
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedDocumentCI = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/save_linked_document', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedInfrastructureCI = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/save_linked_infrastructure', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedInfrastructureCE = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/save_linked_infrastructure', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedAgendas = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/linked_agendas?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedAgendasCI = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/linked_agendas?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.deleteAgendaLink = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/delete_linked_agenda', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.deleteAgendaLinkCI = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/delete_linked_agenda', { id: id }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedAgenda = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/save_linked_agenda', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedAgendaCI = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/save_linked_agenda', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedEquipmentCI = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.saveLinkedEquipmentCE = function (link) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/save_linked_equipment', link, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedEquipmentsCI = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_internal/linked_equipments?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider.prototype.getLinkedEquipmentsCE = function (row_id, contact_id, page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'contact_external/linked_equipments?row_id=' + row_id + '&contact_id=' + contact_id + '&page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    ContactServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */]])
    ], ContactServiceProvider);
    return ContactServiceProvider;
}());

//# sourceMappingURL=contact-service.js.map

/***/ }),

/***/ 908:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RequestsServiceProvider; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__(41);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__ = __webpack_require__(52);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__ = __webpack_require__(75);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_timeout__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__(1);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__(76);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__ = __webpack_require__(77);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_timeoutWith__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__ = __webpack_require__(11);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var RequestsServiceProvider = (function () {
    function RequestsServiceProvider(http, session) {
        this.http = http;
        this.session = session;
    }
    RequestsServiceProvider.prototype.getHeaders = function () {
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["a" /* Headers */]({ 'Content-Type': 'application/json' });
        headers.append('Authorization', this.session.getToken());
        return new __WEBPACK_IMPORTED_MODULE_1__angular_http__["d" /* RequestOptions */]({ headers: headers }); // Create a request option
    };
    RequestsServiceProvider.prototype.getRequests = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    RequestsServiceProvider.prototype.getAcceptedRequests = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/accepted?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    RequestsServiceProvider.prototype.getSentRequests = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/sent?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    RequestsServiceProvider.prototype.getRecievedRequests = function (page, search) {
        var _this = this;
        if (page === void 0) { page = 1; }
        if (search === void 0) { search = ''; }
        return new Promise(function (resolve) {
            _this.http.get(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/recieved?page=' + page + '&per_page=' + __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page + '&search=' + search, _this.getHeaders())
                .timeoutWith(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].timeout, __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].throw(new Error('Boom!')))
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            }, function (err) {
                resolve({ error: true });
            });
        });
    };
    RequestsServiceProvider.prototype.sendRequest = function (params) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/create', params, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    RequestsServiceProvider.prototype.acceptRequest = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/accept/' + id, {}, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    RequestsServiceProvider.prototype.rejectRequest = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/reject/' + id, {}, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    RequestsServiceProvider.prototype.resendRequest = function (id) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/resend/' + id, {}, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    RequestsServiceProvider.prototype.searchNewUsers = function (search) {
        var _this = this;
        return new Promise(function (resolve) {
            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].api_url + 'requests/search_new_users', { search: search }, _this.getHeaders())
                .map(function (res) { return res.json(); })
                .subscribe(function (data) {
                _this.data = data;
                resolve(_this.data);
            });
        });
    };
    RequestsServiceProvider = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1__angular_http__["b" /* Http */], __WEBPACK_IMPORTED_MODULE_8__helpers_session_helper__["a" /* SessionHelper */]])
    ], RequestsServiceProvider);
    return RequestsServiceProvider;
}());

//# sourceMappingURL=requests-service.js.map

/***/ }),

/***/ 915:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DocumentsResult; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__documents_conditions_documents_conditions__ = __webpack_require__(126);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__documents_list_view_documents_list_view__ = __webpack_require__(33);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__documents_list_info_documents_list_info__ = __webpack_require__(37);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var DocumentsResult = (function () {
    function DocumentsResult(navCtrl, DocumentService, Notifications, globalVars, session, navParams) {
        this.navCtrl = navCtrl;
        this.DocumentService = DocumentService;
        this.Notifications = Notifications;
        this.globalVars = globalVars;
        this.session = session;
        this.navParams = navParams;
        this.have_more = false;
        this.is_request = false;
        this.is_searched = false;
        this.current_page = 1;
        this.search = '';
        this.documentConditions = __WEBPACK_IMPORTED_MODULE_3__documents_conditions_documents_conditions__["a" /* DocumentsConditions */];
        this.page = { view: __WEBPACK_IMPORTED_MODULE_6__documents_list_view_documents_list_view__["a" /* DocumentsListView */], info: __WEBPACK_IMPORTED_MODULE_7__documents_list_info_documents_list_info__["a" /* DocumentsListInfo */] };
    }
    DocumentsResult.prototype.ionViewDidLoad = function () {
        this.documents = this.navParams.data.documents;
        this.conditions = this.navParams.data.conditions || [];
        this.setBackButtonAction();
        if (this.documents.length == __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].per_page) {
            this.have_more = true;
        }
        this.category = this.navParams.data.category;
        this.subcategory = this.navParams.data.subcategory;
        this.params = { cat_attrs: this.navParams.data.cat_attrs,
            sub_cat_attrs: this.navParams.data.sub_cat_attrs,
            callback: 'result',
            category: this.category,
            conditions: this.conditions,
            org_id: this.navParams.data.org_id,
            subcategory: this.subcategory };
    };
    DocumentsResult.prototype.setBackButtonAction = function () {
    };
    DocumentsResult.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.DocumentService.getDocumentsBySubcats(this.subcategory.join(','), ++this.current_page)
                .then(function (res) {
                _this.is_request = false;
                if (res.documents.length < __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].per_page) {
                    _this.have_more = false;
                }
                res.documents.forEach(function (d) {
                    _this.documents.push(d);
                });
                infiniteScroll.complete();
            });
        }
    };
    DocumentsResult.prototype.getItems = function (ev) {
        var _this = this;
        this.current_page = 1;
        if (!this.is_searched) {
            this.is_searched = true;
            setTimeout(function () {
                _this.Notifications.presentLoader();
                _this.DocumentService.getDocumentsBySubcats(_this.subcategory.join(','), 1, _this.search.toLowerCase())
                    .then(function (data) {
                    _this.Notifications.dismissLoader();
                    _this.is_searched = false;
                    if (data.documents.length < __WEBPACK_IMPORTED_MODULE_9__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    else {
                        _this.have_more = true;
                    }
                    _this.documents = data.documents;
                });
            }, 500);
        }
    };
    // getItems(ev: any) {
    //   let val = ev.target.value;
    //   this.current_page = 1;
    //   this.search = val;
    //   this.Notifications.presentLoader();
    //   this.DocumentService.getDocumentsBySubcats(this.subcategory.join(','), 1 ,val.toLowerCase())
    //   .then(data => {
    //     this.Notifications.dismissLoader();
    //     if(data.documents.length < config.per_page){
    //       this.have_more = false;
    //     } else {
    //       this.have_more = true;
    //     }
    //     this.documents = data.documents;
    //   });
    // }
    DocumentsResult.prototype.view = function (comp, id, i) {
        var _this = this;
        var p = 0;
        this.documents.forEach(function (d) {
            _this.documents[p].opened = false;
            p++;
        });
        this.documents[i].opened = true;
        this.DocumentService.updateRecent(id)
            .then(function (data) {
            console.log(data);
        });
        this.navCtrl.push(comp, {
            id: id
        });
    };
    __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChild"])(__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"]),
        __metadata("design:type", __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["Navbar"])
    ], DocumentsResult.prototype, "navBar", void 0);
    DocumentsResult = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-documents-result',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_result/documents_result.html"*/'<ion-header>\n\n  <ion-navbar>\n    <ion-title>Documents Result</ion-title>\n    <ion-buttons right>\n      <button ion-button  icon-only [navPush] = "documentConditions" [navParams]="params"> <ion-icon ios="ios-options" md="md-options" item-end color="red"><ion-badge class="custom-bagde" *ngIf="conditions?.length > 0 && conditions[0].value !== \'\'" color="danger">{{conditions?.length}}</ion-badge></ion-icon></button>\n      \n    </ion-buttons>\n  </ion-navbar>\n \n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)"></ion-searchbar>\n</ion-header>\n\n\n<ion-content >\n	<ion-list>\n      <ion-item  *ngFor="let d of documents; let i = index" class="item item-block item-ios {{d.opened ? \'opened\' : \'not-opened\'}}">\n        <h2 >{{d.designation}}</h2>\n        <p text-capitalize>{{d.cat_name}} - {{d.sub_cat_name}}</p>\n        <button ion-button small item-end outline (click)="view(page.view,d.id,i)">View</button>\n        <button ion-button small item-end outline  (click)="view(page.info,d.id,i)">Info</button>\n      </ion-item>\n\n      <ion-item *ngIf="documents?.length == 0" >\n        <p>No result found</p>\n      </ion-item>\n    \n    </ion-list>\n\n    <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  	</ion-infinite-scroll>\n</ion-content>\n\n<ion-footer>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_result/documents_result.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_8__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"]])
    ], DocumentsResult);
    return DocumentsResult;
}());

//# sourceMappingURL=documents_result.js.map

/***/ }),

/***/ 916:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Users; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__ = __webpack_require__(46);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__documents_list_documents_list__ = __webpack_require__(42);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var Users = (function () {
    function Users(navCtrl, actionSheetCtrl, authService, alertCtrl, Notifications, DocumentService, navParams, session, globalVars) {
        var _this = this;
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.authService = authService;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.DocumentService = DocumentService;
        this.navParams = navParams;
        this.session = session;
        this.globalVars = globalVars;
        this.users = [];
        this.config = __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */];
        this.Notifications.presentLoader();
        this.authService.getUserByOrg(this.navParams.get('org_id'))
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.users = data.users;
            _this.selected_users = new Array(_this.users.length);
        });
    }
    Users.prototype.getUrl = function (user) {
        console.log(user.profile_pic);
        return this.config.api_url + 'documents/download?fileName=' + user.profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic' + '&org_id=' + this.navParams.get('org_id');
    };
    Users.prototype.share = function () {
        var _this = this;
        console.log(this.selected_users);
        var users = [];
        this.selected_users.forEach(function (bool, ind) {
            users.push(_this.users[ind]);
        });
        this.DocumentService.shareDocument({ "doc_id": this.navParams.get('doc_id'), "users": users }).then(function (data) {
            _this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_8__documents_list_documents_list__["a" /* DocumentsList */]);
            _this.Notifications.presentToast('Shared Successfull');
        });
    };
    Users = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-users-documents',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_share/users/users.html"*/'<ion-header>\n  <ion-navbar  hide-back-button="true">\n   <button ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n    <ion-title>\n      Users\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="share()" clear>Share</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n    <ion-list inset >\n      <ion-item *ngFor="let user of users; let i = index "  >\n        <ion-avatar item-start>\n          <img src="{{getUrl(user)}}">\n        </ion-avatar>\n        <ion-label>{{user.name}}</ion-label>\n        <ion-checkbox [(ngModel)]="selected_users[i]" item-end></ion-checkbox>\n      </ion-item>\n    </ion-list>\n</ion-content>\n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/documents/documents_share/users/users.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_4__providers_auth_service_auth_service__["a" /* AuthServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_6__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]])
    ], Users);
    return Users;
}());

//# sourceMappingURL=users.js.map

/***/ }),

/***/ 917:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Attendees; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__ = __webpack_require__(38);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__ = __webpack_require__(12);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__ = __webpack_require__(11);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_config__ = __webpack_require__(5);
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};







var Attendees = (function () {
    function Attendees(navCtrl, actionSheetCtrl, alertCtrl, Notifications, DocumentService, navParams, session, globalVars) {
        this.navCtrl = navCtrl;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.Notifications = Notifications;
        this.DocumentService = DocumentService;
        this.navParams = navParams;
        this.session = session;
        this.globalVars = globalVars;
        this.selected_users = {};
        this.reload = false;
        this.users = [];
        this.getUsers();
    }
    Attendees.prototype.getUsers = function () {
        var _this = this;
        this.Notifications.presentLoader();
        this.DocumentService.searchUsers(this.navParams.get('search'))
            .then(function (data) {
            _this.Notifications.dismissLoader();
            if (data.error == undefined) {
                _this.users = data.users;
                _this.reload = false;
            }
            else {
                _this.Notifications.presentToast('Please Request Again');
                _this.reload = true;
            }
        });
    };
    Attendees.prototype.getUrl = function (user) {
        return __WEBPACK_IMPORTED_MODULE_6__app_config__["a" /* config */].api_url + 'documents/download?fileName=' + user.profile_pic.name + '&token=' + this.session.getToken() + '&type=profile_pic&thumb=true&' + '&org_id=' + user.org_id;
    };
    Attendees.prototype.setSelected = function (i) {
        console.log(i);
    };
    Attendees = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-select-attendees',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/attendees/attendees.html"*/'<ion-header>\n   <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    \n    <ion-title>\n      Users\n    </ion-title>\n     <ion-buttons right>\n      <button ion-button (click)="share()" clear>Share</button>\n    </ion-buttons>\n  </ion-navbar>\n</ion-header>\n\n<ion-content >\n    <ion-refresher (ionRefresh)="doRefresh($event)">\n      <ion-refresher-content></ion-refresher-content>\n    </ion-refresher>\n   \n    <ion-list >\n\n      <ion-item>\n        <ion-label>Send notification to user(s) </ion-label>\n        <ion-checkbox [(ngModel)]="send_notification" item-end></ion-checkbox>\n      </ion-item>\n\n      <ion-item *ngFor="let user of users; let i = index "  >\n        <ion-avatar item-start>\n          <img src="{{getUrl(user)}}">\n        </ion-avatar>\n        <ion-label>\n           <h2 text-capitalize >{{user.name}}</h2>\n           <p text-capitalize>{{user.org_name}}</p>\n        </ion-label>\n        <ion-checkbox [(ngModel)]="selected_users[i]" item-end (ionChange)="setSelected(i)" ></ion-checkbox>\n      </ion-item>\n\n    </ion-list>\n\n\n    <ion-grid class="grid-reload" *ngIf="reload"> \n      <ion-row text-center>\n        <ion-col> \n          <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n          <p>Connection Timeout.</p>\n          <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n\n\n    <ion-grid class="grid-reload" *ngIf=" !reload && users?.length <= 0" > \n      <ion-row text-center>\n        <ion-col>\n          <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad"></ion-icon><p>\n          <p>No Record Found.</p>\n        </ion-col>\n      </ion-row>\n    </ion-grid>\n    \n</ion-content>\n\n'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/agenda/attendees/attendees.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */], __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */], __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_4__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_3__providers_document_service_document_service__["a" /* DocumentServiceProvider */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_5__helpers_session_helper__["a" /* SessionHelper */],
            __WEBPACK_IMPORTED_MODULE_2__providers_global_vars_global_vars__["a" /* GlobalVarsProvider */]])
    ], Attendees);
    return Attendees;
}());

//# sourceMappingURL=attendees.js.map

/***/ }),

/***/ 99:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EquipmentsArticles; });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__(0);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_ionic_angular__ = __webpack_require__(2);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__ = __webpack_require__(20);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__ = __webpack_require__(3);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__models_models__ = __webpack_require__(71);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__description_description__ = __webpack_require__(61);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__create_create__ = __webpack_require__(494);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__app_config__ = __webpack_require__(5);
// AUTHOR : HS
// CREATED : 11-04-2018
// DESCRIPTION : Used to list, delete, show the levels.
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var EquipmentsArticles = (function () {
    function EquipmentsArticles(navCtrl, params, Notifications, actionSheetCtrl, alertCtrl, EquipmentService) {
        this.navCtrl = navCtrl;
        this.params = params;
        this.Notifications = Notifications;
        this.actionSheetCtrl = actionSheetCtrl;
        this.alertCtrl = alertCtrl;
        this.EquipmentService = EquipmentService;
        this.search = '';
        this.level_names = '';
        this.is_searched = false;
        this.is_request = false;
        this.current_page = 1;
        this.have_more = false;
        this.getArticles();
    }
    EquipmentsArticles.prototype.getArticles = function () {
        var _this = this;
        this.levels_data_id = this.params.get('levels_data_id');
        this.model_data_id = this.params.get('model_data_id');
        this.Notifications.presentLoader();
        this.EquipmentService.getArticles(1, this.search, this.levels_data_id, this.model_data_id)
            .then(function (data) {
            _this.Notifications.dismissLoader();
            _this.articles = data.articles_data;
            _this.attributes = data.article_attrs;
            _this.level_names = data.level_names;
            if (data.articles_data.length == __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                _this.have_more = true;
            }
        });
    };
    EquipmentsArticles.prototype.view = function (t) {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_5__description_description__["a" /* EquipmentsArticleDescription */], { id: t.id });
    };
    EquipmentsArticles.prototype.presentActionSheet = function (t) {
        var _this = this;
        var options = [];
        options = options.concat([{
                text: 'Description',
                handler: function () {
                    _this.view(t);
                }
            }, {
                text: 'Delete',
                role: 'destructive',
                handler: function () {
                    _this.delete(t);
                }
            }, {
                text: 'Cancel',
                role: 'cancel'
            }]);
        var actionSheet = this.actionSheetCtrl.create({
            title: 'Choose one option',
            buttons: options
        });
        actionSheet.present();
    };
    EquipmentsArticles.prototype.create = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_6__create_create__["a" /* EquipmentsArticleCreate */], { levels_data_id: this.levels_data_id, model_data_id: this.model_data_id });
    };
    EquipmentsArticles.prototype.delete = function (t) {
        var _this = this;
        var alert = this.alertCtrl.create({
            title: 'Are you sure?',
            message: 'Do you want to delete this article?',
            buttons: [
                {
                    text: 'Cancel',
                    role: 'cancel',
                    handler: function () {
                    }
                },
                {
                    text: 'Ok',
                    handler: function () {
                        _this.EquipmentService.deleteArticle(t.id)
                            .then(function (data) {
                            _this.getArticles();
                        });
                    }
                }
            ]
        });
        alert.present();
    };
    EquipmentsArticles.prototype.back = function () {
        this.navCtrl.push(__WEBPACK_IMPORTED_MODULE_4__models_models__["a" /* EquipmentsModels */], { levels_data_id: this.levels_data_id, parent_id: this.params.get('parent_id') });
    };
    EquipmentsArticles.prototype.getItems = function (ev) {
        var _this = this;
        if (!this.is_searched) {
            this.is_searched = true;
            this.EquipmentService.getArticles(1, this.search, this.levels_data_id, this.model_data_id)
                .then(function (data) {
                _this.is_searched = false;
                if (data.articles_data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                    _this.have_more = false;
                }
                else {
                    _this.have_more = true;
                }
                _this.articles = data.articles_data;
                _this.attributes = data.article_attrs;
                _this.level_names = data.level_names;
            });
        }
    };
    EquipmentsArticles.prototype.doRefresh = function (refresher) {
        var _this = this;
        setTimeout(function () {
            _this.getArticles();
            refresher.complete();
        }, 2000);
    };
    EquipmentsArticles.prototype.doInfinite = function (infiniteScroll) {
        var _this = this;
        if (!this.is_request) {
            this.is_request = true;
            this.EquipmentService.getArticles(++this.current_page, this.search, this.levels_data_id, this.model_data_id)
                .then(function (res) {
                _this.is_request = false;
                if (res.error == undefined) {
                    if (res.articles_data.length < __WEBPACK_IMPORTED_MODULE_7__app_config__["a" /* config */].per_page) {
                        _this.have_more = false;
                    }
                    res.articles_data.forEach(function (d) {
                        _this.articles.push(d);
                    });
                    infiniteScroll.complete();
                }
                else {
                    --_this.current_page;
                    _this.doInfinite(infiniteScroll);
                }
            });
        }
    };
    EquipmentsArticles = __decorate([
        Object(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
            selector: 'page-articles',template:/*ion-inline-start:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/articles.html"*/'<ion-header>\n  <ion-navbar hideBackButton>\n\n    <button class="myBarBtn" ion-button menuToggle>\n      <ion-icon name="menu"></ion-icon>\n    </button>\n\n    <ion-buttons left>\n      <button ion-button navPop icon-only>\n        <ion-icon ios="ios-arrow-back" md="md-arrow-back"></ion-icon>\n      </button>\n    </ion-buttons>\n    <ion-title>\n      Articles\n    </ion-title>\n  </ion-navbar>\n  <ion-searchbar [(ngModel)]="search" (ionInput)="getItems($event)">\n  </ion-searchbar>\n\n  <ion-segment color="primary" >\n    <ion-segment-button>\n      {{level_names}}\n    </ion-segment-button>\n  </ion-segment>\n\n</ion-header>\n\n<ion-content>\n\n  <ion-refresher (ionRefresh)="doRefresh($event)">\n    <ion-refresher-content></ion-refresher-content>\n  </ion-refresher>\n  \n  <div class="search-spinner" *ngIf="is_searched">\n    <ion-spinner ></ion-spinner>\n  </div> \n\n  <ion-list *ngIf="articles && attributes" >\n\n    <ion-item *ngFor="let article of articles">\n      <div (click)=\'view(article);\' >\n        <h2>{{article.attrs_data[attributes[0][\'id\']]}}</h2>\n      </div>\n      <button class="more-btn" ion-button (click)=\'presentActionSheet(article);\' item-end clear> <ion-icon name="md-more" ></ion-icon></button>\n    </ion-item>\n\n  </ion-list>\n  \n  <ion-infinite-scroll *ngIf="have_more"  (ionInfinite)="doInfinite($event)">\n    <ion-infinite-scroll-content></ion-infinite-scroll-content>\n  </ion-infinite-scroll>\n\n  <ion-grid class="grid-reload" *ngIf="reload && articles?.length <= 0"> \n    <ion-row text-center>\n      <ion-col> \n        <p><ion-icon class="connection-timeout" ios="ios-warning-outline" md="md-warning" ></ion-icon><p>\n        <p>Connection Timeout.</p>\n        <button ion-button color="light" small (click)="reloadMe()" >Retry</button>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n\n  <ion-grid class="grid-reload" *ngIf="!is_searched && !reload && articles?.length <= 0" > \n    <ion-row text-center>\n      <ion-col>\n        <p><ion-icon class="no-record-icon" ios="ios-sad-outline" md="md-sad" ></ion-icon><p>\n        <p>No Record Found.</p>\n      </ion-col>\n    </ion-row>\n  </ion-grid>\n\n</ion-content>\n\n<ion-footer>\n  \n  <ion-item class="parent-levels">\n    <ion-badge (click)="back()" >  \n      <ion-icon name="arrow-back"></ion-icon> \n      Models\n    </ion-badge>\n  </ion-item>\n\n  <ion-fab right bottom *ngIf="!reload">\n    <button class="add-btn" ion-fab (click)="create()" ><ion-icon class="add-icon" name="add"  ></ion-icon></button>\n  </ion-fab>\n</ion-footer>'/*ion-inline-end:"/var/www/html/luckApp&web/velvetFM/velvetFM/src/pages/equipments/articles/articles.html"*/,
            providers: [__WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]]
        }),
        __metadata("design:paramtypes", [__WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["NavParams"],
            __WEBPACK_IMPORTED_MODULE_3__helpers_notifications_helper__["a" /* NotificationsHelper */],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["ActionSheetController"],
            __WEBPACK_IMPORTED_MODULE_1_ionic_angular__["AlertController"],
            __WEBPACK_IMPORTED_MODULE_2__providers_equipment_service_equipment_service__["a" /* EquipmentServiceProvider */]])
    ], EquipmentsArticles);
    return EquipmentsArticles;
}());

//# sourceMappingURL=articles.js.map

/***/ })

},[546]);
//# sourceMappingURL=main.js.map